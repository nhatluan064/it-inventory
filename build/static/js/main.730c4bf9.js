/*! For license information please see main.730c4bf9.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),a=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case x:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var D=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],F=-1;function U(e){return{current:e}}function V(e){0>F||(e.current=L[F],L[F]=null,F--)}function q(e,t){F++,L[F]=e.current,e.current=t}var z=U(null),B=U(null),H=U(null),K=U(null);function W(e,t){switch(q(H,t),q(B,e),q(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(z),q(z,e)}function G(){V(z),V(B),V(H)}function Q(e){null!==e.memoizedState&&q(K,e);var t=z.current,n=id(t,e.type);t!==n&&(q(B,e),q(z,n))}function X(e){B.current===e&&(V(z),V(B)),K.current===e&&(V(K),Qd._currentValue=M)}var Y=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,$=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/pe|0)|0},me=Math.log,pe=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ve(r):0!==(s&=o)?a=ve(s):n||0!==(n=o&~e)&&(a=ve(n)):0!==(o=r&~i)?a=ve(o):0!==s?a=ve(s):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,De="__reactProps$"+Ae,Re="__reactContainer$"+Ae,Oe="__reactEvents$"+Ae,Me="__reactListeners$"+Ae,Le="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,Ue="__reactMarker$"+Ae;function Ve(e){delete e[Pe],delete e[De],delete e[Oe],delete e[Me],delete e[Le]}function qe(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Pe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Ue]=!0}var We=new Set,Ge={};function Qe(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Je,$e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,Y.call(et,a)||!Y.call(Ze,a)&&($e.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(D(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Nt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Dt=null;function Rt(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[De]||null;if(!a)throw Error(s(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Mt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Pt||null!==Dt)&&(qc(),Pt&&(t=Pt,e=Dt,Dt=Pt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Dh){Ut=!1}var qt=null,zt=null,Bt=null;function Ht(){if(Bt)return Bt;var e,t,n=zt,r=n.length,a="value"in qt?qt.value:qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Bt=a.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Wt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Xt,Yt,Jt,$t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt($t),en=h({},$t,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Xt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Xt=0,Jt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Qt(nn),an=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},$t,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},$t,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function mn(){return fn}var pn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),vn=Qt(h({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Qt(h({},$t,{newState:0,oldState:0})),xn=[9,13,27,32],wn=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var Nn=Ft&&"TextEvent"in window&&!kn,Sn=Ft&&(!wn||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),En=!1;function Tn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Dn(e,t,n,r){Pt?Dt?Dt.push(r):Dt=[r]:Pt=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,On=null;function Mn(e){Mu(e,0)}function Ln(e){if(ht(Be(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var Vn;if(Ft){var qn="oninput"in document;if(!qn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),qn="function"===typeof zn.oninput}Vn=qn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function Bn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),On=Rn=null)}function Hn(e){if("value"===e.propertyName&&Ln(On)){var t=[];Dn(t,On,e,At(e)),Mt(Mn,t)}}function Kn(e,t,n){"focusin"===e?(Bn(),On=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Bn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(On)}function Gn(e,t){if("click"===e)return Ln(t)}function Qn(e,t){if("input"===e||"change"===e)return Ln(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Y.call(t,a)||!Xn(e[a],t[a]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $n(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=Hu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),mr=hr("animationiteration"),pr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),_r=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){_r.set(e,t),Qe(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sr=[],Cr=0,Er=0;function Tr(){for(var e=Cr,t=Er=Cr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Pr(n,a,i)}}function jr(e,t,n,r){Sr[Cr++]=e,Sr[Cr++]=t,Sr[Cr++]=n,Sr[Cr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return jr(e,t,n,r),Dr(e)}function Ar(e,t){return jr(e,null,null,t),Dr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Pc)throw Pc=0,Dc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Or(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Mr(31,n,t,a)).elementType=E,e.lanes=i,e;case g:return qr(n.children,a,i,t);case y:o=8,a|=24;break;case v:return(e=Mr(12,n,t,2|a)).elementType=v,e.lanes=i,e;case k:return(e=Mr(13,n,t,a)).elementType=k,e.lanes=i,e;case N:return(e=Mr(19,n,t,a)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:o=10;break e;case _:o=9;break e;case w:o=11;break e;case S:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function qr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function zr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Kr=0,Wr=null,Gr=0,Qr=[],Xr=0,Yr=null,Jr=1,$r="";function Zr(e,t){Hr[Kr++]=Gr,Hr[Kr++]=Wr,Wr=e,Gr=t}function ea(e,t,n){Qr[Xr++]=Jr,Qr[Xr++]=$r,Qr[Xr++]=Yr,Yr=e;var r=Jr;e=$r;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var i=32-fe(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Jr=1<<32-fe(t)+a|n<<a|r,$r=i+e}else Jr=1<<i|n<<a|r,$r=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Wr;)Wr=Hr[--Kr],Hr[Kr]=null,Gr=Hr[--Kr],Hr[Kr]=null;for(;e===Yr;)Yr=Qr[--Xr],Qr[Xr]=null,$r=Qr[--Xr],Qr[Xr]=null,Jr=Qr[--Xr],Qr[Xr]=null}var ra=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw pa(Nr(Error(s(418,"")),e)),la}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[De]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Lu(Ru[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return da(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,fd(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ra?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=ra=null,ia=!1}function ma(){var e=sa;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),sa=null),e}function pa(e){null===sa?sa=[e]:sa.push(e)}var ga=U(null),ya=null,va=null;function ba(e,t,n){q(ga,t._currentValue),t._currentValue=n}function _a(e){e._currentValue=ga.current,V(ga)}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),xa(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),xa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ka(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Xn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===K.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&wa(t,e,n,r),t.flags|=262144}function Na(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ca(e){return Ta(ya,e)}function Ea(e,t){return null===ya&&Sa(e),Ta(e,t)}function Ta(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var ja="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ia=r.unstable_scheduleCallback,Aa=r.unstable_NormalPriority,Pa={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Da(){return{controller:new ja,data:new Map,refCount:0}}function Ra(e){e.refCount--,0===e.refCount&&Ia(Aa,function(){e.controller.abort()})}var Oa=null,Ma=0,La=0,Fa=null;function Ua(){if(0===--Ma&&null!==Oa){null!==Fa&&(Fa.status="fulfilled");var e=Oa;Oa=null,La=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Va=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oa){var n=Oa=[];Ma=0,La=ju(),Fa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ma++,t.then(Ua,Ua)}(0,t),null!==Va&&Va(e,t)};var qa=U(null);function za(){var e=qa.current;return null!==e?e:rc.pooledCache}function Ba(e,t){q(qa,null===t?qa.current:t.pool)}function Ha(){var e=za();return null===e?null:{parent:Pa._currentValue,pool:e}}var Ka=Error(s(460)),Wa=Error(s(474)),Ga=Error(s(542)),Qa={then:function(){}};function Xa(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ya(){}function Ja(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ya,Ya),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ya,Ya);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw $a=t,Ka}}var $a=null;function Za(){if(null===$a)throw Error(s(459));var e=$a;return $a=null,e}function ei(e){if(e===Ka||e===Ga)throw Error(s(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Dr(e),Pr(e,null,n),t}return jr(e,r,t,n),Dr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fa)throw Fa}}function ui(e,t,n,r){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var f=-536870913&o.lane,m=f!==o.lane;if(m?(ic&f)===f:(r&f)===f){0!==f&&f===La&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(y,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(y,d,f):p)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=a.callbacks)?a.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var fi=U(null),mi=U(0);function pi(e,t){q(mi,e=dc),q(fi,t),dc=e|t.baseLanes}function gi(){q(mi,dc),q(fi,fi.current)}function yi(){dc=mi.current,V(fi),V(mi)}var vi=0,bi=null,_i=null,xi=null,wi=!1,ki=!1,Ni=!1,Si=0,Ci=0,Ei=null,Ti=0;function ji(){throw Error(s(321))}function Ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Ai(e,t,n,r,a,i){return vi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Ks:Ws,Ni=!1,i=n(r,a),Ni=!1,ki&&(i=Di(t,n,r,a)),Pi(e),i}function Pi(e){R.H=Hs;var t=null!==_i&&null!==_i.next;if(vi=0,xi=_i=bi=null,wi=!1,Ci=0,Ei=null,t)throw Error(s(300));null===e||Eo||null!==(e=e.dependencies)&&Na(e)&&(Eo=!0)}function Di(e,t,n,r){bi=e;var a=0;do{if(ki&&(Ei=null),Ci=0,ki=!1,25<=a)throw Error(s(301));if(a+=1,xi=_i=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}R.H=Gs,i=t(n,r)}while(ki);return i}function Ri(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==_i?_i.memoizedState:null)!==e&&(bi.flags|=1024),t}function Oi(){var e=0!==Si;return Si=0,e}function Mi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Li(e){if(wi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wi=!1}vi=0,xi=_i=bi=null,ki=!1,Ci=Si=0,Ei=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xi?bi.memoizedState=xi=e:xi=xi.next=e,xi}function Ui(){if(null===_i){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=_i.next;var t=null===xi?bi.memoizedState:xi.next;if(null!==t)xi=t,_i=e;else{if(null===e){if(null===bi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(_i=e).memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},null===xi?bi.memoizedState=xi=e:xi=xi.next=e}return xi}function Vi(e){var t=Ci;return Ci+=1,null===Ei&&(Ei=[]),e=Ja(Ei,e,t),t=bi,null===(null===xi?t.memoizedState:xi.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Ks:Ws),e}function qi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===x)return Ca(e)}throw Error(s(438,String(e)))}function zi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function Bi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Ki(Ui(),_i,e)}function Ki(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===La&&(d=!0);else{if((vi&f)===f){u=u.next,f===La&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Ni&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Xn(i,e.memoizedState)&&(Eo=!0,d&&null!==(n=Fa)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wi(e){var t=Ui(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Xn(i,t.memoizedState)||(Eo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,a=Ui(),i=ia;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Xn((_i||a).memoizedState,n);if(o&&(a.memoizedState=n,Eo=!0),a=a.queue,gs(2048,8,Yi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==xi&&1&xi.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Xi.bind(null,r,a,n,t),null),null===rc)throw Error(s(349));i||0!==(124&vi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&$i(e)}function Yi(e,t,n){return n(function(){Ji(t)&&$i(e)})}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function $i(e){var t=Ar(e,2);null!==t&&Mc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Ki(e,_i,"function"===typeof r?r:Bi)}function ts(e,t,n,r,a){if(qs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==R.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ns(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ns(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=R.T,s={};R.T=s;try{var o=n(a,r),l=R.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){is(e,t,c)}finally{R.T=i}}else try{rs(e,t,i=n(a,r))}catch(u){is(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){as(e,t,n)},function(n){return is(e,t,n)}):as(e,t,n)}function as(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ia){var n=rc.formState;if(null!==n){e:{var r=bi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Fs.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=Vs.bind(null,bi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=a,n=ts.bind(null,bi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(Ui(),_i,e)}function us(e,t,n){if(t=Ki(e,t,os)[0],e=Hi(Bi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vi(t)}catch(s){if(s===Ka)throw Ga;throw s}else r=t;var a=(t=Ui()).queue,i=a.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,a,n),null)),[r,i,e]}function ds(e,t){e.action=t}function hs(e){var t=Ui(),n=_i;if(null!==n)return us(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Ui().memoizedState}function ps(e,t,n,r){var a=Fi();r=void 0===r?null:r,bi.flags|=e,a.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var a=Ui();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==_i&&null!==r&&Ii(r,_i.memoizedState.deps)?a.memoizedState=fs(t,i,n,r):(bi.flags|=e,a.memoizedState=fs(1|t,i,n,r))}function ys(e,t){ps(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function _s(e,t){return gs(4,4,e,t)}function xs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ws(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,xs.bind(null,t,e),n)}function ks(){}function Ns(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ii(t,r[1]))return r[0];if(r=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Cs(e,t,n){return void 0===n||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bi.lanes|=e,fc|=e,n)}function Es(e,t,n,r){return Xn(n,t)?n:null!==fi.current?(e=Cs(e,n,r),Xn(e,t)||(Eo=!0),e):0===(42&vi)?(Eo=!0,e.memoizedState=n):(e=Oc(),bi.lanes|=e,fc|=e,t)}function Ts(e,t,n,r,a){var i=O.p;O.p=0!==i&&8>i?i:8;var s=R.T,o={};R.T=o,Vs(e,!1,t,n);try{var l=a(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Rc());else Us(e,t,r,Rc())}catch(u){Us(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{O.p=i,R.T=s}}function js(){}function Is(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=As(e).queue;Ts(e,a,t,M,null===n?js:function(){return Ps(e),n(r)})}function As(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ps(e){Us(e,As(e).next.queue,{},Rc())}function Ds(){return Ca(Qd)}function Rs(){return Ui().memoizedState}function Os(){return Ui().memoizedState}function Ms(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=ii(t,e=ai(n),n);return null!==r&&(Mc(r,t,n),si(r,t,n)),t={cache:Da()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qs(e)?zs(t,n):null!==(n=Ir(e,t,n,r))&&(Mc(n,e,r),Bs(n,t,r))}function Fs(e,t,n){Us(e,t,n,Rc())}function Us(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qs(e))zs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Xn(o,s))return jr(e,t,a,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Ir(e,t,a,r)))return Mc(n,e,r),Bs(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:ju(),action:r,hasEagerState:!1,eagerState:null,next:null},qs(e)){if(t)throw Error(s(479))}else null!==(t=Ir(e,n,r,2))&&Mc(t,e,2)}function qs(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function zs(e,t){ki=wi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Hs={readContext:Ca,use:qi,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useLayoutEffect:ji,useInsertionEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useSyncExternalStore:ji,useId:ji,useHostTransitionStatus:ji,useFormState:ji,useActionState:ji,useOptimistic:ji,useMemoCache:ji,useCacheRefresh:ji},Ks={readContext:Ca,use:qi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ps(4194308,4,xs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){ps(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var a=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ls.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Fs.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Cs(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Ts.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,a=Fi();if(ia){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Qi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,ys(Yi.bind(null,r,i,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Xi.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(ia){var n=$r;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ti++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:zi,useCacheRefresh:function(){return Fi().memoizedState=Ms.bind(null,bi)}},Ws={readContext:Ca,use:qi,useCallback:Ns,useContext:Ca,useEffect:vs,useImperativeHandle:ws,useInsertionEffect:bs,useLayoutEffect:_s,useMemo:Ss,useReducer:Hi,useRef:ms,useState:function(){return Hi(Bi)},useDebugValue:ks,useDeferredValue:function(e,t){return Es(Ui(),_i.memoizedState,e,t)},useTransition:function(){var e=Hi(Bi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Rs,useHostTransitionStatus:Ds,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Ui(),0,e,t)},useMemoCache:zi,useCacheRefresh:Os},Gs={readContext:Ca,use:qi,useCallback:Ns,useContext:Ca,useEffect:vs,useImperativeHandle:ws,useInsertionEffect:bs,useLayoutEffect:_s,useMemo:Ss,useReducer:Wi,useRef:ms,useState:function(){return Wi(Bi)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Ui();return null===_i?Cs(n,e,t):Es(n,_i.memoizedState,e,t)},useTransition:function(){var e=Wi(Bi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Rs,useHostTransitionStatus:Ds,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Ui();return null!==_i?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:zi,useCacheRefresh:Os},Qs=null,Xs=0;function Ys(e){var t=Xs;return Xs+=1,null===Qs&&(Qs=[]),Ja(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $s(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&Zs(i)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=qr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Js(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Br(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(D(t)||I(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ys(t),n);if(t.$$typeof===x)return h(e,Ea(e,t),n);$s(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case p:return n.key===a?u(e,t,n,r):null;case C:return f(e,t,n=(a=n._init)(n._payload),r)}if(D(n)||I(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ys(n),r);if(n.$$typeof===x)return f(e,t,Ea(e,n),r);$s(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(D(r)||I(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,Ys(r),a);if(r.$$typeof===x)return y(e,t,n,Ea(t,r),a);$s(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&Zs(b)===c.type){n(l,c.sibling),Js(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Js(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case p:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Br(u,l.mode,d)).return=l,l=d}return o(l);case C:return v(l,c,u=(b=u._init)(u._payload),d)}if(D(u))return function(a,s,o,l){for(var c=null,u=null,d=s,m=s=0,p=null;null!==d&&m<o.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var g=f(a,d,o[m],l);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g,d=p}if(m===o.length)return n(a,d),ia&&Zr(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return ia&&Zr(a,m),c}for(d=r(d);m<o.length;m++)null!==(p=y(d,a,m,o[m],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),s=i(p,s,m),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(a,e)}),ia&&Zr(a,m),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=o,p=o=0,g=null,v=l.next();null!==m&&!v.done;p++,v=l.next()){m.index>p?(g=m,m=null):g=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),o=i(b,o,p),null===d?u=b:d.sibling=b,d=b,m=g}if(v.done)return n(a,m),ia&&Zr(a,p),u;if(null===m){for(;!v.done;p++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,p),null===d?u=v:d.sibling=v,d=v);return ia&&Zr(a,p),u}for(m=r(m);!v.done;p++,v=l.next())null!==(v=y(m,a,p,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?p:v.key),o=i(v,o,p),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),ia&&Zr(a,p),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ys(u),d);if(u.$$typeof===x)return v(l,c,Ea(l,u),d);$s(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=zr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Xs=0;var a=v(e,t,n,r);return Qs=null,a}catch(s){if(s===Ka||s===Ga)throw s;var i=Mr(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=U(null),ao=null;function io(e){var t=e.alternate;q(co,1&co.current),q(ro,e),null===ao&&(null===t||null!==fi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(q(co,co.current),q(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){q(co,co.current),q(ro,ro.current)}function lo(e){V(ro),ao===e&&(ao=null),V(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=ai(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Mc(t,e,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=ai(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Mc(t,e,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=ai(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Mc(t,e,n),si(t,e,n))}};function mo(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(a,i))}function po(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function _o(e){yo(e)}function xo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function wo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){xo(e,t)},n}function No(e){return(e=ai(e)).tag=3,e}function So(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){wo(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){wo(t,n,r),"function"!==typeof a&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Co=Error(s(461)),Eo=!1;function To(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function jo(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Sa(t),r=Ai(e,t,n,s,i,a),o=Oi(),null===e||Eo?(ia&&o&&ta(t),t.flags|=1,To(e,t,r,a),t.child):(Mi(e,t,a),Xo(e,t,a))}function Io(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Lr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ao(e,t,i,r,a))}if(i=e.child,!Yo(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Xo(e,t,a)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=i,!Yo(e,a))return t.lanes=e.lanes,Xo(e,t,a);0!==(131072&e.flags)&&(Eo=!0)}}return Oo(e,t,n,r,a)}function Po(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Do(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ba(0,null!==i?i.cachePool:null),null!==i?pi(t,i):gi(),so(t)}else null!==i?(Ba(0,i.cachePool),pi(t,i),oo(),t.memoizedState=null):(null!==e&&Ba(0,null),gi(),oo());return To(e,t,a,n),t.child}function Do(e,t,n,r){var a=za();return a=null===a?null:{parent:Pa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ba(0,null),gi(),so(t),null!==e&&ka(e,t,r,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,a){return Sa(t),n=Ai(e,t,n,r,void 0,a),r=Oi(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,To(e,t,n,a),t.child):(Mi(e,t,a),Xo(e,t,a))}function Mo(e,t,n,r,a,i){return Sa(t),t.updateQueue=null,n=Di(t,r,n,a),Pi(e),r=Oi(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,To(e,t,n,i),t.child):(Mi(e,t,i),Xo(e,t,i))}function Lo(e,t,n,r,a){if(Sa(t),null===t.stateNode){var i=Rr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Ca(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Ca(s):Rr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;s=Rr,"object"===typeof u&&null!==u&&(s=Ca(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&po(t,i,r,s),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||mo(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Ca(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&po(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),ci();var f=t.memoizedState;s!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Na(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ti||mo(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Na(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ro(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):To(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Xo(e,t,a),e}function Fo(e,t,n,r){return fa(),t.flags|=256,To(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Ha()}}function qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function zo(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Jr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),a=qr(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Vo(n),i.childLanes=qo(e,r,n),t.memoizedState=Uo,a):(io(t),Bo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Ko(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),(i=qr(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=Vo(n),a.childLanes=qo(e,r,n),t.memoizedState=Uo,t=i);else if(io(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(s(419))).stack="",a.digest=r,pa({value:a,source:null,stack:null}),t=Ko(e,t,n)}else if(Eo||ka(e,t,n,!1),r=0!==(n&e.childLanes),Eo||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Te(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Ar(e,a),Mc(r,e,a),Co;"$?"===c.data||Gc(),t=Ko(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),ra=t,ia=!0,sa=null,oa=!1,null!==e&&(Qr[Xr++]=Jr,Qr[Xr++]=$r,Qr[Xr++]=Yr,Jr=e.id,$r=e.overflow,Yr=t),(t=Bo(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Fr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=qr(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Pa._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ha(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=qo(e,r,n),t.memoizedState=Uo,a):(io(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Bo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ko(e,t,n){return to(t,e.child,null,n),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Go(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(To(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(q(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Go(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ka(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Na(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),ba(0,Pa,e.memoizedState.cache),fa();break;case 27:case 5:Q(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(io(t),null!==(e=Xo(e,t,n))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ka(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:ba(0,Pa,e.memoizedState.cache)}return Xo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,ia&&0!==(1048576&t.flags)&&ea(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===w){t.tag=11,t=jo(null,t,r,e,n);break e}if(a===S){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=P(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ba(0,Pa,r),r!==i.cache&&wa(t,[Pa],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==a){pa(a=Nr(Error(s(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ra=t,ia=!0,sa=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Xo(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Pe]=t,r[De]=e,ed(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ia&&(r=t.stateNode=_d(t.type,t.pendingProps,H.current),ra=t,oa=!0,a=aa,fd(t.type)?(vd=a,aa=yd(r.firstChild)):aa=a),To(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=yd(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),Q(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,sd(a,i)?r=null:null!==o&&sd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ai(e,t,Ri,null,null,n),Qd._currentValue=a),Ro(e,t),To(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return zo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):To(e,t,r,n),t.child;case 11:return jo(e,t,t.type,t.pendingProps,n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),To(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Sa(t),r=r(a=Ca(a)),t.flags|=1,To(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Sa(t),r=Ca(Pa),null===e?(null===(a=za())&&(a=rc,i=Da(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ni(t),ba(0,Pa,a)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Pa,r)):(r=i.cache,ba(0,Pa,r),r!==a.cache&&wa(t,[Pa],n,!0))),To(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function $o(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ao))throw $a=Qa,Wa;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_a(Pa),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?$o(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ma())),nl(t),null;case 26:return n=t.memoizedState,null===e?($o(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?($o(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&$o(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$o(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=z.current,ha(t)?ua(t):(e=_d(a,r,n),t.stateNode=e,$o(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$o(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=z.current,ha(t))ua(t);else{switch(a=rd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Pe]=t,e[De]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$o(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&$o(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Pe]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=ma(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return _a(t.type),nl(t),null;case 19:if(V(co),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return q(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>wc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return nl(t),null}else 2*te()-a.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,q(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(Pa),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _a(Pa),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return _a(t.type),null;case 22:case 23:return lo(t),yi(),null!==e&&V(qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _a(Pa),null;default:return null}}function il(e,t){switch(na(t),t.tag){case 3:_a(Pa),G();break;case 26:case 27:case 5:X(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:_a(t.type);break;case 22:case 23:lo(t),yi(),null!==e&&V(qa);break;case 24:_a(Pa)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){uu(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||$u(e,t,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:m!==h&&$u(e,t,f,m,r,h)}}return void gt(e,o,l,c,u,d,i,a);case"select":for(i in m=o=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(i)||$u(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&$u(e,t,a,i,r,c)}return t=l,n=o,r=m,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$u(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&$u(e,t,o,a,r,i)}return void _t(e,f,m);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else $u(e,t,p,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else $u(e,t,c,f,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&$u(e,t,g,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:$u(e,t,u,f,r,m)}return;default:if(Ct(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||Zu(e,t,d,f,r,m);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&$u(e,t,v,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||null==f&&null==m||$u(e,t,h,f,r,m)}(r,e.type,n,t),r[De]=t}catch(a){uu(e,e.return,a)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function pl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Pe]=e,t[De]=n}catch(i){uu(e,e.return,i)}}var bl=!1,_l=!1,xl=!1,wl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||_l,a=bl;var i=_l;bl=r,(_l=t)&&!i?Ul(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=a,_l=i}break;case 30:break;default:Ll(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,El=!1;function Tl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:_l||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_l||dl(n,t);var r=Cl,a=El;fd(n.type)&&(Cl=n.stateNode,El=!1),Tl(e,t,n),xd(n.stateNode),Cl=r,El=a;break;case 5:_l||dl(n,t);case 6:if(r=Cl,a=El,Cl=null,Tl(e,t,n),El=a,null!==(Cl=r))if(El)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Cl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Cl&&(El?(md(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):md(Cl,n.stateNode));break;case 4:r=Cl,a=El,Cl=n.stateNode.containerInfo,El=!0,Tl(e,t,n),Cl=r,El=a;break;case 0:case 11:case 14:case 15:_l||ol(2,n,t),_l||ol(4,n,t),Tl(e,t,n);break;case 1:_l||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:_l=(r=_l)||null!==n.memoizedState,Tl(e,t,n),_l=r;break;default:Tl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new wl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new wl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Cl=l.stateNode,El=!1;break e}break;case 5:Cl=l.stateNode,El=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Cl)throw Error(s(160));jl(i,o,a),Cl=null,El=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Dl=null;function Rl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ol(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Ol(e),512&r&&(_l||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Dl;if(Pl(t,e),Ol(e),512&r&&(_l||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Ue]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,r,n),i[Pe]=e,Ke(i),r=i;break e;case"link":var o=Ud("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=Ud("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Pe]=e,Ke(i),r=i}e.stateNode=r}else Vd(a,e.type,e.stateNode);else e.stateNode=Rd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Vd(a,e.type,e.stateNode):Rd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ol(e),512&r&&(_l||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ol(e),512&r&&(_l||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{wt(a,"")}catch(m){uu(e,e.return,m)}}4&r&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(xl=!0);break;case 6:if(Pl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){uu(e,e.return,m)}}break;case 3:if(Fd=null,a=Dl,Dl=Nd(t.containerInfo),Pl(t,e),Dl=a,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){uu(e,e.return,m)}xl&&(xl=!1,Ml(e));break;case 4:r=Dl,Dl=Nd(e.stateNode.containerInfo),Pl(t,e),Ol(e),Dl=r;break;case 12:default:Pl(t,e),Ol(e);break;case 13:Pl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=_l;if(bl=u||a,_l=d||c,Pl(t,e),_l=d,bl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||bl||_l||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){uu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){uu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,pl(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(wt(i,""),n.flags&=-33),yl(e,pl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,pl(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ul(a,i,n),sl(4,i);break;case 1:if(Ul(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:Ul(a,i,n),n&&null===r&&4&s&&hl(i),ul(i,i.return);break;case 12:Ul(a,i,n);break;case 13:Ul(a,i,n),n&&4&s&&Il(a,i);break;case 22:null===i.memoizedState&&Ul(a,i,n),ul(i,i.return);break;case 30:break;default:Ul(a,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ra(n))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e))}function zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Bl(e,t,n,r),t=t.sibling}function Bl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:zl(e,t,n,r),2048&a&&sl(9,t);break;case 1:case 13:default:zl(e,t,n,r);break;case 3:zl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e)));break;case 12:if(2048&a){zl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else zl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?zl(e,t,n,r):Kl(e,t):2&i._visibility?zl(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Vl(s,t);break;case 24:zl(e,t,n,r),2048&a&&ql(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(i,s,o,l,a),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(i,s,o,l,a):Kl(i,s):(u._visibility|=2,Hl(i,s,o,l,a)),a&&2048&c&&Vl(s.alternate,s);break;case 24:Hl(i,s,o,l,a),a&&2048&c&&ql(s.alternate,s);break;default:Hl(i,s,o,l,a)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Kl(n,r),2048&a&&Vl(r.alternate,r);break;case 24:Kl(n,r),2048&a&&ql(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Wl=8192;function Gl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===zd)throw Error(s(475));var r=zd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=jd(n.href),i=e.querySelector(Id(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Ke(i);i=e.ownerDocument||e,n=Ad(n),(a=wd.get(a))&&Md(n,a),Ke(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Dl;Dl=Nd(e.stateNode.containerInfo),Gl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Gl(e),Wl=t):Gl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,$l(e)):Yl(e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),$l(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,$l(t));break;default:$l(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ra(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var a=(r=kl).sibling,i=r.return;if(Sl(r),r===n){kl=null;break e}if(null!==a){a.return=i,kl=a;break e}kl=i}}}var ec={getCacheForType:function(e){var t=Ca(Pa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,ic=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,mc=0,pc=0,gc=0,yc=0,vc=null,bc=null,_c=!1,xc=0,wc=1/0,kc=null,Nc=null,Sc=0,Cc=null,Ec=null,Tc=0,jc=0,Ic=null,Ac=null,Pc=0,Dc=null;function Rc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==R.T){return 0!==La?La:ju()}return Ie()}function Oc(){0===gc&&(gc=0===(536870912&ic)||ia?we():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Bc(e,0),Vc(e,ic,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(mc|=n),4===hc&&Vc(e,ic,gc,!1)),wu(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||_e(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Kc(),a=Wc();rc!==e||ic!==t?(kc=null,wc=te()+500,Bc(e,t)):cc=_e(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var i=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Xa(i)){sc=0,oc=null,$c(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),wu(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Xa(i)?(sc=0,oc=null,$c(t)):(sc=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||qd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}sc=0,oc=null,Zc(e,t,i,5);break;case 6:sc=0,oc=null,Zc(e,t,i,6);break;case 8:zc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(d){Hc(e,d)}return va=ya=null,R.H=r,R.A=a,nc=n,null!==ac?0:(rc=null,ic=0,Tr(),hc)}(e,t):Qc(e,t,!0),i=r;;){if(0===a){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!i||Uc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Bc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,mc|=i,a=4;break e}i=bc,bc=a,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Bc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=xc+300-te())){if(Vc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,kc,_c,t,gc,mc,yc,lc,i,2,-0,0),a)}else Fc(r,n,bc,kc,_c,t,gc,mc,yc,lc,i,0,-0,0)}break}a=Qc(e,t,!1),i=!1}wu(e)}function Fc(e,t,n,r,a,i,o,l,c,u,d,h,f,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(zd={stylesheets:null,count:0,unsuspend:Bd},Ql(t),null!==(h=function(){if(null===zd)throw Error(s(475));var e=zd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,a,o,l,c,d,1,f,m)),void Vc(e,i,o,!u);nu(e,t,i,n,r,a,o,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Xn(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~pc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Ce(e,n,t)}function qc(){return 0!==(6&nc)||(ku(0,!1),!1)}function zc(){if(null!==ac){if(0===sc)var e=ac.return;else va=ya=null,Li(e=ac),Qs=null,Xs=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function Bc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),rc=e,ac=n=Fr(e.current,null),ic=t,sc=0,oc=null,lc=!1,cc=_e(e,t),uc=!1,yc=gc=pc=mc=fc=hc=0,bc=vc=null,_c=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),i=1<<a;t|=e[a],r&=~i}return dc=t,Tr(),n}function Hc(e,t){bi=null,R.H=Hs,t===Ka||t===Ga?(t=Za(),sc=3):t===Wa?(t=Za(),sc=4):sc=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,xo(e,Nr(t,e.current)))}function Kc(){var e=R.H;return R.H=Hs,null===e?Hs:e}function Wc(){var e=R.A;return R.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&mc)||null===rc||Vc(rc,ic,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var a=Kc(),i=Wc();rc===e&&ic===t||(kc=null,Bc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ac){var o=ac,l=oc;switch(sc){case 8:zc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Xc(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,nc=r,R.H=a,R.A=i,null===ac&&(rc=null,ic=0,Tr()),s}function Xc(){for(;null!==ac;)Jc(ac)}function Yc(){for(;null!==ac&&!Z();)Jc(ac)}function Jc(e){var t=Jo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function $c(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Mo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(n,t),t=Jo(n,t=ac=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){va=ya=null,Li(t),Qs=null,Xs=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ka(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(s(435,n.tag))}return du(e,r,a),Gc(),!1}if(ia)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&pa(Nr(e=Error(s(422),{cause:r}),n))):(r!==la&&pa(Nr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Nr(r,n),oi(e,a=ko(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=Nr(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,oi(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,So(a=No(a),e,n,r),oi(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return hc=1,xo(e,Nr(n,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,xo(e,Nr(n,e.current)),void(ac=null)}32768&t.flags?(ia||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);hc=6,ac=null}function nu(e,t,n,r,a,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Sc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ce(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Er,o,l,c),e===rc&&(ac=rc=null,ic=0),Ec=t,Cc=e,Tc=n,jc=i,Ic=a,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,a=O.p,O.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var p=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(p,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,O.p=a,R.T=r}}Sc=1,ru(),au(),iu()}}function ru(){if(1===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var a=nc;nc|=4;try{Rl(t,e);var i=nd,s=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=o.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!f.extend&&p>g&&(s=g,g=p,p=s);var y=$n(o,p),v=$n(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),p>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var _=d[o];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}nh=!!td,nd=td=null}finally{nc=a,O.p=r,R.T=n}}e.current=t,Sc=2}}function au(){if(2===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var a=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=a,O.p=r,R.T=n}}Sc=3}}function iu(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ec,n=Tc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Cc=null,su(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Nc=null),je(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,a=O.p,O.p=2,R.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{R.T=t,O.p=a}}0!==(3&Tc)&&ou(),wu(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Dc?Pc++:(Pc=0,Dc=e):Pc=0,ku(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ra(t)))}function ou(e){return ru(),au(),iu(),lu()}function lu(){if(5!==Sc)return!1;var e=Cc,t=jc;jc=0;var n=je(Tc),r=R.T,a=O.p;try{O.p=32>n?32:n,R.T=null,n=Ic,Ic=null;var i=Cc,o=Tc;if(Sc=0,Ec=Cc=null,Tc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Jl(i.current),Bl(i,i.current,o,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{O.p=a,R.T=r,su(e,t)}}function cu(e,t,n){t=Nr(n,t),null!==(e=ii(e,t=ko(e.stateNode,t,2),2))&&(Se(e,2),wu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=ii(t,n=No(2),2))&&(So(n,r,t,e),Se(r,2),wu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-xc?0===(2&nc)&&Bc(e,0):pc|=n,yc===ic&&(yc=0)),wu(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Ar(e,t))&&(Se(e,t),wu(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,_u=!1,xu=0;function wu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?J(re,Nu):Su()}))}function ku(e,t){if(!_u&&bu){_u=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Tu(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,i)||(n=!0,Tu(r,i));r=r.next}}while(n);_u=!1}}function Nu(){Su()}function Su(){bu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,i=Cu(r,t);0===i?(r.next=null,null===n?gu=a:n.next=a,null===a&&(yu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=a}ku(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=xe(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&$(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&$(r),je(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Eu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&$(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Tu(e,t){if(ou())return null;Lc(e,t,!0)}function ju(){return 0===xu&&(xu=we()),xu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<xr.length;Pu++){var Du=xr[Pu];wr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}wr(fr,"onAnimationEnd"),wr(mr,"onAnimationIteration"),wr(pr,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(gr,"onTransitionRun"),wr(yr,"onTransitionStart"),wr(vr,"onTransitionCancel"),wr(br,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}}}}function Lu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function qu(e,t,n,r){switch(ch(t)){case 2:var a=rh;break;case 8:a=ah;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function zu(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=qe(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}o=o.parentNode}}r=r.return}Mt(function(){var r=i,a=At(n),s=[];e:{var o=_r.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=pn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case mr:case pr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=_n}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=r;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Lt(p,f))&&d.push(Bu(p,g,m)),h)break;p=p.return}0<d.length&&(o=new c(o,u,null,n,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!qe(u)&&!u[Re])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?o:Be(c),m=null==u?o:Be(u),(o=new d(g,p+"leave",c,n,a)).target=h,o.relatedTarget=m,g=null,qe(a)===r&&((d=new d(f,p+"enter",u,n,a)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,p=0,m=d=c;m;m=Ku(m))p++;for(m=0,g=f;g;g=Ku(g))m++;for(;0<p-m;)d=Ku(d),p--;for(;0<m-p;)f=Ku(f),m--;for(;p--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&Wu(s,o,c,d,!1),null!==u&&null!==h&&Wu(s,h,u,d,!0)}if("select"===(c=(o=r?Be(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Pn(o))if(Un)y=Qn;else{y=Wn;var v=Kn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(y=Fn):y=Gn;switch(y&&(y=y(e,r))?Dn(s,y,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?Be(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,a)}var b;if(wn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else In?Tn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Sn&&"ko"!==n.locale&&(In||"onCompositionStart"!==_?"onCompositionEnd"===_&&In&&(b=Ht()):(zt="value"in(qt=a)?qt.value:qt.textContent,In=!0)),0<(v=Hu(r,_)).length&&(_=new cn(_,e,null,n,a),s.push({event:_,listeners:v}),b?_.data=b:null!==(b=jn(n))&&(_.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(En=!0,Cn);case"textInput":return(e=t.data)===Cn&&En?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!wn&&Tn(e,t)?(e=Ht(),Bt=zt=qt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),s.push({event:v,listeners:_}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Iu((a[De]||null).action),s=r.submitter;s&&null!==(t=(t=s[De]||null)?Iu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=s?Au(a,s):new FormData(a);Is(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Au(a,s):new FormData(a),Is(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}Mu(s,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Lt(e,n))&&r.unshift(Bu(e,a,i)),null!=(a=Lt(e,t))&&r.push(Bu(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Lt(n,i))&&s.unshift(Bu(n,c,l)):a||null!=(c=Lt(n,i))&&s.push(Bu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Yu(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function $u(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||wt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&wt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&$u(e,t,"name",a.name,a,null),$u(e,t,"formEncType",a.formEncType,a,null),$u(e,t,"formMethod",a.formMethod,a,null),$u(e,t,"formTarget",a.formTarget,a,null)):($u(e,t,"encType",a.encType,a,null),$u(e,t,"method",a.method,a,null),$u(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zu(e,t,n,r,a,i){switch(n){case"style":St(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?wt(e,r):("number"===typeof r||"bigint"===typeof r)&&wt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[De]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,r,o,n,null)}}return i&&$u(e,t,"srcSet",n.srcSet,n,null),void(a&&$u(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:$u(e,t,a,d,n,null)}}return yt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Lu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:$u(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(o in Lu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:$u(e,t,o,l,n,null)}return xt(e,a,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else $u(e,t,c,a,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(a=0;a<Ru.length;a++)Lu(Ru[a],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,u,a,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&$u(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function md(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&xd(s.documentElement),2&n&&xd(s.body),4&n)for(xd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Eh(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Eh(t)}function pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function _d(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var wd=new Map,kd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=O.d;O.d={f:function(){var e=Sd.f(),t=qc();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Ps(t):Sd.r(e)},D:function(e){Sd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var r=Cd;if(r&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+pt(n.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var i=a;switch(t){case"style":i=jd(e);break;case"script":i=Pd(e)}wd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),wd.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Id(i))||"script"===t&&r.querySelector(Dd(i))||(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Cd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!wd.has(i)&&(e=h({rel:"modulepreload",href:e},t),wd.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(i)))return}ed(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Sd.X(e,t);var n=Cd;if(n&&e){var r=He(n).hoistableScripts,a=Pd(e),i=r.get(a);i||((i=n.querySelector(Dd(a)))||(e=h({src:e,async:!0},t),(t=wd.get(a))&&Ld(e,t),Ke(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Sd.S(e,t,n);var r=Cd;if(r&&e){var a=He(r).hoistableStyles,i=jd(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Id(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wd.get(i))&&Md(e,n);var l=s=r.createElement("link");Ke(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Sd.M(e,t);var n=Cd;if(n&&e){var r=He(n).hoistableScripts,a=Pd(e),i=r.get(a);i||((i=n.querySelector(Dd(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=wd.get(a))&&Ld(e,t),Ke(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Cd="undefined"===typeof document?null:document;function Ed(e,t,n){var r=Cd;if(r&&"string"===typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),kd.has(a)||(kd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var a,i,o,l,c=(c=H.current)?Nd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=jd(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=jd(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),wd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wd.set(e,n),u||(a=c,i=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),Ke(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function jd(e){return'href="'+pt(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+pt(e)+'"]'}function Dd(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Od(r,n.precedence,e),t.instance=r;case"stylesheet":a=jd(n.href);var i=e.querySelector(Id(a));if(i)return t.state.loading|=4,t.instance=i,Ke(i),i;r=Ad(n),(a=wd.get(a))&&Md(r,a),Ke(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.state.loading|=4,Od(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(a=e.querySelector(Dd(i)))?(t.instance=a,Ke(a),a):(r=n,(a=wd.get(i))&&Ld(r=h({},n),a),Ke(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Od(r,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ud(e,t,n){if(null===Fd){var r=new Map,a=Fd=new Map;a.set(n,r)}else(r=(a=Fd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Ue]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zd=null;function Bd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Gd,e),Kd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Xd(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yd(e,t,n,r,a,i,s,o,l,c,u,d){return e=new Xd(e,t,n,s,o,l,c,d),t=1,!0===i&&(t|=24),i=Mr(3,null,null,t),e.current=i,i.stateNode=e,(t=Da()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Jd(e){return e?e=Rr:Rr}function $d(e,t,n,r,a,i){a=Jd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Mc(n,0,t),si(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Mc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var a=R.T;R.T=null;var i=O.p;try{O.p=2,ih(e,t,n,r)}finally{O.p=i,R.T=a}}function ah(e,t,n,r){var a=R.T;R.T=null;var i=O.p;try{O.p=8,ih(e,t,n,r)}finally{O.p=i,R.T=a}}function ih(e,t,n,r){if(nh){var a=sh(r);if(null===a)zu(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,a),!0;case"dragenter":return hh=bh(hh,e,t,n,r,a),!0;case"mouseover":return fh=bh(fh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return mh.set(i,bh(mh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ph.set(i,bh(ph.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=ze(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ve(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}wu(i),0===(6&nc)&&(wc=te()+500,ku(0,!1))}}break;case 13:null!==(o=Ar(i,2))&&Mc(o,0,2),qc(),eh(i,2)}if(null===(i=sh(r))&&zu(e,t,r,oh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else zu(e,t,r,null,n)}}function sh(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,mh=new Map,ph=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(t.pointerId)}}function bh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ze(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function _h(e){var t=qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Te(e);var t=Ar(n,e);null!==t&&Mc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function wh(e,t,n){xh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==fh&&xh(fh)&&(fh=null),mh.forEach(wh),ph.forEach(wh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Sh=null;function Ch(e){Sh!==e&&(Sh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=ze(n);null!==i&&(e.splice(t,3),t-=3,Is(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Eh(e){function t(t){return Nh(t,e)}null!==dh&&Nh(dh,e),null!==hh&&Nh(hh,e),null!==fh&&Nh(fh,e),mh.forEach(t),ph.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)_h(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[De]||null;if("function"===typeof i)s||Ch(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[De]||null)o=s.formAction;else if(null!==lh(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ch(n)}}}function Th(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$d(t.current,Rc(),e,t,null,null)},jh.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;$d(e.current,2,null,e,null,null),qc(),t[Re]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&_h(e)}};var Ih=a.version;if("19.1.1"!==Ih)throw Error(s(527,Ih,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return u(a),e;if(i===r)return u(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ah),de=Ph}catch(Rh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=vo,i=bo,l=_o;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,a,i,l,0,null),e[Re]=t.current,Vu(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,a="",i=vo,l=bo,c=_o,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,a,i,l,c,0,u)).context=Jd(null),n=t.current,(a=ai(r=Te(r=Rc()))).callback=null,ii(n,a,r),n=r,t.current.lanes=n,Se(t,n),wu(t),e[Re]=t.current,Vu(e),new jh(t)},t.version="19.1.1"},27:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(43),o=(r=s)&&r.__esModule?r:{default:r},l=n(907),c=n(847);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildURI",value:function(){return l.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,a=n.headers,i=n.separator,s=n.filename,o=n.enclosingCharacter,c=n.uFEFF,u=t&&"function"===typeof r?r():r,d=new Blob([c?"\ufeff":"",(0,l.toCSV)(u,a,i,o)]);return window.navigator.msSaveBlob(d,s),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()})}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,i=t.separator,s=t.filename,l=t.uFEFF,c=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),h="undefined"===typeof window?"":this.buildURI(n,l,r,i,u);return o.default.createElement("a",a({download:s},d,{ref:function(t){return e.link=t},target:"_self",href:h,onClick:this.handleClick()}),c)}}]),t}(o.default.Component);u.defaultProps=c.defaultProps,u.propTypes=c.propTypes,t.default=u},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,p(_,y.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function j(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return j((u=e._init)(e._payload),t,a,i,s)}}if(u)return s=s(e),u=""===i?"."+E(e,0):i,x(s)?(a="",null!=u&&(a=u.replace(C,"$&/")+"/"),j(s,t,a,"",function(e){return e})):null!=s&&(S(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+u,s=N(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,m=""===i?".":i+":";if(x(e))for(var p=0;p<e.length;p++)u+=j(i=e[p],t,a,o=m+E(i,p),s);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(i=e.next()).done;)u+=j(i=i.value,t,a,o=m+E(i,p++),s);else if("object"===o){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],a=0;return j(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return N(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return N(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),a=w.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,P)}catch(i){P(i)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=w.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.1"},378:(e,t,n)=>{e.exports=n(918)},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(43),s=(r=i)&&r.__esModule?r:{default:r},o=n(907),l=n(847);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return o.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,a=e.enclosingCharacter,i=e.uFEFF,s=e.target,o=e.specs,l=e.replace;this.state.page=window.open(this.buildURI(t,i,n,r,a),s,o,l)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(s.default.Component);c.defaultProps=Object.assign(l.defaultProps,{target:"_blank"}),c.propTypes=l.propTypes,t.default=c},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,a=n(43),i=((r=a)&&r.__esModule,n(173));t.propTypes={data:(0,i.oneOfType)([i.string,i.array,i.func]).isRequired,headers:i.array,target:i.string,separator:i.string,filename:i.string,uFEFF:i.bool,onClick:i.func,asyncOnClick:i.bool,enclosingCharacter:i.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,N||(N=!0,k());else{var t=r(u);null!==t&&P(w,t.startTime-e)}}var k,N=!1,S=-1,C=5,E=-1;function T(){return!!y||!(t.unstable_now()-E<C)}function j(){if(y=!1,N){var e=t.unstable_now();E=e;var n=!0;try{e:{p=!1,g&&(g=!1,b(S),S=-1),m=!0;var i=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&a(c),x(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(w,l.startTime-e),n=!1}}break e}finally{h=null,f=i,m=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof _)k=function(){_(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=j,k=function(){A.postMessage(null)}}else k=function(){v(j,0)};function P(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,P(w,i-s))):(e.sortIndex=o,n(c,e),p||m||(p=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},i=t.isJsons=function(e){return Array.isArray(e)&&e.every(function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)})},s=t.isArrays=function(e){return Array.isArray(e)&&e.every(function(e){return Array.isArray(e)})},o=t.jsonsHeaders=function(e){return Array.from(e.map(function(e){return Object.keys(e)}).reduce(function(e,t){return new Set([].concat(r(e),r(t)))},[]))},l=t.jsons2arrays=function(e,t){var n=t=t||o(e),a=t;i(t)&&(n=t.map(function(e){return e.label}),a=t.map(function(e){return e.key}));var s=e.map(function(e){return a.map(function(t){return c(t,e)})});return[n].concat(r(s))},c=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(e,t,n,r){var a=e[t];if(void 0!==a&&null!==a)return a;r.splice(1)},t);return void 0===n?e in t?t[e]:"":n},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},d=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter(function(e){return e}).map(function(e){return e.map(function(e){return u(e)}).map(function(e){return""+n+e+n}).join(t)}).join("\n")},h=t.arrays2csv=function(e,t,n,a){return d(t?[t].concat(r(e)):e,n,a)},f=t.jsons2csv=function(e,t,n,r){return d(l(e,t),n,r)},m=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},p=t.toCSV=function(e,t,n,r){if(i(e))return f(e,t,n,r);if(s(e))return h(e,t,n,r);if("string"===typeof e)return m(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,i){var s=p(e,n,r,i),o=a()?"application/csv":"text/csv",l=new Blob([t?"\ufeff":"",s],{type:o}),c="data:"+o+";charset=utf-8,"+(t?"\ufeff":"")+s,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?c:u.createObjectURL(l)}},918:(e,t,n)=>{"use strict";t.CSVLink=void 0;var r=i(n(483)),a=i(n(27));function i(e){return e&&e.__esModule?e:{default:e}}r.default,t.CSVLink=a.default},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".96453769.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-app:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let c={data:""},u=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||c,d=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,h=/\/\*[^]*?\*\/|  +/g,f=/\n+/g,m=(e,t)=>{let n="",r="",a="";for(let i in e){let s=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+s+";":r+="f"==i[1]?m(s,i):i+"{"+m(s,"k"==i[1]?"":t)+"}":"object"==typeof s?r+=m(s,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=m.p?m.p(i,s):i+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+r},p={},g=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+g(e[n]);return t}return e},y=(e,t,n,r,a)=>{let i=g(e),s=p[i]||(p[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!p[s]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=d.exec(e.replace(h,""));)t[4]?r.shift():t[3]?(n=t[3].replace(f," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(f," ").trim();return r[0]})(e);p[s]=m(a?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&p.g?p.g:null;return n&&(p.g=p[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(p[s],t,r,o),s};function v(e){let t=this||{},n=e.call?e(t.p):e;return y(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let i=t[a];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":m(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,u(t.target),t.g,t.o,t.k)}v.bind({g:1});let b,_,x,w=v.bind({k:1});function k(e,t){let n=this||{};return function(){let r=arguments;function a(i,s){let o=Object.assign({},i),l=o.className||a.className;n.p=Object.assign({theme:_&&_()},o),n.o=/ *go\d+/.test(l),o.className=v.apply(n,r)+(l?" "+l:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),x&&c[0]&&x(o),b(c,o)}return t?t(a):a}}var N,S,C,E,T,j,I,A,P,D,R,O,M,L,F,U,V=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,q=(()=>{let e=0;return()=>(++e).toString()})(),z=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),B="default",H=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return o(o({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return o(o({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?o(o({},e),t.toast):e)});case 2:let{toast:r}=t;return H(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return o(o({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?o(o({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?o(o({},e),{},{toasts:[]}):o(o({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return o(o({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return o(o({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>o(o({},e),{},{pauseDuration:e.pauseDuration+i}))})}},K=[],W={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},G={},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;G[t]=H(G[t]||W,e),K.forEach(e=>{let[n,r]=e;n===t&&r(G[t])})},X=e=>Object.keys(G).forEach(t=>Q(e,t)),Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return t=>{Q(t,e)}},J={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return o(o({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||q()})}(t,e,n);return Y(r.toasterId||(e=>Object.keys(G).find(t=>G[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Z=(e,t)=>$("blank")(e,t);Z.error=$("error"),Z.success=$("success"),Z.loading=$("loading"),Z.custom=$("custom"),Z.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Y(t)(n):X(n)},Z.dismissAll=e=>Z.dismiss(void 0,e),Z.remove=(e,t)=>{let n={type:4,toastId:e};t?Y(t)(n):X(n)},Z.removeAll=e=>Z.remove(void 0,e),Z.promise=(e,t,n)=>{let r=Z.loading(t.loading,o(o({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?V(t.success,e):void 0;return a?Z.success(a,o(o({id:r},n),null==n?void 0:n.success)):Z.dismiss(r),e}).catch(e=>{let a=t.error?V(t.error,e):void 0;a?Z.error(a,o(o({id:r},n),null==n?void 0:n.error)):Z.dismiss(r)}),e};var ee=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:a}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,[r,a]=(0,e.useState)(G[n]||W),i=(0,e.useRef)(G[n]);(0,e.useEffect)(()=>(i.current!==G[n]&&a(G[n]),K.push([n,a]),()=>{let e=K.findIndex(e=>{let[t]=e;return t===n});e>-1&&K.splice(e,1)}),[n]);let s=r.toasts.map(e=>{var n,r,a;return o(o(o(o({},t),t[e.type]),e),{},{removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||J[e.type],style:o(o(o({},t.style),null==(a=t[e.type])?void 0:a.style),e.style)})});return o(o({},r),{},{toasts:s})}(t,n),i=(0,e.useRef)(new Map).current,s=(0,e.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),l({type:4,toastId:e})},t);i.set(e,n)},[]);(0,e.useEffect)(()=>{if(a)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>Z.dismiss(t.id,n),r);t.visible&&Z.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,a,n]);let l=(0,e.useCallback)(Y(n),[n]),c=(0,e.useCallback)(()=>{l({type:5,time:Date.now()})},[l]),u=(0,e.useCallback)((e,t)=>{l({type:1,toast:{id:e,height:t}})},[l]),d=(0,e.useCallback)(()=>{a&&l({type:6,time:Date.now()})},[a,l]),h=(0,e.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:i}=t||{},s=r.filter(t=>(t.position||i)===(e.position||i)&&t.height),o=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<o&&e.visible).length;return s.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[r]);return(0,e.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:u,startPause:c,endPause:d,calculateOffset:h}}},te=w(N||(N=l(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),ne=w(S||(S=l(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),re=w(C||(C=l(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ae=k("div")(E||(E=l(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",te,ne,e=>e.secondary||"#fff",re),ie=w(T||(T=l(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),se=k("div")(j||(j=l(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ie),oe=w(I||(I=l(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),le=w(A||(A=l(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ce=k("div")(P||(P=l(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",oe,le,e=>e.secondary||"#fff"),ue=k("div")(D||(D=l(["\n  position: absolute;\n"]))),de=k("div")(R||(R=l(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),he=w(O||(O=l(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),fe=k("div")(M||(M=l(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),he),me=t=>{let{toast:n}=t,{icon:r,type:a,iconTheme:i}=n;return void 0!==r?"string"==typeof r?e.createElement(fe,null,r):r:"blank"===a?null:e.createElement(de,null,e.createElement(se,o({},i)),"loading"!==a&&e.createElement(ue,null,"error"===a?e.createElement(ae,o({},i)):e.createElement(ce,o({},i))))},pe=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),ge=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),ye=k("div")(L||(L=l(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ve=k("div")(F||(F=l(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),be=e.memo(t=>{let{toast:n,position:r,style:a,children:i}=t,s=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=z()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[pe(n),ge(n)];return{animation:t?"".concat(w(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(w(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},l=e.createElement(me,{toast:n}),c=e.createElement(ve,o({},n.ariaProps),V(n.message,n));return e.createElement(ye,{className:n.className,style:o(o(o({},s),a),n.style)},"function"==typeof i?i({icon:l,message:c}):e.createElement(e.Fragment,null,l,c))});!function(e,t,n,r){m.p=t,b=e,_=n,x=r}(e.createElement);var _e=t=>{let{id:n,className:r,style:a,onHeightUpdate:i,children:s}=t,o=e.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;i(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return e.createElement("div",{ref:o,className:r,style:a},s)},xe=v(U||(U=l(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),we=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:a,gutter:i,children:s,toasterId:l,containerStyle:c,containerClassName:u}=t,{toasts:d,handlers:h}=ee(a,l);return e.createElement("div",{"data-rht-toaster":l||"",style:o({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},c),className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(t=>{let a=t.position||r,l=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return o(o({left:0,right:0,display:"flex",position:"absolute",transition:z()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(a,h.calculateOffset(t,{reverseOrder:n,gutter:i,defaultPosition:r}));return e.createElement(_e,{id:t.id,key:t.id,onHeightUpdate:h.updateHeight,className:t.visible?xe:"",style:l},"custom"===t.type?V(t.message,t):s?s(t):e.createElement(be,{toast:t,position:a}))}))},ke=Z;function Ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Se=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Ee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Te=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],je=(0,e.forwardRef)((t,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:u}=t,d=Ne(t,Te);return(0,e.createElement)("svg",o(o(o({ref:n},Ee),{},{width:a,height:a,stroke:r,strokeWidth:s?24*Number(i)/Number(a):i,className:Ce("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...u.map(t=>{let[n,r]=t;return(0,e.createElement)(n,r)}),...Array.isArray(c)?c:[c]])}),Ie=["className"],Ae=(t,n)=>{const r=(0,e.forwardRef)((r,a)=>{let{className:i}=r,s=Ne(r,Ie);return(0,e.createElement)(je,o({ref:a,iconNode:n,className:Ce("lucide-".concat((l=Se(t),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(t),i)},s));var l});return r.displayName=Se(t),r},Pe=Ae("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),De=Ae("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const s=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==o)throw new Me;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(e){return function(e){const t=Re(e);return Oe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fe=function(e){try{return Oe.decodeString(e,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};function Ue(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ve=()=>{try{return Ue().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(c){return}const t=e&&Fe(e[1]);return t&&JSON.parse(t)})()}catch(c){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(c))}},qe=e=>{var t;return null===(t=Ve())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},ze=()=>{var e;return null===(e=Ve())||void 0===e?void 0:e.config},Be=e=>{var t;return null===(t=Ve())||void 0===t?void 0:t["_".concat(e)]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ke(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function We(e){return(await fetch(e,{credentials:"include"})).ok}const Ge={};let Qe=!1;function Xe(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ke(window.location.host)||Ge[e]===t||Ge[e]||Qe)return;function n(e){return"__firebase__banner__".concat(e)}Ge[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ge))Ge[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Qe=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}a?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Ye(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Je(){var e;const t=null===(e=Ve())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(c){return!1}}function $e(){return!Je()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){try{return"object"===typeof indexedDB}catch(c){return!1}}class et extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(nt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new et(n,i,t)}}const nt=/\{\$([^}]+)}/g;function rt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(at(n)&&at(i)){if(!rt(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function at(e){return null!==e&&"object"===typeof e}function it(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function st(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ot(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class lt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ct),void 0===r.error&&(r.error=ct),void 0===r.complete&&(r.complete=ct);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(c){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(c){"undefined"!==typeof console&&console.error&&console.error(c)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ct(){}function ut(e){return e&&e._delegate?e._delegate:e}class dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ht="[DEFAULT]";class ft{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new He;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(c){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(c){if(r)return null;throw c}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ht})}catch(c){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(c){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===ht?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.component?this.component.multipleInstances?e:ht:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ft(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pt=[];var gt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gt||(gt={}));const yt={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},vt=gt.INFO,bt={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},_t=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=bt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class xt{constructor(e){this.name=e,this._logLevel=vt,this._logHandler=_t,this._userLogHandler=null,pt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?yt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...t),this._logHandler(this,gt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...t),this._logHandler(this,gt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.INFO,...t),this._logHandler(this,gt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.WARN,...t),this._logHandler(this,gt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...t),this._logHandler(this,gt.ERROR,...t)}}let wt,kt;const Nt=new WeakMap,St=new WeakMap,Ct=new WeakMap,Et=new WeakMap,Tt=new WeakMap;let jt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return St.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ct.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function It(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kt||(kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Dt(this),n),Pt(Nt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(Dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(Dt(this),t,...r);return Ct.set(i,t.sort?t.sort():[t]),Pt(i)}}function At(e){return"function"===typeof e?It(e):(e instanceof IDBTransaction&&function(e){if(St.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});St.set(e,t)}(e),t=e,(wt||(wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,jt):e);var t}function Pt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(Pt(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Nt.set(t,e)}).catch(()=>{}),Tt.set(t,e),t}(e);if(Et.has(e))return Et.get(e);const t=At(e);return t!==e&&(Et.set(e,t),Tt.set(t,e)),t}const Dt=e=>Tt.get(e);const Rt=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Mt=new Map;function Lt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mt.get(t))return Mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Ot.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Rt.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),a&&t.done]))[0]};return Mt.set(t,i),i}jt=(e=>o(o({},e),{},{get:(t,n,r)=>Lt(t,n)||e.get(t,n,r),has:(t,n)=>!!Lt(t,n)||e.has(t,n)}))(jt);class Ft{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ut="@firebase/app",Vt="0.14.2",qt=new xt("@firebase/app"),zt="@firebase/app-compat",Bt="@firebase/analytics-compat",Ht="@firebase/analytics",Kt="@firebase/app-check-compat",Wt="@firebase/app-check",Gt="@firebase/auth",Qt="@firebase/auth-compat",Xt="@firebase/database",Yt="@firebase/data-connect",Jt="@firebase/database-compat",$t="@firebase/functions",Zt="@firebase/functions-compat",en="@firebase/installations",tn="@firebase/installations-compat",nn="@firebase/messaging",rn="@firebase/messaging-compat",an="@firebase/performance",sn="@firebase/performance-compat",on="@firebase/remote-config",ln="@firebase/remote-config-compat",cn="@firebase/storage",un="@firebase/storage-compat",dn="@firebase/firestore",hn="@firebase/ai",fn="@firebase/firestore-compat",mn="firebase",pn="[DEFAULT]",gn={[Ut]:"fire-core",[zt]:"fire-core-compat",[Ht]:"fire-analytics",[Bt]:"fire-analytics-compat",[Wt]:"fire-app-check",[Kt]:"fire-app-check-compat",[Gt]:"fire-auth",[Qt]:"fire-auth-compat",[Xt]:"fire-rtdb",[Yt]:"fire-data-connect",[Jt]:"fire-rtdb-compat",[$t]:"fire-fn",[Zt]:"fire-fn-compat",[en]:"fire-iid",[tn]:"fire-iid-compat",[nn]:"fire-fcm",[rn]:"fire-fcm-compat",[an]:"fire-perf",[sn]:"fire-perf-compat",[on]:"fire-rc",[ln]:"fire-rc-compat",[cn]:"fire-gcs",[un]:"fire-gcs-compat",[dn]:"fire-fst",[fn]:"fire-fst-compat",[hn]:"fire-vertex","fire-js":"fire-js",[mn]:"fire-js-all"},yn=new Map,vn=new Map,bn=new Map;function _n(e,t){try{e.container.addComponent(t)}catch(c){qt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),c)}}function xn(e){const t=e.name;if(bn.has(t))return qt.debug("There were multiple attempts to register component ".concat(t,".")),!1;bn.set(t,e);for(const n of yn.values())_n(n,e);for(const n of vn.values())_n(n,e);return!0}function wn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Nn=new tt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Sn{constructor(e,t,n){this._isDeleted=!1,this._options=o({},e),this._config=o({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}const Cn="12.2.0";function En(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=o({name:pn,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw Nn.create("bad-app-name",{appName:String(a)});if(n||(n=ze()),!n)throw Nn.create("no-options");const i=yn.get(a);if(i){if(rt(n,i.options)&&rt(r,i.config))return i;throw Nn.create("duplicate-app",{appName:a})}const s=new mt(a);for(const o of bn.values())s.addComponent(o);const l=new Sn(n,r,s);return yn.set(a,l),l}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;const t=yn.get(e);if(!t&&e===pn&&ze())return En();if(!t)throw Nn.create("no-app",{appName:e});return t}function jn(e,t,n){var r;let a=null!==(r=gn[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qt.warn(e.join(" "))}xn(new dt("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const In="firebase-heartbeat-store";let An=null;function Pn(){return An||(An=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Pt(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Pt(s.result),e.oldVersion,e.newVersion,Pt(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(In)}catch(c){console.warn(c)}}}).catch(e=>{throw Nn.create("idb-open",{originalErrorMessage:e.message})})),An}async function Dn(e,t){try{const n=(await Pn()).transaction(In,"readwrite"),r=n.objectStore(In);await r.put(t,Rn(e)),await n.done}catch(c){if(c instanceof et)qt.warn(c.message);else{const t=Nn.create("idb-set",{originalErrorMessage:null===c||void 0===c?void 0:c.message});qt.warn(t.message)}}}function Rn(e){return"".concat(e.name,"!").concat(e.options.appId)}class On{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ln(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mn();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(c){qt.warn(c)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Mn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Fn(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Fn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=Le(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(c){return qt.warn(c),""}}}function Mn(){return(new Date).toISOString().substring(0,10)}class Ln{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ze()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Pn()).transaction(In),n=await t.objectStore(In).get(Rn(e));return await t.done,n}catch(c){if(c instanceof et)qt.warn(c.message);else{const t=Nn.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});qt.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fn(e){return Le(JSON.stringify({version:2,heartbeats:e})).length}var Un;Un="",xn(new dt("platform-logger",e=>new Ft(e),"PRIVATE")),xn(new dt("heartbeat",e=>new On(e),"PRIVATE")),jn(Ut,Vt,Un),jn(Ut,Vt,"esm2020"),jn("fire-js","");const Vn=["providerId"],qn=["uid","auth","stsTokenManager"],zn=["providerId","signInMethod"];function Bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hn=Bn,Kn=new tt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wn=new xt("@firebase/auth");function Gn(e){if(Wn.logLevel<=gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wn.error("Auth (".concat(Cn,"): ").concat(e),...n)}}function Qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zn(e,...n)}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zn(e,...n)}function Yn(e,t,n){const r=o(o({},Hn()),{},{[t]:n});return new tt("auth","Firebase",r).create(t,{appName:e.name})}function Jn(e){return Yn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $n(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qn(e,"argument-error"),Yn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Kn.create(e,...n)}function er(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Zn(t,...r)}}function tr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gn(t),new Error(t)}function nr(e,t){e||tr(t)}function rr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ar(){return"http:"===ir()||"https:"===ir()}function ir(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function sr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ar()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class or{constructor(e,t){this.shortDelay=e,this.longDelay=t,nr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return sr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lr(e,t){nr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class cr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ur={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hr=new or(3e4,6e4);function fr(e,t){return e.tenantId&&!t.tenantId?o(o({},t),{},{tenantId:e.tenantId}):t}async function mr(e,t,n,r){return pr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},i={};r&&("GET"===t?i=r:a={body:JSON.stringify(r)});const s=it(o({key:e.config.apiKey},i)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=o({method:t,headers:l},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Ke(e.emulatorConfig.host)&&(c.credentials="include"),cr.fetch()(await yr(e,e.config.apiHost,n,s),c)})}async function pr(e,t,n){e._canInitEmulator=!1;const r=o(o({},ur),t);try{const t=new br(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw _r(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _r(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw _r(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw _r(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Yn(e,o,s);Qn(e,o)}}catch(c){if(c instanceof et)throw c;Qn(e,"network-request-failed",{message:String(c)})}}async function gr(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await mr(e,t,n,r,a);return"mfaPendingCredential"in i&&Qn(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function yr(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r),i=e,s=i.config.emulator?lr(e.config,a):"".concat(e.config.apiScheme,"://").concat(a);if(dr.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function vr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class br{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Xn(this.auth,"network-request-failed")),hr.get())})}}function _r(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Xn(e,t,r);return a.customData._tokenResponse=n,a}function xr(e){return void 0!==e&&void 0!==e.enterprise}class wr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kr(e,t){return mr(e,"GET","/v2/recaptchaConfig",fr(e,t))}async function Nr(e,t){return mr(e,"POST","/v1/accounts:lookup",t)}function Sr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(c){}}function Cr(e){return 1e3*Number(e)}function Er(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Gn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Fe(n);return e?JSON.parse(e):(Gn("Failed to decode base64 JWT payload"),null)}catch(c){return Gn("Caught error parsing JWT payload as JSON",null===c||void 0===c?void 0:c.toString()),null}}function Tr(e){const t=Er(e);return er(t,"internal-error"),er("undefined"!==typeof t.exp,"internal-error"),er("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function jr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(c){throw c instanceof et&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(c)&&e.auth.currentUser===e&&await e.auth.signOut(),c}}class Ir{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(c){return void((null===c||void 0===c?void 0:c.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ar{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pr(e){var t;const n=e.auth,r=await e.getIdToken(),a=await jr(e,Nr(n,{idToken:r}));er(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const i=a.users[0];e._notifyReloadListener(i);const s=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?Dr(i.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null!==o&&void 0!==o&&o.length),u=!!l&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ar(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Dr(e){return e.map(e=>{let{providerId:t}=e,n=Ne(e,Vn);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){er(e.idToken,"internal-error"),er("undefined"!==typeof e.idToken,"internal-error"),er("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Tr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){er(0!==e.length,"internal-error");const t=Tr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(er(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await pr(e,{},async()=>{const n=it({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,i=await yr(e,r,"/v1/token","key=".concat(a)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&Ke(e.emulatorConfig.host)&&(o.credentials="include"),cr.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,i=new Rr;return n&&(er("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(er("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),a&&(er("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rr,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Or(e,t){er("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Mr{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,a=Ne(e,qn);this.providerId="firebase",this.proactiveRefresh=new Ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ar(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await jr(this,this.stsTokenManager.getToken(this.auth,e));return er(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ut(e),r=await n.getIdToken(t),a=Er(r);er(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:Sr(Cr(a.auth_time)),issuedAtTime:Sr(Cr(a.iat)),expirationTime:Sr(Cr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ut(e);await Pr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(er(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>o({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr(o(o({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Pr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await jr(this,async function(e,t){return mr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return o(o({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>o({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,i,s,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:_,isAnonymous:x,providerData:w,stsTokenManager:k}=t;er(b&&k,e,"internal-error");const N=Rr.fromJSON(this.name,k);er("string"===typeof b,e,"internal-error"),Or(d,e.name),Or(h,e.name),er("boolean"===typeof _,e,"internal-error"),er("boolean"===typeof x,e,"internal-error"),Or(f,e.name),Or(m,e.name),Or(p,e.name),Or(g,e.name),Or(y,e.name),Or(v,e.name);const S=new Mr({uid:b,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:x,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:N,createdAt:y,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>o({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Rr;r.updateFromServerResponse(t);const a=new Mr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Pr(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];er(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?Dr(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==a&&void 0!==a&&a.length),s=new Rr;s.updateFromIdToken(n);const o=new Mr({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Ar(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==a&&void 0!==a&&a.length)};return Object.assign(o,l),o}}const Lr=new Map;function Fr(e){nr(e instanceof Function,"Expected a class definition");let t=Lr.get(e);return t?(nr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lr.set(e,t),t)}class Ur{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ur.type="NONE";const Vr=Ur;function qr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class zr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=qr(this.userKey,r.apiKey,a),this.fullPersistenceKey=qr("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Nr(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new zr(Fr(Vr),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||Fr(Vr);const i=qr(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await Nr(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Mr._fromGetAccountInfoResponse(e,r,t)}else n=Mr._fromJSON(e,t);c!==a&&(s=n),a=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&o.length?(a=o[0],s&&await a._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(i)}catch(t){}})),new zr(a,e,n)):new zr(a,e,n)}}function Br(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xr(t))return"Blackberry";if(Yr(t))return"Webos";if(Kr(t))return"Safari";if((t.includes("chrome/")||Wr(t))&&!t.includes("edge/"))return"Chrome";if(Qr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/firefox\//i.test(e)}function Kr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/crios\//i.test(e)}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/iemobile/i.test(e)}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/android/i.test(e)}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/blackberry/i.test(e)}function Yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/webos/i.test(e)}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $r(){return function(){const e=Ye();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return Jr(e)||Qr(e)||Yr(e)||Xr(e)||/windows phone/i.test(e)||Gr(e)}function ea(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Br(Ye());break;case"Worker":t="".concat(Br(Ye()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Cn,"/").concat(r)}class ta{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(c){r(c)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(c){t.reverse();for(const n of t)try{n()}catch(X){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===c||void 0===c?void 0:c.message})}}}class na{constructor(e){var t,n,r,a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,i,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsUppercaseLetter)||void 0===a||a),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class ra{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ia(this),this.idTokenSubscription=new ia(this),this.beforeStateQueue=new ta(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{var n,r,a;if(!this._deleted&&(this.persistenceManager=await zr.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(c){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(a=this.currentUser)||void 0===a?void 0:a.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Nr(this,{idToken:e}),n=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var a,i;await this.getOrInitRedirectPersistenceManager();const t=null===(a=this.redirectUser)||void 0===a?void 0:a._redirectEventId,s=null===(i=n)||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(c){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return er(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(c){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pr(e)}catch(c){if((null===c||void 0===c?void 0:c.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Jn(this));const t=e?ut(e):null;return t&&er(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&er(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return mr(e,"GET","/v2/passwordPolicy",fr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new na(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return mr(e,"POST","/v2/accounts:revokeToken",fr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;er(t,this,"argument-error"),this.redirectPersistenceManager=await zr.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(er(s,this,"internal-error"),s.then(()=>{i||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{i=!0,a()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return er(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ea(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Wn.logLevel<=gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wn.warn("Auth (".concat(Cn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function aa(e){return ut(e)}class ia{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new lt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sa={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oa(e){return sa.loadJS(e)}function la(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ca{constructor(){this.enterprise=new ua}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ua{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const da="NO_RECAPTCHA";class ha{constructor(e){this.type="recaptcha-enterprise",this.auth=aa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;xr(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(da)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ca).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{kr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new wr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&xr(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=sa.recaptchaEnterpriseScript;0!==t.length&&(t+=a),oa(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function fa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new ha(e);let s;if(a)s=da;else try{s=await i.verify(n)}catch(c){s=await i.verify(n,!0)}const l=o({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ma(e,t,n,r,a){if("EMAIL_PASSWORD_PROVIDER"===a){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await fa(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await fa(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}if("PHONE_PROVIDER"===a){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await fa(e,t,n);return r(e,a).catch(async a=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(a.code==="auth/".concat("missing-recaptcha-token")||a.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const a=await fa(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)})}{const a=await fa(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function pa(e){const t=aa(e),n=await kr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new wr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new ha(t).verify()}}function ga(e,t,n){const r=aa(e);er(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!(null===n||void 0===n||!n.disableWarnings),i=ya(t),{host:s,port:o}=function(e){const t=ya(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:va(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:va(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return er(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void er(rt(c,r.config.emulator)&&rt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ke(s)?(We("".concat(i,"//").concat(s).concat(l)),Xe("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ya(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function va(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ba{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function _a(e,t){return mr(e,"POST","/v1/accounts:signUp",t)}async function xa(e,t){return gr(e,"POST","/v1/accounts:signInWithPassword",fr(e,t))}async function wa(e,t){return mr(e,"POST","/v1/accounts:sendOobCode",fr(e,t))}async function ka(e,t){return wa(e,t)}class Na extends ba{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Na(e,t,"password")}static _fromEmailAndCode(e,t){return new Na(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ma(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",xa,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithEmailLink",fr(e,t))}(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ma(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_a,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithEmailLink",fr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sa(e,t){return gr(e,"POST","/v1/accounts:signInWithIdp",fr(e,t))}class Ca extends ba{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=Ne(t,zn);if(!n||!r)return null;const i=new Ca(n,r);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return Sa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Sa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=it(t)}return e}}async function Ea(e,t){return mr(e,"POST","/v1/accounts:sendVerificationCode",fr(e,t))}const Ta={USER_NOT_FOUND:"user-not-found"};class ja extends ba{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ja({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ja({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithPhoneNumber",fr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await gr(e,"POST","/v1/accounts:signInWithPhoneNumber",fr(e,t));if(n.temporaryProof)throw _r(e,"account-exists-with-different-credential",n);return n}(e,o({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithPhoneNumber",fr(e,o(o({},t),{},{operation:"REAUTH"})),Ta)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new ja({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class Ia{constructor(e){var t,n,r,a,i,s;const o=st(ot(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);er(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=o.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=st(ot(e)).link,n=t?st(ot(t)).deep_link_id:null,r=st(ot(e)).deep_link_id;return(r?st(ot(r)).link:null)||r||n||t||e}(e);try{return new Ia(t)}catch(n){return null}}}class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,t){return Na._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ia.parseLink(t);return er(n,"argument-error"),Na._fromEmailAndCode(e,n.code,n.tenantId)}}Aa.PROVIDER_ID="password",Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Da extends Pa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ra extends Da{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ra.credential(t.oauthAccessToken)}catch(n){return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ra.PROVIDER_ID="facebook.com";class Oa extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ca._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Oa.credential(n,r)}catch(a){return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com",Oa.PROVIDER_ID="google.com";class Ma extends Da{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ma.credential(t.oauthAccessToken)}catch(n){return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com",Ma.PROVIDER_ID="github.com";class La extends Da{constructor(){super("twitter.com")}static credential(e,t){return Ca._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return La.credential(n,r)}catch(a){return null}}}async function Fa(e,t){return gr(e,"POST","/v1/accounts:signUp",fr(e,t))}La.TWITTER_SIGN_IN_METHOD="twitter.com",La.PROVIDER_ID="twitter.com";class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await Mr._fromIdTokenResponse(e,n,r),i=Va(n);return new Ua({user:a,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Va(n);return new Ua({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Va(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class qa extends et{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qa.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qa(e,t,n,r)}}function za(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw qa._fromErrorAndOperation(e,n,t,r);throw n})}async function Ba(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await jr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ua._forOperation(e,"link",r)}async function Ha(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(kn(r.app))return Promise.reject(Jn(r));const a="reauthenticate";try{const i=await jr(e,za(r,a,t,e),n);er(i.idToken,r,"internal-error");const s=Er(i.idToken);er(s,r,"internal-error");const{sub:o}=s;return er(e.uid===o,r,"user-mismatch"),Ua._forOperation(e,a,i)}catch(c){throw(null===c||void 0===c?void 0:c.code)==="auth/".concat("user-not-found")&&Qn(r,"user-mismatch"),c}}async function Ka(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Jn(e));const r="signIn",a=await za(e,r,t),i=await Ua._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(i.user),i}async function Wa(e,t){return Ka(aa(e),t)}function Ga(e,t,n){var r;er((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),er("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),er("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(er(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(er(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Qa(e){const t=aa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Xa(e,t,n){if(kn(e.app))return Promise.reject(Jn(e));const r=aa(e),a=ma(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fa,"EMAIL_PASSWORD_PROVIDER"),i=await a.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Qa(e),t}),s=await Ua._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}async function Ya(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const a=ut(e),i={idToken:await a.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await jr(a,async function(e,t){return mr(e,"POST","/v1/accounts:update",t)}(a.auth,i));a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null;const o=a.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=a.displayName,o.photoURL=a.photoURL),await a._updateTokensIfNecessary(s)}function Ja(e){return ut(e).signOut()}function $a(e,t){return mr(e,"POST","/v2/accounts/mfaEnrollment:start",fr(e,t))}new WeakMap;const Za="__sak";class ei{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ti extends ei{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);$r()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ti.type="LOCAL";const ni=ti;function ri(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(a))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function ai(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ii{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ai(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ri(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ai(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ai(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ri(n);const a=setInterval(()=>{const e=ri(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(a))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ii.type="COOKIE";class si extends ei{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}si.type="SESSION";const oi=si;class li{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new li(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,a)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}li.receivers=[];class ui{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,i;return new Promise((s,o)=>{const l=ci("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function di(){return window}function hi(){return"undefined"!==typeof di().WorkerGlobalScope&&"function"===typeof di().importScripts}const fi="firebaseLocalStorageDb",mi="firebaseLocalStorage",pi="fbase_key";class gi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yi(e,t){return e.transaction([mi],t?"readwrite":"readonly").objectStore(mi)}function vi(){const e=indexedDB.open(fi,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(mi,{keyPath:pi})}catch(c){n(c)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(mi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(fi);return new gi(e).toPromise()}(),t(await vi()))})})}async function bi(e,t,n){const r=yi(e,!0).put({[pi]:t,value:n});return new gi(r).toPromise()}function _i(e,t){const n=yi(e,!0).delete(t);return new gi(n).toPromise()}class xi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await vi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(c){if(t++>3)throw c;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=li._getInstance(hi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ui(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vi();return await bi(e,Za,"1"),await _i(e,Za),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=yi(e,!1).get(t),r=await new gi(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_i(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=yi(e,!1).getAll();return new gi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xi.type="LOCAL";const wi=xi;function ki(e,t){return mr(e,"POST","/v2/accounts/mfaSignIn:start",fr(e,t))}la("rcb"),new or(3e4,6e4);const Ni="recaptcha";async function Si(e,t,n){if(!e._getRecaptchaConfig())try{await pa(e)}catch(a){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){er("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=ma(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===da){er((null===n||void 0===n?void 0:n.type)===Ni,e,"argument-error");return $a(e,await Ci(e,t,n))}return $a(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;er("signin"===t.type,e,"internal-error");const i=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;er(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ma(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===da){er((null===n||void 0===n?void 0:n.type)===Ni,e,"argument-error");return ki(e,await Ci(e,t,n))}return ki(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ma(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===da){er((null===n||void 0===n?void 0:n.type)===Ni,e,"argument-error");return Ea(e,await Ci(e,t,n))}return Ea(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ci(e,t,n){er(n.type===Ni,e,"argument-error");const r=await n.verify();er("string"===typeof r,e,"argument-error");const a=o({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}class Ei{constructor(e){this.providerId=Ei.PROVIDER_ID,this.auth=aa(e)}verifyPhoneNumber(e,t){return Si(this.auth,e,ut(t))}static credential(e,t){return ja._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ei.credentialFromTaggedObject(t)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ja._fromTokenResponse(n,r):null}}function Ti(e,t){return t?Fr(t):(er(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ei.PROVIDER_ID="phone",Ei.PHONE_SIGN_IN_METHOD="phone";class ji extends ba{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ii(e){return Ka(e.auth,new ji(e),e.bypassAuthState)}function Ai(e){const{auth:t,user:n}=e;return er(n,t,"internal-error"),Ha(n,new ji(e),e.bypassAuthState)}async function Pi(e){const{auth:t,user:n}=e;return er(n,t,"internal-error"),Ba(n,new ji(e),e.bypassAuthState)}class Di{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(c){this.reject(c)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:i,type:s}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return Pi;case"reauthViaPopup":case"reauthViaRedirect":return Ai;default:Qn(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ri=new or(2e3,1e4);class Oi extends Di{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return er(e,this.auth,"internal-error"),e}async onExecution(){nr(1===this.filter.length,"Popup operations only handle one event");const e=ci();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ri.get())};e()}}Oi.currentPopupAction=null;const Mi=new Map;class Li extends Di{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Mi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vi(t),r=Ui(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(c){e=()=>Promise.reject(c)}Mi.set(this.auth._key(),e)}return this.bypassAuthState||Mi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fi(e,t){Mi.set(e._key(),t)}function Ui(e){return Fr(e._redirectPersistence)}function Vi(e){return qr("pendingRedirect",e.config.apiKey,e.name)}async function qi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Jn(e));const r=aa(e),a=Ti(r,t),i=new Li(r,a,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class zi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Hi(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bi(e))}saveEventToCache(e){this.cachedEventUids.add(Bi(e)),this.lastProcessedEventTime=Date.now()}}function Bi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Hi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ki=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wi=/^https?/;async function Gi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return mr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Qi(r))return}catch(n){}Qn(e,"unauthorized-domain")}function Qi(e){const t=rr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!Wi.test(n))return!1;if(Ki.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Xi=new or(3e4,6e4);function Yi(){const e=di().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ji(e){return new Promise((t,n)=>{var r,a;function i(){Yi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yi(),n(Xn(e,"network-request-failed"))},timeout:Xi.get()})}if(null!==(r=di().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(a=di().gapi)||void 0===a||!a.load){const t=la("iframefcb");return di()[t]=()=>{gapi.load?i():n(Xn(e,"network-request-failed"))},oa("".concat(sa.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw $i=null,e})}let $i=null;const Zi=new or(5e3,15e3),es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ts=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ns(e){const t=e.config;er(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?lr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Cn},a=ts.get(e.config.apiHost);a&&(r.eid=a);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(it(r).slice(1))}async function rs(e){const t=await function(e){return $i=$i||Ji(e),$i}(e),n=di().gapi;return er(n,e,"internal-error"),t.open({where:document.body,url:ns(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:es,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=Xn(e,"network-request-failed"),i=di().setTimeout(()=>{r(a)},Zi.get());function s(){di().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(a)})}))}const as={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class is{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=o(o({},as),{},{width:r.toString(),height:a.toString(),top:i,left:s}),d=Ye().toLowerCase();n&&(l=Wr(d)?"_blank":n),Hr(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Jr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new is(null);const f=window.open(t||"",l,h);er(f,e,"popup-blocked");try{f.focus()}catch(c){}return new is(f)}const os="__/auth/handler",ls="emulator/auth/handler",cs=encodeURIComponent("fac");async function us(e,t,n,r,a,i){er(e.config.authDomain,e,"auth-domain-config-required"),er(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Cn,eventId:a};if(t instanceof Pa){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Da){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(cs,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(os);return lr(t,ls)}(e),"?").concat(it(o).slice(1)).concat(c)}const ds="webStorageSupport";const hs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oi,this._completeRedirectFn=qi,this._overrideRedirectResult=Fi}async _openPopup(e,t,n,r){var a;nr(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return ss(e,await us(e,t,n,rr(),r),ci())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){di().location.href=e}(await us(e,t,n,rr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(nr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await rs(e),n=new zi(e);return t.register("authEvent",t=>{er(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ds,{type:ds},n=>{var r;const a=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[ds];void 0!==a&&t(!!a),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zr()||Kr()||Jr()}};var fs="@firebase/auth",ms="1.11.0";class ps{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gs=Be("authIdTokenMaxAge")||300;let ys=null;var vs;!function(e){sa=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Xn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),vs="Browser",xn(new dt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;er(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:vs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ea(vs)},c=new ra(r,a,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),xn(new dt("auth-internal",e=>(e=>new ps(e))(aa(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),jn(fs,ms,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(vs)),jn(fs,ms,"esm2020");jn("firebase","12.2.1","app");var bs,_s,xs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ws={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^n&(a^i))+r[0]+3614090360&4294967295;s=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(a=a.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new p(a,t)}for(a=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new p(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],s=0;s<a;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,i=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),p=e.i(i)>>>16,g=65535&e.i(i);n[2*a+2*i]+=f*g,m(n,2*a+2*i),n[2*a+2*i+1]+=l*g,m(n,2*a+2*i+1),n[2*a+2*i+1]+=f*p,m(n,2*a+2*i+1),n[2*a+2*i+2]+=l*p,m(n,2*a+2*i+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,_s=ws.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),a=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),a=a.j(l).add(s(c))):a=(a=a.j(r)).add(s(c))}return a},bs=ws.Integer=r}).apply("undefined"!==typeof xs?xs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ks,Ns,Ss,Cs,Es,Ts,js,Is,As="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ps={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof As&&As];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var r=r||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function f(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function g(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function y(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function v(e){return/^[\s\xa0]*$/.test(e)}function x(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function w(e){return w[" "](e),e}w[" "]=function(){};var k=-1!=x().indexOf("Gecko")&&!(-1!=x().toLowerCase().indexOf("webkit")&&-1==x().indexOf("Edge"))&&!(-1!=x().indexOf("Trident")||-1!=x().indexOf("MSIE"))&&-1==x().indexOf("Edge");function N(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function S(e){const t={};for(const n in e)t[n]=e[n];return t}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<C.length;t++)n=C[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function T(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){a.setTimeout(()=>{throw e},0)}function I(){var e=O;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var A=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new P,e=>e.reset());class P{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let D,R=!1,O=new class{constructor(){this.h=this.g=null}add(e,t){const n=A.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},M=()=>{const e=a.Promise.resolve(void 0);D=()=>{e.then(L)}};var L=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(p){j(p)}var t=A;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}R=!1};function F(){this.s=this.s,this.C=this.C}function U(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},U.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(p){}return e}();function q(e,t){if(U.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(k){e:{try{w(t.nodeName);var a=!0;break e}catch(_){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:z[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&q.aa.h.call(this)}}m(q,U);var z={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),H=0;function K(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++H,this.da=this.fa=!1}function W(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function G(e){this.src=e,this.g={},this.h=0}function Q(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(W(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function X(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}G.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=X(e,t,r,a);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new K(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var Y="closure_lm_"+(1e6*Math.random()|0),J={};function $(e,t,n,r,a){if(r&&r.once)return te(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)$(e,t[i],n,r,a);return null}return n=le(n),e&&e[B]?e.K(t,n,s(r)?!!r.capture:!!r,a):Z(e,t,n,!1,r,a)}function Z(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,l=se(e);if(l||(e[Y]=l=new G(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ie;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)V||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function te(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)te(e,t[i],n,r,a);return null}return n=le(n),e&&e[B]?e.L(t,n,s(r)?!!r.capture:!!r,a):Z(e,t,n,!0,r,a)}function ne(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)ne(e,t[i],n,r,a);else r=s(r)?!!r.capture:!!r,n=le(n),e&&e[B]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=X(i=e.g[t],n,r,a))&&(W(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=X(t,n,r,a)),(n=-1<e?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[B])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(Q(n,e),0==n.h&&(n.src=null,t[Y]=null)):W(e)}}}function ae(e){return e in J?J[e]:J[e]="on"+e}function ie(e,t){if(e.da)e=!0;else{t=new q(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function se(e){return(e=e[Y])instanceof G?e:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[oe]||(e[oe]=function(t){return e.handleEvent(t)}),e[oe])}function ce(){F.call(this),this.i=new G(this),this.M=this,this.F=null}function ue(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new U(t,e);else if(t instanceof U)t.target=t.target||e;else{var a=t;E(t=new U(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];a=de(s,r,!0,t)&&a}if(a=de(s=t.g=e,r,!0,t)&&a,a=de(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=de(s=t.g=n[i],r,!1,t)&&a}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&Q(e.i,s),a=!1!==o.call(l,r)&&a}}return a&&!r.defaultPrevented}function he(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function fe(e){e.g=he(()=>{e.g=null,e.i&&(e.i=!1,fe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}m(ce,F),ce.prototype[B]=!0,ce.prototype.removeEventListener=function(e,t,n,r){ne(this,e,t,n,r)},ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)W(n[r]);delete t.g[e],t.h--}}this.F=null},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class me extends F{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:fe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(e){F.call(this),this.h=e,this.g={}}m(pe,F);var ge=[];function ye(e){N(e.g,function(e,t){this.g.hasOwnProperty(t)&&re(e)},e),e.g={}}pe.prototype.N=function(){pe.aa.N.call(this),ye(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=a.JSON.stringify,be=a.JSON.parse,_e=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function xe(){}function we(e){return e.h||(e.h=e.i())}function ke(){}xe.prototype.h=null;var Ne={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Se(){U.call(this,"d")}function Ce(){U.call(this,"c")}m(Se,U),m(Ce,U);var Ee={},Te=null;function je(){return Te=Te||new ce}function Ie(e){U.call(this,Ee.La,e)}function Ae(e){const t=je();ue(t,new Ie(t))}function Pe(e,t){U.call(this,Ee.STAT_EVENT,e),this.stat=t}function De(e){const t=je();ue(t,new Pe(t,e))}function Re(e,t){U.call(this,Ee.Ma,e),this.size=t}function Oe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Me(){this.g=!0}function Le(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return ve(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Ee.La="serverreachability",m(Ie,U),Ee.STAT_EVENT="statevent",m(Pe,U),Ee.Ma="timingevent",m(Re,U),Me.prototype.xa=function(){this.g=!1},Me.prototype.info=function(){};var Fe,Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function qe(){}function ze(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new pe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}m(qe,xe),qe.prototype.g=function(){return new XMLHttpRequest},qe.prototype.i=function(){return{}},Fe=new qe;var He={},Ke={};function We(e,t,n){e.L=1,e.v=vt(ft(t)),e.m=n,e.P=!0,Ge(e,null)}function Ge(e,t){e.F=Date.now(),Ye(e),e.A=ft(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),At(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Be,e.g=bn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new me(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ge[0]=a.toString()),a=ge);for(var i=0;i<a.length;i++){var s=$(n,a[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?S(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ae(),function(e,t,n,r,a,i){e.info(function(){if(e.g)if(i)for(var s="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Qe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ke:(n=Number(t.substring(n,r)),isNaN(n)?He:(r+=1)+n>t.length?Ke:(t=t.slice(r,r+n),e.C=r+n,t))}function Ye(e){e.S=Date.now()+e.I,Je(e,e.I)}function Je(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Oe(u(e.ba,e),t)}function $e(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ze(e){0==e.j.G||e.J||mn(e.j,e)}function et(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ye(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function tt(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||st(n.h,e)))if(!e.K&&st(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(d){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),nn(n)}un(n),De(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Oe(u(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(d){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&fn(n),!v(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(ot(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,yt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),s.K){lt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&($e(o),Ye(o)),r.g=s}else cn(r);0<n.i.length&&an(n)}else"stop"!=c[0]&&"close"!=c[0]||gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ae()}catch(d){}}ze.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Jt(e)?t.j():this.Y(e)},ze.prototype.Y=function(e){try{if(e==this.g)e:{const h=Jt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||$t(this.g)))){this.J||4!=h||7==t||Ae(),$e(this);var n=this.g.Z();this.X=n;t:if(Qe(this)){var r=$t(this.g);e="";var i=r.length,s=4==Jt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){et(this),Ze(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,De(12),et(this),Ze(this);break e}Le(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tt(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Xe(this,o),e==Ke){4==h&&(this.s=4,De(14),n=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}if(e==He){this.s=4,De(15),Le(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Le(this.i,this.l,e,null),tt(this,e)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),dn(d),d.M=!0,De(11))}}else Le(this.i,this.l,o,"[Invalid Chunked Response]"),et(this),Ze(this)}else Le(this.i,this.l,o,null),tt(this,o);4==h&&et(this),this.o&&!this.J&&(4==h?mn(this.j,this):(this.o=!1,Ye(this)))}else(function(e){const t={};e=(e.g&&2<=Jt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(v(e[r]))continue;var n=T(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),et(this),Ze(this)}}}catch(ee){}},ze.prototype.cancel=function(){this.J=!0,et(this)},ze.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ae(),De(17)),et(this),this.s=2,Ze(this)):Je(this,this.S-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function at(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ot(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return g(e.i)}function ut(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,s=0;s<a;s++)t.call(void 0,r[s],n&&n[s],e)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ht(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ht){this.h=e.h,mt(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),gt(this,n),this.m=e.m}else e&&(t=String(e).match(dt))?(this.h=!1,mt(this,t[1]||"",!0),this.o=bt(t[2]||""),this.g=bt(t[3]||"",!0),pt(this,t[4]),this.l=bt(t[5]||"",!0),gt(this,t[6]||"",!0),this.m=bt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ft(e){return new ht(e)}function mt(e,t,n){e.j=n?bt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function gt(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),At(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=_t(t,St)),e.i=new Et(t,e.h))}function yt(e,t,n){e.i.set(t,n)}function vt(e){return yt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _t(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ht.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_t(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(_t(t,wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_t(n,"/"==n.charAt(0)?Nt:kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",_t(n,Ct)),e.join("")};var wt=/[#\/\?@]/g,kt=/[#\?:]/g,Nt=/[#\?]/g,St=/[#\?@]/g,Ct=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jt(e,t){Tt(e),t=Pt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Tt(e),t=Pt(e,t),e.g.has(t)}function At(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Pt(e,t),g(n)),e.h+=n.length)}function Pt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(_){}}function Rt(){this.g=new _e}function Ot(e,t,n){const r=n||"";try{ut(e,function(e,n){let a=e;s(e)&&(a=ve(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(c){throw t.push(r+"type="+encodeURIComponent("_badmap")),c}}function Mt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ce.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ut(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function qt(e){let t="";return N(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yt(e,t,n))}function Bt(e){ce.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){Tt(this),this.i=null,e=Pt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Pt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,It(this,e=Pt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var a=i;""!==s[r]&&(a+="="+encodeURIComponent(String(s[r]))),e.push(a)}}return this.i=e.join("&")},m(Mt,xe),Mt.prototype.g=function(){return new Lt(this.l,this.j)},Mt.prototype.i=function(e){return function(){return e}}({}),m(Lt,ce),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ut(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ut(this):Vt(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ut(this))},e.Qa=function(e){this.g&&(this.response=e,Ut(this))},e.ga=function(){this.g&&Ut(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),m(Bt,ce);var Ht=/^https?$/i,Kt=["POST","PUT"];function Wt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Gt(e),Xt(e)}function Gt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Jt(e)||2!=e.Z()))if(e.u&&4==Jt(e))he(e.Ea,0,e);else if(ue(e,"readystatechange"),4==Jt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(dt)[1]||null;!s&&a.self&&a.self.location&&(s=a.self.location.protocol.slice(0,-1)),i=!Ht.test(s?s.toLowerCase():"")}n=i}if(n)ue(e,"complete"),ue(e,"success");else{e.m=6;try{var o=2<Jt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Gt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){Yt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ue(e,"ready");try{n.onreadystatechange=r}catch(c){}}}function Yt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Jt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new rt(e&&e.concurrentRequestLimit),this.Da=new Rt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ft(e.I);if(yt(n,"SID",e.K),yt(n,"RID",t),yt(n,"TYPE","terminate"),on(e,n),(t=new ze(e,e.j,t)).L=2,t.v=vt(ft(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(b){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=bn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ye(t)}yn(e)}function nn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(a.clearTimeout(e.u),e.u=null),fn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function an(e){if(!at(e.h)&&!e.s){e.s=!0;var t=e.Ga;D||M(),R||(D(),R=!0),O.add(t,e),e.B=0}}function sn(e,t){var n;n=t?t.l:e.U++;const r=ft(e.I);yt(r,"SID",e.K),yt(r,"RID",n),yt(r,"AID",e.T),on(e,r),e.m&&e.o&&zt(r,e.m,e.o),n=new ze(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ot(e.h,n),We(n,r,t)}function on(e,t){e.H&&N(e.H,function(e,n){yt(t,n,e)}),e.l&&ut({},function(e,n){yt(t,n,e)})}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let s=0;s<n;s++){let n=a[s].g;const o=a[s].map;if(n-=t,0>n)t=Math.max(0,a[s].g-100),i=!1;else try{Ot(o,e,"req"+n+"_")}catch(ee){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function cn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;D||M(),R||(D(),R=!0),O.add(t,e),e.v=0}}function un(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Oe(u(e.Fa,e),pn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function hn(e){e.g=new ze(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ft(e.qa);yt(t,"RID","rpc"),yt(t,"SID",e.K),yt(t,"AID",e.T),yt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&yt(t,"TO",e.ja),yt(t,"TYPE","xmlhttp"),on(e,t),e.m&&e.o&&zt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(ft(t)),n.m=null,n.P=!0,Ge(n,e)}function fn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function mn(e,t){var n=null;if(e.g==t){fn(e),dn(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.D,lt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;ue(r=je(),new Re(r,n)),an(e)}else cn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Oe(u(e.Ga,e,t),pn(e,e.B)),e.B++,!0))}(e,t)||2==r&&un(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function pn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new ht(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||mt(r,"https"),vt(r),t?function(e,t){const n=new Me;if(a.Image){const r=new Image;r.onload=f(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=f(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=f(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=f(Dt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Me;const n=new AbortController,r=setTimeout(()=>{n.abort(),Dt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Dt(0,0,!1,t)})}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),yn(e),rn(e)}function yn(e){if(e.G=0,e.ka=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(y(e.ka,t),y(e.ka,e.i),e.h.i.length=0,g(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof ht?ft(n):new ht(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ht(null);r&&mt(s,r),t&&(s.g=t),i&&pt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&yt(r,n,t),yt(r,"VER",e.la),on(e,r),r}function bn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new Mt({eb:n})):new Bt(e.pa)).Ha(e.J),t}function _n(){}function xn(){}function wn(e,t){ce.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!v(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!v(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sn(this)}function kn(e){Se.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nn(){Ce.call(this),this.status=1}function Sn(e){this.g=e}(e=Bt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fe.g(),this.v=this.o?we(this.o):we(Fe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(_){return void Wt(this,_)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Kt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yt(this),this.u=!0,this.g.send(e),this.u=!1}catch(_){Wt(this,_)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ue(this,"complete"),ue(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Bt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch(h){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(h){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),be(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),an(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new ze(this,this.j,e);let i=this.o;if(this.S&&(i?(i=S(i),E(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,a,t),yt(n=ft(this.I),"RID",e),yt(n,"CVER",22),this.D&&yt(n,"X-HTTP-Session-Id",this.D),on(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(qt(i)))+"&"+t:this.m&&zt(n,this.m,i)),ot(this.h,a),this.Ua&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",t),yt(n,"SID","null"),a.T=!0,We(a,n,null)):We(a,n,t),this.G=2}}else 3==this.G&&(e?sn(this,e):0==this.i.length||at(this.h)||sn(this))},e.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Oe(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),nn(this),hn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),un(this),De(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=_n.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new wn(e,t)},m(wn,ce),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){tn(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ve(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.G&&an(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,wn.aa.N.call(this)},m(kn,Se),m(Nn,Ce),m(Sn,_n),Sn.prototype.ua=function(){ue(this.g,"a")},Sn.prototype.ta=function(e){ue(this.g,new kn(e))},Sn.prototype.sa=function(e){ue(this.g,new Nn)},Sn.prototype.ra=function(){ue(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Is=Ps.createWebChannelTransport=function(){return new xn},js=Ps.getStatEventTarget=function(){return je()},Ts=Ps.Event=Ee,Es=Ps.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,Cs=Ps.ErrorCode=Ue,Ve.COMPLETE="complete",Ss=Ps.EventType=Ve,ke.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Ns=Ps.WebChannel=ke,Ps.FetchXmlHttpFactory=Mt,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,ks=Ps.XhrIo=Bt}).apply("undefined"!==typeof As?As:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ds="@firebase/firestore",Rs="4.9.1";class Os{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid"),Os.MOCK_USER=new Os("mock-user");let Ms="12.2.0";const Ls=new xt("@firebase/firestore");function Fs(){return Ls.logLevel}function Us(e){if(Ls.logLevel<=gt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(zs);Ls.debug("Firestore (".concat(Ms,"): ").concat(e),...a)}}function Vs(e){if(Ls.logLevel<=gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(zs);Ls.error("Firestore (".concat(Ms,"): ").concat(e),...a)}}function qs(e){if(Ls.logLevel<=gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(zs);Ls.warn("Firestore (".concat(Ms,"): ").concat(e),...a)}}function zs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(u){return e}}function Bs(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Hs(e,r,n)}function Hs(e,t,n){let r="FIRESTORE (".concat(Ms,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Vs(r),new Error(r)}function Ks(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||Hs(t,a,r)}function Ws(e,t){return e}const Gs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qs extends et{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Xs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ys{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Js{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Os.UNAUTHENTICATED))}shutdown(){}}class $s{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zs{constructor(e){this.t=e,this.currentUser=Os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ks(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xs,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Us("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Us("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xs)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Us("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ks("string"==typeof t.accessToken,31837,{l:t}),new Ys(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ks(null===e||"string"==typeof e,2055,{h:e}),new Os(e)}}class eo{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Os.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class to{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new eo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class no{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ro{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ks(void 0===this.o,3512);const n=e=>{null!=e.error&&Us("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Us("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Us("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Us("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new no(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ks("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new no(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ao(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class io{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ao(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function so(e,t){return e<t?-1:e>t?1:0}function oo(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),a=t.charAt(r);if(n!==a)return uo(n)===uo(a)?so(n,a):uo(n)?1:-1}return so(e.length,t.length)}const lo=55296,co=57343;function uo(e){const t=e.charCodeAt(0);return t>=lo&&t<=co}function ho(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const fo="__name__";class mo{constructor(e,t,n){void 0===t?t=0:t>e.length&&Bs(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Bs(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=mo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return so(e.length,t.length)}static compareSegments(e,t){const n=mo.isNumericId(e),r=mo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?mo.extractNumericId(e).compare(mo.extractNumericId(t)):oo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class po extends mo{construct(e,t,n){return new po(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Qs(Gs.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new po(e)}static emptyPath(){return new po([])}}const go=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yo extends mo{construct(e,t,n){return new yo(e,t,n)}static isValidIdentifier(e){return go.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===fo}static keyField(){return new yo([fo])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Qs(Gs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qs(Gs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qs(Gs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new Qs(Gs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yo(t)}static emptyPath(){return new yo([])}}class vo{constructor(e){this.path=e}static fromPath(e){return new vo(po.fromString(e))}static fromName(e){return new vo(po.fromString(e).popFirst(5))}static empty(){return new vo(po.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===po.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return po.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vo(new po(e.slice()))}}function bo(e,t,n){if(!n)throw new Qs(Gs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _o(e){if(!vo.isDocumentKey(e))throw new Qs(Gs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xo(e){if(vo.isDocumentKey(e))throw new Qs(Gs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ko(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Bs(12329,{type:typeof e})}function No(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qs(Gs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ko(e);throw new Qs(Gs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function So(e,t){const n={typeString:e};return t&&(n.value=t),n}function Co(e,t){if(!wo(e))throw new Qs(Gs.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(a&&typeof s!==a){n="JSON field '".concat(r,"' must be a ").concat(a,".");break}if(void 0!==i&&s!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Qs(Gs.INVALID_ARGUMENT,n);return!0}const Eo=-62135596800,To=1e6;class jo{static now(){return jo.fromMillis(Date.now())}static fromDate(e){return jo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*To);return new jo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Eo)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/To}_compareTo(e){return this.seconds===e.seconds?so(this.nanoseconds,e.nanoseconds):so(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jo._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Co(e,jo._jsonSchema))return new jo(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jo._jsonSchemaVersion="firestore/timestamp/1.0",jo._jsonSchema={type:So("string",jo._jsonSchemaVersion),seconds:So("number"),nanoseconds:So("number")};class Io{static fromTimestamp(e){return new Io(e)}static min(){return new Io(new jo(0,0))}static max(){return new Io(new jo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ao=-1;class Po{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Po.UNKNOWN_ID=-1;function Do(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Io.fromTimestamp(1e9===r?new jo(n+1,0):new jo(n,r));return new Oo(a,vo.empty(),t)}function Ro(e){return new Oo(e.readTime,e.key,Ao)}class Oo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Oo(Io.min(),vo.empty(),Ao)}static max(){return new Oo(Io.max(),vo.empty(),Ao)}}function Mo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=vo.comparator(e.documentKey,t.documentKey),0!==n?n:so(e.largestBatchId,t.largestBatchId))}const Lo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Uo(e){if(e.code!==Gs.FAILED_PRECONDITION||e.message!==Lo)throw e;Us("LocalStore","Unexpectedly lost primary lease")}class Vo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bs(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Vo?t:Vo.resolve(t)}catch(e){return Vo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Vo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Vo.reject(t)}static resolve(e){return new Vo((t,n)=>{t(e)})}static reject(e){return new Vo((t,n)=>{n(e)})}static waitFor(e){return new Vo((t,n)=>{let r=0,a=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++a,i&&a===r&&t()},e=>n(e))}),i=!0,a===r&&t()})}static or(e){let t=Vo.resolve(!1);for(const n of e)t=t.next(e=>e?Vo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Vo((n,r)=>{const a=e.length,i=new Array(a);let s=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++s,s===a&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Vo((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function qo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(e){return"IndexedDbTransactionError"===e.name}class Bo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bo.ce=-1;const Ho=-1;function Ko(e){return null==e}function Wo(e){return 0===e&&1/e==-1/0}function Go(e){return"number"==typeof e&&Number.isInteger(e)&&!Wo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Qo="\x01";function Xo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Jo(t)),t=Yo(e.get(n),t);return Jo(t)}function Yo(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case Qo:n+="\x01\x11";break;default:n+=t}}return n}function Jo(e){return e+Qo+"\x01"}const $o="remoteDocuments",Zo="owner",el="mutationQueues",tl="mutations";const nl="documentMutations",rl="remoteDocumentsV14",al="remoteDocumentGlobal",il="targets",sl="targetDocuments",ol="targetGlobal",ll="collectionParents",cl="clientMetadata",ul="bundles",dl="namedQueries",hl="indexConfiguration",fl="indexState",ml="indexEntries",pl="documentOverlays",gl="globals",yl=[el,tl,nl,$o,il,Zo,ol,sl,cl,al,ll,ul,dl],vl=[el,tl,nl,rl,il,Zo,ol,sl,cl,al,ll,ul,dl,pl],bl=vl,_l=[...bl,hl,fl,ml];function xl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Nl{constructor(e,t){this.comparator=e,this.root=t||Cl.EMPTY}insert(e,t){return new Nl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cl.BLACK,null,null))}remove(e){return new Nl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sl(this.root,e,this.comparator,!0)}}class Sl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cl{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Cl.RED,this.left=null!=r?r:Cl.EMPTY,this.right=null!=a?a:Cl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new Cl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Cl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Cl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bs(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bs(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bs(27949);return e+(this.isRed()?0:1)}}Cl.EMPTY=null,Cl.RED=!0,Cl.BLACK=!1,Cl.EMPTY=new class{constructor(){this.size=0}get key(){throw Bs(57766)}get value(){throw Bs(16141)}get color(){throw Bs(16727)}get left(){throw Bs(29726)}get right(){throw Bs(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new Cl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class El{constructor(e){this.comparator=e,this.data=new Nl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tl(this.data.getIterator())}getIteratorFrom(e){return new Tl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof El))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new El(this.comparator);return t.data=e,t}}class Tl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jl{constructor(e){this.fields=e,e.sort(yo.comparator)}static empty(){return new jl([])}unionWith(e){let t=new El(yo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new jl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Il extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Al{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Il("Invalid base64 string: "+e):e}}(e);return new Al(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Al(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return so(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Al.EMPTY_BYTE_STRING=new Al("");const Pl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(e){if(Ks(!!e,39018),"string"==typeof e){let t=0;const n=Pl.exec(e);if(Ks(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Rl(e.seconds),nanos:Rl(e.nanos)}}function Rl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ol(e){return"string"==typeof e?Al.fromBase64String(e):Al.fromUint8Array(e)}const Ml="server_timestamp",Ll="__type__",Fl="__previous_value__",Ul="__local_write_time__";function Vl(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ll])||void 0===t?void 0:t.stringValue)===Ml}function ql(e){const t=e.mapValue.fields[Fl];return Vl(t)?ql(t):t}function zl(e){const t=Dl(e.mapValue.fields[Ul].timestampValue);return new jo(t.seconds,t.nanos)}class Bl{constructor(e,t,n,r,a,i,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Hl="(default)";class Kl{constructor(e,t){this.projectId=e,this.database=t||Hl}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===Hl}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const Wl="__type__",Gl="__max__",Ql={mapValue:{fields:{__type__:{stringValue:Gl}}}},Xl="__vector__",Yl="value";function Jl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vl(e)?4:fc(e)?9007199254740991:dc(e)?10:11:Bs(28295,{value:e})}function $l(e,t){if(e===t)return!0;const n=Jl(e);if(n!==Jl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zl(e).isEqual(zl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Dl(e.timestampValue),r=Dl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ol(e.bytesValue).isEqual(Ol(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rl(e.geoPointValue.latitude)===Rl(t.geoPointValue.latitude)&&Rl(e.geoPointValue.longitude)===Rl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rl(e.integerValue)===Rl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Rl(e.doubleValue),r=Rl(t.doubleValue);return n===r?Wo(n)===Wo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ho(e.arrayValue.values||[],t.arrayValue.values||[],$l);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xl(n)!==xl(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!$l(n[a],r[a])))return!1;return!0}(e,t);default:return Bs(52216,{left:e})}}function Zl(e,t){return void 0!==(e.values||[]).find(e=>$l(e,t))}function ec(e,t){if(e===t)return 0;const n=Jl(e),r=Jl(t);if(n!==r)return so(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return so(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Rl(e.integerValue||e.doubleValue),r=Rl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tc(e.timestampValue,t.timestampValue);case 4:return tc(zl(e),zl(t));case 5:return oo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ol(e),r=Ol(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=so(n[a],r[a]);if(0!==e)return e}return so(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=so(Rl(e.latitude),Rl(t.latitude));return 0!==n?n:so(Rl(e.longitude),Rl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nc(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,a,i){const s=e.fields||{},o=t.fields||{},l=null===(n=s[Yl])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Yl])||void 0===r?void 0:r.arrayValue,u=so((null===l||void 0===l||null===(a=l.values)||void 0===a?void 0:a.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:nc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ql.mapValue&&t===Ql.mapValue)return 0;if(e===Ql.mapValue)return 1;if(t===Ql.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=oo(r[s],i[s]);if(0!==e)return e;const t=ec(n[r[s]],a[i[s]]);if(0!==t)return t}return so(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Bs(23264,{he:n})}}function tc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return so(e,t);const n=Dl(e),r=Dl(t),a=so(n.seconds,r.seconds);return 0!==a?a:so(n.nanos,r.nanos)}function nc(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=ec(n[a],r[a]);if(e)return e}return so(n.length,r.length)}function rc(e){return ac(e)}function ac(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Dl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ol(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return vo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ac(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(ac(e.fields[a]));return n+"}"}(e.mapValue):Bs(61005,{value:e})}function ic(e){switch(Jl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ql(e);return t?16+ic(t):16;case 5:return 2*e.stringValue.length;case 6:return Ol(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+ic(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return wl(e.fields,(e,n)=>{t+=e.length+ic(n)}),t}(e.mapValue);default:throw Bs(13486,{value:e})}}function sc(e){return!!e&&"integerValue"in e}function oc(e){return!!e&&"arrayValue"in e}function lc(e){return!!e&&"nullValue"in e}function cc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uc(e){return!!e&&"mapValue"in e}function dc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Wl])||void 0===t?void 0:t.stringValue)===Xl}function hc(e){if(e.geoPointValue)return{geoPointValue:o({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:o({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=hc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hc(e.arrayValue.values[n]);return t}return o({},e)}function fc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Gl}class mc{constructor(e){this.value=e}static empty(){return new mc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=yo.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=hc(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];uc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new mc(hc(this.value))}}function pc(e){const t=[];return wl(e.fields,(e,n)=>{const r=new yo([e]);if(uc(n)){const e=pc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new jl(t)}class gc{constructor(e,t,n,r,a,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=s}static newInvalidDocument(e){return new gc(e,0,Io.min(),Io.min(),Io.min(),mc.empty(),0)}static newFoundDocument(e,t,n,r){return new gc(e,1,t,Io.min(),n,r,0)}static newNoDocument(e,t){return new gc(e,2,t,Io.min(),Io.min(),mc.empty(),0)}static newUnknownDocument(e,t){return new gc(e,3,t,Io.min(),Io.min(),mc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Io.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Io.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class yc{constructor(e,t){this.position=e,this.inclusive=t}}function vc(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(r=i.field.isKeyField()?vo.comparator(vo.fromName(s.referenceValue),n.key):ec(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function bc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$l(e.position[n],t.position[n]))return!1;return!0}class _c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function xc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wc{}class kc extends wc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ac(e,t,n):"array-contains"===t?new Oc(e,n):"in"===t?new Mc(e,n):"not-in"===t?new Lc(e,n):"array-contains-any"===t?new Fc(e,n):new kc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pc(e,n):new Dc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ec(t,this.value)):null!==t&&Jl(this.value)===Jl(t)&&this.matchesComparison(ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bs(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nc extends wc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nc(e,t)}matches(e){return Sc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sc(e){return"and"===e.op}function Cc(e){return Ec(e)&&Sc(e)}function Ec(e){for(const t of e.filters)if(t instanceof Nc)return!1;return!0}function Tc(e){if(e instanceof kc)return e.field.canonicalString()+e.op.toString()+rc(e.value);if(Cc(e))return e.filters.map(e=>Tc(e)).join(",");{const t=e.filters.map(e=>Tc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function jc(e,t){return e instanceof kc?function(e,t){return t instanceof kc&&e.op===t.op&&e.field.isEqual(t.field)&&$l(e.value,t.value)}(e,t):e instanceof Nc?function(e,t){return t instanceof Nc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&jc(n,t.filters[r]),!0)}(e,t):void Bs(19439)}function Ic(e){return e instanceof kc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rc(e.value))}(e):e instanceof Nc?function(e){return e.op.toString()+" {"+e.getFilters().map(Ic).join(" ,")+"}"}(e):"Filter"}class Ac extends kc{constructor(e,t,n){super(e,t,n),this.key=vo.fromName(n.referenceValue)}matches(e){const t=vo.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pc extends kc{constructor(e,t){super(e,"in",t),this.keys=Rc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Dc extends kc{constructor(e,t){super(e,"not-in",t),this.keys=Rc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>vo.fromName(e.referenceValue))}class Oc extends kc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oc(t)&&Zl(t.arrayValue,this.value)}}class Mc extends kc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zl(this.value.arrayValue,t)}}class Lc extends kc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Zl(this.value.arrayValue,t)}}class Fc extends kc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Zl(this.value.arrayValue,e))}}class Uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=s,this.Te=null}}function Vc(e){return new Uc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qc(e){const t=Ws(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Tc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ko(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>rc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>rc(e)).join(",")),t.Te=e}return t.Te}function zc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bc(e.startAt,t.startAt)&&bc(e.endAt,t.endAt)}function Bc(e){return vo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kc(e,t,n,r,a,i,s,o){return new Hc(e,t,n,r,a,i,s,o)}function Wc(e){return new Hc(e)}function Gc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qc(e){return null!==e.collectionGroup}function Xc(e){const t=Ws(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new El(yo.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new _c(r,n))}),e.has(yo.keyField().canonicalString())||t.Ie.push(new _c(yo.keyField(),n))}return t.Ie}function Yc(e){const t=Ws(e);return t.Ee||(t.Ee=Jc(t,Xc(e))),t.Ee}function Jc(e,t){if("F"===e.limitType)return Vc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new _c(e.field,t)});const n=e.endAt?new yc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yc(e.startAt.position,e.startAt.inclusive):null;return Vc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $c(e,t,n){return new Hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zc(e,t){return zc(Yc(e),Yc(t))&&e.limitType===t.limitType}function eu(e){return"".concat(qc(Yc(e)),"|lt:").concat(e.limitType)}function tu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Ic(e)).join(", "),"]")),Ko(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>rc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>rc(e)).join(",")),"Target(".concat(t,")")}(Yc(e)),"; limitType=").concat(e.limitType,")")}function nu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Xc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=vc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xc(e),t))&&!(e.endAt&&!function(e,t,n){const r=vc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xc(e),t))}(e,t)}function ru(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function au(e){return(t,n)=>{let r=!1;for(const a of Xc(e)){const e=iu(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function iu(e,t,n){const r=e.field.isKeyField()?vo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?ec(r,a):Bs(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bs(19790,{direction:e.dir})}}class su{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wl(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return kl(this.inner)}size(){return this.innerSize}}const ou=new Nl(vo.comparator);function lu(){return ou}const cu=new Nl(vo.comparator);function uu(){let e=cu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function du(e){let t=cu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function hu(){return mu()}function fu(){return mu()}function mu(){return new su(e=>e.toString(),(e,t)=>e.isEqual(t))}const pu=new Nl(vo.comparator),gu=new El(vo.comparator);function yu(){let e=gu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const vu=new El(so);function bu(){return vu}function _u(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wo(t)?"-0":t}}function xu(e){return{integerValue:""+e}}function wu(e,t){return Go(t)?xu(t):_u(e,t)}class ku{constructor(){this._=void 0}}function Nu(e,t,n){return e instanceof Eu?function(e,t){const n={fields:{[Ll]:{stringValue:Ml},[Ul]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Vl(t)&&(t=ql(t)),t&&(n.fields[Fl]=t),{mapValue:n}}(n,t):e instanceof Tu?ju(e,t):e instanceof Iu?Au(e,t):function(e,t){const n=Cu(e,t),r=Du(n)+Du(e.Ae);return sc(n)&&sc(e.Ae)?xu(r):_u(e.serializer,r)}(e,t)}function Su(e,t,n){return e instanceof Tu?ju(e,t):e instanceof Iu?Au(e,t):n}function Cu(e,t){return e instanceof Pu?function(e){return sc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Eu extends ku{}class Tu extends ku{constructor(e){super(),this.elements=e}}function ju(e,t){const n=Ru(t);for(const r of e.elements)n.some(e=>$l(e,r))||n.push(r);return{arrayValue:{values:n}}}class Iu extends ku{constructor(e){super(),this.elements=e}}function Au(e,t){let n=Ru(t);for(const r of e.elements)n=n.filter(e=>!$l(e,r));return{arrayValue:{values:n}}}class Pu extends ku{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Du(e){return Rl(e.integerValue||e.doubleValue)}function Ru(e){return oc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ou{constructor(e,t){this.version=e,this.transformResults=t}}class Mu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mu}static exists(e){return new Mu(void 0,e)}static updateTime(e){return new Mu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fu{}function Uu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xu(e.key,Mu.none()):new Hu(e.key,e.data,Mu.none());{const n=e.data,r=mc.empty();let a=new El(yo.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new Ku(e.key,r,new jl(a.toArray()),Mu.none())}}function Vu(e,t,n){e instanceof Hu?function(e,t,n){const r=e.value.clone(),a=Gu(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ku?function(e,t,n){if(!Lu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Gu(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Wu(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qu(e,t,n,r){return e instanceof Hu?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const a=e.value.clone(),i=Qu(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ku?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const a=Qu(e.fieldTransforms,r,t),i=t.data;return i.setAll(Wu(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Lu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=Cu(r.transform,e||null);null!=a&&(null===n&&(n=mc.empty()),n.set(r.field,a))}return n||null}function Bu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ho(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tu&&t instanceof Tu||e instanceof Iu&&t instanceof Iu?ho(e.elements,t.elements,$l):e instanceof Pu&&t instanceof Pu?$l(e.Ae,t.Ae):e instanceof Eu&&t instanceof Eu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hu extends Fu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ku extends Fu{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Wu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Gu(e,t,n){const r=new Map;Ks(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);r.set(i.field,Su(s,o,n[a]))}return r}function Qu(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,Nu(e,i,t))}return r}class Xu extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yu extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ju{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Vu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fu();return this.mutations.forEach(r=>{const a=e.get(r.key),i=a.overlayedDocument;let s=this.applyToLocalView(i,a.mutatedFields);s=t.has(r.key)?null:s;const o=Uu(i,s);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Io.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yu())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(e,t)=>Bu(e,t))&&ho(this.baseMutations,e.baseMutations,(e,t)=>Bu(e,t))}}class $u{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ks(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=pu;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new $u(e,t,n,r)}}class Zu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ed{constructor(e,t){this.count=e,this.unchangedNames=t}}var td,nd;function rd(e){switch(e){case Gs.OK:return Bs(64938);case Gs.CANCELLED:case Gs.UNKNOWN:case Gs.DEADLINE_EXCEEDED:case Gs.RESOURCE_EXHAUSTED:case Gs.INTERNAL:case Gs.UNAVAILABLE:case Gs.UNAUTHENTICATED:return!1;case Gs.INVALID_ARGUMENT:case Gs.NOT_FOUND:case Gs.ALREADY_EXISTS:case Gs.PERMISSION_DENIED:case Gs.FAILED_PRECONDITION:case Gs.ABORTED:case Gs.OUT_OF_RANGE:case Gs.UNIMPLEMENTED:case Gs.DATA_LOSS:return!0;default:return Bs(15467,{code:e})}}function ad(e){if(void 0===e)return Vs("GRPC error has no .code"),Gs.UNKNOWN;switch(e){case td.OK:return Gs.OK;case td.CANCELLED:return Gs.CANCELLED;case td.UNKNOWN:return Gs.UNKNOWN;case td.DEADLINE_EXCEEDED:return Gs.DEADLINE_EXCEEDED;case td.RESOURCE_EXHAUSTED:return Gs.RESOURCE_EXHAUSTED;case td.INTERNAL:return Gs.INTERNAL;case td.UNAVAILABLE:return Gs.UNAVAILABLE;case td.UNAUTHENTICATED:return Gs.UNAUTHENTICATED;case td.INVALID_ARGUMENT:return Gs.INVALID_ARGUMENT;case td.NOT_FOUND:return Gs.NOT_FOUND;case td.ALREADY_EXISTS:return Gs.ALREADY_EXISTS;case td.PERMISSION_DENIED:return Gs.PERMISSION_DENIED;case td.FAILED_PRECONDITION:return Gs.FAILED_PRECONDITION;case td.ABORTED:return Gs.ABORTED;case td.OUT_OF_RANGE:return Gs.OUT_OF_RANGE;case td.UNIMPLEMENTED:return Gs.UNIMPLEMENTED;case td.DATA_LOSS:return Gs.DATA_LOSS;default:return Bs(39323,{code:e})}}(nd=td||(td={}))[nd.OK=0]="OK",nd[nd.CANCELLED=1]="CANCELLED",nd[nd.UNKNOWN=2]="UNKNOWN",nd[nd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nd[nd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nd[nd.NOT_FOUND=5]="NOT_FOUND",nd[nd.ALREADY_EXISTS=6]="ALREADY_EXISTS",nd[nd.PERMISSION_DENIED=7]="PERMISSION_DENIED",nd[nd.UNAUTHENTICATED=16]="UNAUTHENTICATED",nd[nd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nd[nd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nd[nd.ABORTED=10]="ABORTED",nd[nd.OUT_OF_RANGE=11]="OUT_OF_RANGE",nd[nd.UNIMPLEMENTED=12]="UNIMPLEMENTED",nd[nd.INTERNAL=13]="INTERNAL",nd[nd.UNAVAILABLE=14]="UNAVAILABLE",nd[nd.DATA_LOSS=15]="DATA_LOSS";let id=null;function sd(){return new TextEncoder}const od=new bs([4294967295,4294967295],0);function ld(e){const t=sd().encode(e),n=new _s;return n.update(t),new Uint8Array(n.digest())}function cd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new bs([n,r],0),new bs([a,i],0)]}class ud{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new dd("Invalid padding: ".concat(t));if(n<0)throw new dd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new dd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new dd("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=bs.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(bs.fromNumber(n)));return 1===r.compare(od)&&(r=new bs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ld(e),[n,r]=cd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new ud(a,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=ld(e),[n,r]=cd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hd{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hd(Io.min(),r,new Nl(so),lu(),yu())}}class fd{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fd(n,t,yu(),yu(),yu())}}class md{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class pd{constructor(e,t){this.targetId=e,this.Ce=t}}class gd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Al.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class yd{constructor(){this.ve=0,this.Fe=_d(),this.Me=Al.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yu(),t=yu(),n=yu();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bs(38017,{changeType:a})}}),new fd(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=_d()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ks(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vd{constructor(e){this.Ge=e,this.ze=new Map,this.je=lu(),this.Je=bd(),this.He=bd(),this.Ye=new Nl(so)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Bs(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Bc(i))if(0===n){const e=new vo(i.path);this.et(t,e,gc.newNoDocument(e,Io.min()))}else Ks(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var a;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(a=id)||void 0===a||a.lt(function(e,t,n,r,a,i,s,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===a,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let i,s;try{i=Ol(n).toUint8Array()}catch(e){if(e instanceof Il)return qs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new ud(i,r,a)}catch(e){return qs(e instanceof dd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Ge.ht(),i="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const a=this.ot(r);if(a){if(n.current&&Bc(a.target)){const t=new vo(a.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,gc.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=yu();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new hd(e,t,this.Ye,this.je,n);return this.je=lu(),this.Je=bd(),this.He=bd(),this.Ye=new Nl(so),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new yd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new El(so),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new El(so),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Us("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function bd(){return new Nl(vo.comparator)}function _d(){return new Nl(vo.comparator)}const xd={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kd={and:"AND",or:"OR"};class Nd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sd(e,t){return e.useProto3Json||Ko(t)?t:{value:t}}function Cd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ed(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Td(e,t){return Cd(e,t.toTimestamp())}function jd(e){return Ks(!!e,49232),Io.fromTimestamp(function(e){const t=Dl(e);return new jo(t.seconds,t.nanos)}(e))}function Id(e,t){return Ad(e,t).canonicalString()}function Ad(e,t){const n=function(e){return new po(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Pd(e){const t=po.fromString(e);return Ks($d(t),10190,{key:t.toString()}),t}function Dd(e,t){return Id(e.databaseId,t.path)}function Rd(e,t){const n=Pd(t);if(n.get(1)!==e.databaseId.projectId)throw new Qs(Gs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qs(Gs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vo(Fd(n))}function Od(e,t){return Id(e.databaseId,t)}function Md(e){const t=Pd(e);return 4===t.length?po.emptyPath():Fd(t)}function Ld(e){return new po(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fd(e){return Ks(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ud(e,t,n){return{name:Dd(e,t),fields:n.value.mapValue.fields}}function Vd(e,t){let n;if(t instanceof Hu)n={update:Ud(e,t.key,t.value)};else if(t instanceof Xu)n={delete:Dd(e,t.key)};else if(t instanceof Ku)n={update:Ud(e,t.key,t.data),updateMask:Jd(t.fieldMask)};else{if(!(t instanceof Yu))return Bs(16599,{Vt:t.type});n={verify:Dd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pu)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Bs(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Td(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bs(27497)}(e,t.precondition)),n}function qd(e,t){return{documents:[Od(e,t.path)]}}function zd(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Od(e,a);const i=function(e){if(0!==e.length)return Yd(Nc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Qd(e.field),direction:Kd(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Sd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:a}}function Bd(e){let t=Md(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ks(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Hd(e);return t instanceof Nc&&Cc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new _c(Xd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ko(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new yc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new yc(n,t)}(n.endAt)),Kc(t,a,s,i,o,"F",l,c)}function Hd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xd(e.unaryFilter.field);return kc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xd(e.unaryFilter.field);return kc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xd(e.unaryFilter.field);return kc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xd(e.unaryFilter.field);return kc.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bs(61313);default:return Bs(60726)}}(e):void 0!==e.fieldFilter?function(e){return kc.create(Xd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bs(58110);default:return Bs(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Nc.create(e.compositeFilter.filters.map(e=>Hd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bs(1026)}}(e.compositeFilter.op))}(e):Bs(30097,{filter:e})}function Kd(e){return xd[e]}function Wd(e){return wd[e]}function Gd(e){return kd[e]}function Qd(e){return{fieldPath:e.canonicalString()}}function Xd(e){return yo.fromServerFormat(e.fieldPath)}function Yd(e){return e instanceof kc?function(e){if("=="===e.op){if(cc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NAN"}};if(lc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NAN"}};if(lc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qd(e.field),op:Wd(e.op),value:e.value}}}(e):e instanceof Nc?function(e){const t=e.getFilters().map(e=>Yd(e));return 1===t.length?t[0]:{compositeFilter:{op:Gd(e.op),filters:t}}}(e):Bs(54877,{filter:e})}function Jd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $d(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zd{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Io.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Io.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Al.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Zd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eh{constructor(e){this.yt=e}}function th(e){const t=Bd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$c(t,t.limit,"L"):t}class nh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Rl(e.integerValue));else if("doubleValue"in e){const n=Rl(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Wo(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Dl(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ol(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?fc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):dc(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Bs(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const a=Yl,i=(null===(n=r[a].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Rl(i)),this.Ot(a,t),this.Ct(r[a],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),vo.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}nh.Kt=new nh;class rh{constructor(){this.Cn=new ah}addToCollectionParentIndex(e,t){return this.Cn.add(t),Vo.resolve()}getCollectionParents(e,t){return Vo.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Vo.resolve()}deleteFieldIndex(e,t){return Vo.resolve()}deleteAllFieldIndexes(e){return Vo.resolve()}createTargetIndexes(e,t){return Vo.resolve()}getDocumentsMatchingTarget(e,t){return Vo.resolve(null)}getIndexType(e,t){return Vo.resolve(0)}getFieldIndexes(e,t){return Vo.resolve([])}getNextCollectionGroupToUpdate(e){return Vo.resolve(null)}getMinOffset(e,t){return Vo.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,t){return Vo.resolve(Oo.min())}updateCollectionGroup(e,t,n){return Vo.resolve()}updateIndexEntries(e,t){return Vo.resolve()}}class ah{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new El(po.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new El(po.comparator)).toArray()}}new Uint8Array(0);const ih={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sh=41943040;class oh{static withCacheSize(e){return new oh(e,oh.DEFAULT_COLLECTION_PERCENTILE,oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}oh.DEFAULT_COLLECTION_PERCENTILE=10,oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oh.DEFAULT=new oh(sh,oh.DEFAULT_COLLECTION_PERCENTILE,oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oh.DISABLED=new oh(-1,0,0);class lh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lh(0)}static cr(){return new lh(-1)}}const ch="LruGarbageCollector",uh=1048576;function dh(e,t){let[n,r]=e,[a,i]=t;const s=so(n,a);return 0===s?so(r,i):s}class hh{constructor(e){this.Ir=e,this.buffer=new El(dh),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();dh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Us(ch,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){zo(e)?Us(ch,"Ignoring IndexedDB error during garbage collection: ",e):await Uo(e)}await this.Vr(3e5)})}}class mh{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Vo.resolve(Bo.ce);const n=new hh(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Us("LruGarbageCollector","Garbage collection skipped; disabled"),Vo.resolve(ih)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Us("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),ih):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,a,i,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Us("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Fs()<=gt.DEBUG&&Us("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Vo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})))}}function ph(e,t){return new mh(e,t)}class gh{constructor(){this.changes=new su(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&qu(n.mutation,e,jl.empty(),jo.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,yu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yu();const r=hu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=uu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=hu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,yu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=lu();const i=mu(),s=mu();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ku)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),qu(s.mutation,t,s.mutation.getFieldMask(),jo.now())):i.set(t.key,jl.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new yh(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=mu();let r=new Nl((e,t)=>e-t),a=yu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||jl.empty();s=a.applyToLocalView(i,s),n.set(e,s);const o=(r.get(a.batchId)||yu()).add(e);r=r.insert(a.batchId,o)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=fu();l.forEach(e=>{if(!a.has(e)){const r=Uu(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Vo.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return vo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Vo.resolve(hu());let s=Ao,o=a;return i.next(t=>Vo.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Vo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,o,t,yu())).next(e=>({batchId:s,changes:du(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vo(t)).next(e=>{let t=uu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let i=uu();return this.indexManager.getCollectionParents(e,a).next(s=>Vo.forEach(s,s=>{const o=function(e,t){return new Hc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,gc.newInvalidDocument(r)))});let n=uu();return e.forEach((e,r)=>{const i=a.get(e);void 0!==i&&qu(i.mutation,r,jl.empty(),jo.now()),nu(t,r)&&(n=n.insert(e,r))}),n})}}class bh{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Vo.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:jd(e.createTime)}}(t)),Vo.resolve()}getNamedQuery(e,t){return Vo.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:th(e.bundledQuery),readTime:jd(e.readTime)}}(t)),Vo.resolve()}}class _h{constructor(){this.overlays=new Nl(vo.comparator),this.qr=new Map}getOverlay(e,t){return Vo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hu();return Vo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Vo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Vo.resolve()}getOverlaysForCollection(e,t,n){const r=hu(),a=t.length+1,i=new vo(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Vo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new Nl((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=hu(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=hu(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Vo.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zu(t,n));let a=this.qr.get(t);void 0===a&&(a=yu(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}class xh{constructor(){this.sessionToken=Al.EMPTY_BYTE_STRING}getSessionToken(e){return Vo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Vo.resolve()}}class wh{constructor(){this.Qr=new El(kh.$r),this.Ur=new El(kh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new kh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new kh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new vo(new po([])),n=new kh(t,e),r=new kh(t,e+1),a=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),a.push(e.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new vo(new po([])),n=new kh(t,e),r=new kh(t,e+1);let a=yu();return this.Ur.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new kh(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class kh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return vo.comparator(e.key,t.key)||so(e.Yr,t.Yr)}static Kr(e,t){return so(e.Yr,t.Yr)||vo.comparator(e.key,t.key)}}class Nh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new El(kh.$r)}checkEmpty(e){return Vo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ju(a,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new kh(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Vo.resolve(i)}lookupMutationBatch(e,t){return Vo.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),a=r<0?0:r;return Vo.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Vo.resolve(0===this.mutationQueue.length?Ho:this.tr-1)}getAllMutationBatches(e){return Vo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new kh(t,0),r=new kh(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);a.push(t)}),Vo.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new El(so);return t.forEach(e=>{const t=new kh(e,0),r=new kh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Vo.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;vo.isDocumentKey(a)||(a=a.child(""));const i=new kh(new vo(a),0);let s=new El(so);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),Vo.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ks(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Vo.forEach(t.mutations,r=>{const a=new kh(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new kh(t,0),r=this.Zr.firstAfterOrEqual(n);return Vo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Vo.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sh{constructor(e){this.ri=e,this.docs=new Nl(vo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vo.resolve(n?n.document.mutableCopy():gc.newInvalidDocument(t))}getEntries(e,t){let n=lu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gc.newInvalidDocument(e))}),Vo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=lu();const i=t.path,s=new vo(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Mo(Ro(s),n)<=0||(r.has(s.key)||nu(t,s))&&(a=a.insert(s.key,s.mutableCopy()))}return Vo.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Bs(9500)}ii(e,t){return Vo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Ch(this)}getSize(e){return Vo.resolve(this.size)}}class Ch extends gh{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Vo.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Eh{constructor(e){this.persistence=e,this.si=new su(e=>qc(e),zc),this.lastRemoteSnapshotVersion=Io.min(),this.highestTargetId=0,this.oi=0,this._i=new wh,this.targetCount=0,this.ai=lh.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Vo.resolve()}getLastRemoteSnapshotVersion(e){return Vo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vo.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Vo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Vo.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new lh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Vo.resolve()}updateTargetData(e,t){return this.Pr(t),Vo.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Vo.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Vo.waitFor(a).next(()=>r)}getTargetCount(e){return Vo.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Vo.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Vo.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),Vo.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Vo.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Vo.resolve(n)}containsKey(e,t){return Vo.resolve(this._i.containsKey(t))}}class Th{constructor(e,t){this.ui={},this.overlays={},this.ci=new Bo(0),this.li=!1,this.li=!0,this.hi=new xh,this.referenceDelegate=e(this),this.Pi=new Eh(this),this.indexManager=new rh,this.remoteDocumentCache=function(e){return new Sh(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new eh(t),this.Ii=new bh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _h,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Nh(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Us("MemoryPersistence","Starting transaction:",e);const r=new jh(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Vo.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class jh extends Fo{constructor(e){super(),this.currentSequenceNumber=e}}class Ih{constructor(e){this.persistence=e,this.Ri=new wh,this.Vi=null}static mi(e){return new Ih(e)}get fi(){if(this.Vi)return this.Vi;throw Bs(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Vo.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Vo.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Vo.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vo.forEach(this.fi,n=>{const r=vo.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Io.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Vo.or([()=>Vo.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ah{constructor(e,t){this.persistence=e,this.pi=new su(e=>Xo(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ph(this,t)}static mi(e,t){return new Ah(e,t)}Ei(){}di(e){return Vo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Vo.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Vo.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,a.removeEntry(r,Io.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Vo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Vo.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Vo.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Vo.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ic(e.data.value)),t}br(e,t,n){return Vo.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Vo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ph{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=yu(),r=yu();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Ph(e,t.fromCache,n,r)}}class Dh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Rh{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=$e()?8:qo(Ye())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ys(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ws(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new Dh;return this.Ss(e,t,n).next(r=>{if(a.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>a.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Fs()<=gt.DEBUG&&Us("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Vo.resolve()):(Fs()<=gt.DEBUG&&Us("QueryEngine","Query:",tu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Fs()<=gt.DEBUG&&Us("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yc(t))):Vo.resolve())}ys(e,t){if(Gc(t))return Vo.resolve(null);let n=Yc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=$c(t,null,"F"),n=Yc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=yu(...r);return this.ps.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,a,n.readTime)?this.ys(e,$c(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Gc(t)||r.isEqual(Io.min())?Vo.resolve(null):this.ps.getDocuments(e,n).next(a=>{const i=this.Ds(t,a);return this.Cs(t,i,n,r)?Vo.resolve(null):(Fs()<=gt.DEBUG&&Us("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tu(t)),this.vs(e,i,t,Do(r,Ao)).next(e=>e))})}Ds(e,t){let n=new El(au(e));return t.forEach((t,r)=>{nu(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return Fs()<=gt.DEBUG&&Us("QueryEngine","Using full collection scan to execute query:",tu(t)),this.ps.getDocumentsMatchingQuery(e,t,Oo.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Oh="LocalStore";class Mh{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Nl(so),this.xs=new su(e=>qc(e),zc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vh(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Lh(e,t,n,r){return new Mh(e,t,n,r)}async function Fh(e,t){const n=Ws(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],i=[];let s=yu();for(const e of r){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:a,addedBatchIds:i}))})})}function Uh(e){const t=Ws(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Vh(e,t,n){let r=yu(),a=yu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=lu();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Io.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Us(Oh,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:a}})}function qh(e,t){const n=Ws(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ho),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function zh(e,t){const n=Ws(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(a=>a?(r=a,Vo.resolve(r)):n.Pi.allocateTargetId(e).next(a=>(r=new Zd(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Bh(e,t,n){const r=Ws(e),a=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!zo(e))throw e;Us(Oh,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function Hh(e,t,n){const r=Ws(e);let a=Io.min(),i=yu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Ws(e),a=r.xs.get(n);return void 0!==a?Vo.resolve(r.Ms.get(a)):r.Pi.getTargetData(t,n)}(r,e,Yc(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?a:Io.min(),n?i:yu())).next(e=>(Kh(r,ru(t),e),{documents:e,Qs:i})))}function Kh(e,t,n){let r=e.Os.get(t)||Io.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Wh{constructor(){this.activeTargetIds=bu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gh{constructor(){this.Mo=new Wh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qh{Oo(e){}shutdown(){}}const Xh="ConnectivityMonitor";class Yh{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Us(Xh,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Us(Xh,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jh=null;function $h(){return null===Jh?Jh=268435456+Math.round(2147483648*Math.random()):Jh++,"0x"+Jh.toString(16)}const Zh="RestConnection",ef={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Hl?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,a){const i=$h(),s=this.zo(e,t.toUriEncodedString());Us(Zh,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,a);const{host:l}=new URL(s),c=Ke(l);return this.Jo(e,s,o,n,c).then(t=>(Us(Zh,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw qs(Zh,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,a,i){return this.Go(e,t,n,r,a)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ms,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=ef[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class nf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rf="WebChannelConnection";class af extends tf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const i=$h();return new Promise((a,s)=>{const o=new ks;o.setWithCredentials(!0),o.listenOnce(Ss.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Cs.NO_ERROR:const n=o.getResponseJson();Us(rf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),a(n);break;case Cs.TIMEOUT:Us(rf,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Qs(Gs.DEADLINE_EXCEEDED,"Request time out"));break;case Cs.HTTP_ERROR:const r=o.getStatus();if(Us(rf,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Gs).indexOf(t)>=0?t:Gs.UNKNOWN}(n.status);s(new Qs(e,n.message))}else s(new Qs(Gs.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Qs(Gs.UNAVAILABLE,"Connection failed."));break;default:Bs(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Us(rf,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Us(rf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=$h(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Is(),s=js(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=a.join("");Us(rf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new nf({Yo:t=>{h?Us(rf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Us(rf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Us(rf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,Ns.EventType.OPEN,()=>{h||(Us(rf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,Ns.EventType.CLOSE,()=>{h||(h=!0,Us(rf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,Ns.EventType.ERROR,t=>{h||(h=!0,qs(rf,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Qs(Gs.UNAVAILABLE,"The operation could not be completed")))}),m(u,Ns.EventType.MESSAGE,t=>{if(!h){var n;const a=t.data[0];Ks(!!a,16349);const i=a,s=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){Us(rf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=td[e];if(void 0!==t)return ad(t)}(t),a=s.message;void 0===n&&(n=Gs.INTERNAL,a="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new Qs(n,a)),u.close()}else Us(rf,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.u_(a)}}),m(s,Ts.STAT_EVENT,t=>{t.stat===Es.PROXY?Us(rf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Es.NOPROXY&&Us(rf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function sf(){return"undefined"!=typeof document?document:null}function of(e){return new Nd(e,!0)}class lf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Us("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cf="PersistentStream";class uf{constructor(e,t,n,r,a,i,s,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lf(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Gs.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Gs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Qs(Gs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Us(cf,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Us(cf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class df extends uf{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bs(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ks(void 0===t||"string"==typeof t,58123),Al.fromBase64String(t||"")):(Ks(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Al.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Gs.UNKNOWN:ad(e.code);return new Qs(t,e.message||"")}(s);n=new gd(r,a,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Rd(e,r.document.name),i=jd(r.document.updateTime),s=r.document.createTime?jd(r.document.createTime):Io.min(),o=new mc({mapValue:{fields:r.document.fields}}),l=gc.newFoundDocument(a,i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new md(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Rd(e,r.document),i=r.readTime?jd(r.readTime):Io.min(),s=gc.newNoDocument(a,i),o=r.removedTargetIds||[];n=new md([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Rd(e,r.document),i=r.removedTargetIds||[];n=new md([],i,a,null)}else{if(!("filter"in t))return Bs(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new ed(r,a),s=e.targetId;n=new pd(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Io.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Io.min():t.readTime?jd(t.readTime):Io.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ld(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bc(r)?{documents:qd(e,r)}:{query:zd(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ed(e,t.resumeToken);const r=Sd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Io.min())>0){n.readTime=Cd(e,t.snapshotVersion.toTimestamp());const r=Sd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bs(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ld(this.serializer),t.removeTarget=e,this.q_(t)}}class hf extends uf{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ks(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ks(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Ks(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Ks(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?jd(e.updateTime):jd(t);return n.isEqual(Io.min())&&(n=jd(t)),new Ou(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=jd(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ld(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Vd(this.serializer,e))};this.q_(t)}}class ff{}class mf extends ff{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Qs(Gs.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[i,s]=a;return this.connection.Go(e,Ad(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Gs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qs(Gs.UNKNOWN,e.toString())})}Ho(e,t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Ho(e,Ad(t,n),r,s,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Gs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qs(Gs.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class pf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Vs(t),this.aa=!1):Us("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const gf="RemoteStore";class yf{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Cf(this)&&(Us(gf,"Restarting streams for network reachability change."),await async function(e){const t=Ws(e);t.Ea.add(4),await bf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await vf(t)}(this))})}),this.Ra=new pf(n,r)}}async function vf(e){if(Cf(e))for(const t of e.da)await t(!0)}async function bf(e){for(const t of e.da)await t(!1)}function _f(e,t){const n=Ws(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Sf(n)?Nf(n):Kf(n).O_()&&wf(n,t))}function xf(e,t){const n=Ws(e),r=Kf(n);n.Ia.delete(t),r.O_()&&kf(n,t),0===n.Ia.size&&(r.O_()?r.L_():Cf(n)&&n.Ra.set("Unknown"))}function wf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Io.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Kf(e).Y_(t)}function kf(e,t){e.Va.Ue(t),Kf(e).Z_(t)}function Nf(e){e.Va=new vd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Kf(e).start(),e.Ra.ua()}function Sf(e){return Cf(e)&&!Kf(e).x_()&&e.Ia.size>0}function Cf(e){return 0===Ws(e).Ea.size}function Ef(e){e.Va=void 0}async function Tf(e){e.Ra.set("Online")}async function jf(e){e.Ia.forEach((t,n)=>{wf(e,t)})}async function If(e,t){Ef(e),Sf(e)?(e.Ra.ha(t),Nf(e)):e.Ra.set("Unknown")}async function Af(e,t,n){if(e.Ra.set("Online"),t instanceof gd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Us(gf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pf(e,n)}else if(t instanceof md?e.Va.Ze(t):t instanceof pd?e.Va.st(t):e.Va.tt(t),!n.isEqual(Io.min()))try{const t=await Uh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ia.get(r);a&&e.Ia.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Al.EMPTY_BYTE_STRING,r.snapshotVersion)),kf(e,t);const a=new Zd(r.target,t,n,r.sequenceNumber);wf(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Us(gf,"Failed to raise snapshot:",t),await Pf(e,t)}}async function Pf(e,t,n){if(!zo(t))throw t;e.Ea.add(1),await bf(e),e.Ra.set("Offline"),n||(n=()=>Uh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Us(gf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await vf(e)})}function Df(e,t){return t().catch(n=>Pf(e,n,t))}async function Rf(e){const t=Ws(e),n=Wf(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ho;for(;Of(t);)try{const e=await qh(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Mf(t,e)}catch(e){await Pf(t,e)}Lf(t)&&Ff(t)}function Of(e){return Cf(e)&&e.Ta.length<10}function Mf(e,t){e.Ta.push(t);const n=Wf(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Lf(e){return Cf(e)&&!Wf(e).x_()&&e.Ta.length>0}function Ff(e){Wf(e).start()}async function Uf(e){Wf(e).ra()}async function Vf(e){const t=Wf(e);for(const n of e.Ta)t.ea(n.mutations)}async function qf(e,t,n){const r=e.Ta.shift(),a=$u.from(r,t,n);await Df(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Rf(e)}async function zf(e,t){t&&Wf(e).X_&&await async function(e,t){if(function(e){return rd(e)&&e!==Gs.ABORTED}(t.code)){const n=e.Ta.shift();Wf(e).B_(),await Df(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Rf(e)}}(e,t),Lf(e)&&Ff(e)}async function Bf(e,t){const n=Ws(e);n.asyncQueue.verifyOperationInProgress(),Us(gf,"RemoteStore received new credentials");const r=Cf(n);n.Ea.add(3),await bf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await vf(n)}async function Hf(e,t){const n=Ws(e);t?(n.Ea.delete(2),await vf(n)):t||(n.Ea.add(2),await bf(n),n.Ra.set("Unknown"))}function Kf(e){return e.ma||(e.ma=function(e,t,n){const r=Ws(e);return r.sa(),new df(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Tf.bind(null,e),t_:jf.bind(null,e),r_:If.bind(null,e),H_:Af.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Sf(e)?Nf(e):e.Ra.set("Unknown")):(await e.ma.stop(),Ef(e))})),e.ma}function Wf(e){return e.fa||(e.fa=function(e,t,n){const r=Ws(e);return r.sa(),new hf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Uf.bind(null,e),r_:zf.bind(null,e),ta:Vf.bind(null,e),na:qf.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Rf(e)):(await e.fa.stop(),e.Ta.length>0&&(Us(gf,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Gf{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,s=new Gf(e,t,i,r,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qs(Gs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qf(e,t){if(Vs("AsyncQueue","".concat(t,": ").concat(e)),zo(e))return new Qs(Gs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Xf{static emptySet(e){return new Xf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||vo.comparator(t.key,n.key):(e,t)=>vo.comparator(e.key,t.key),this.keyedMap=uu(),this.sortedSet=new Nl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Xf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Yf{constructor(){this.ga=new Nl(vo.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Bs(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Jf{constructor(e,t,n,r,a,i,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Jf(e,t,Xf.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class $f{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Zf{constructor(){this.queries=em(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Ws(e),r=n.queries;n.queries=em(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Qs(Gs.ABORTED,"Firestore shutting down"))}}function em(){return new su(e=>eu(e),Zc)}async function tm(e,t){const n=Ws(e);let r=3;const a=t.query;let i=n.queries.get(a);i?!i.ba()&&t.Da()&&(r=2):(i=new $f,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(a,!0);break;case 1:i.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Qf(e,"Initialization of query '".concat(tu(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&im(n)}async function nm(e,t){const n=Ws(e),r=t.query;let a=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rm(e,t){const n=Ws(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(a)&&(r=!0);t.wa=a}}r&&im(n)}function am(e,t,n){const r=Ws(e),a=r.queries.get(t);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(t)}function im(e){e.Ca.forEach(e=>{e.next()})}var sm,om;(om=sm||(sm={})).Ma="default",om.Cache="cache";class lm{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Jf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Jf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sm.Cache}}class cm{constructor(e){this.key=e}}class um{constructor(e){this.key=e}}class dm{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yu(),this.mutatedKeys=yu(),this.eu=au(e),this.tu=new Xf(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Yf,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=nu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(i=i.add(u),a=h?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bs(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new Jf(this.query,e.tu,a,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yu(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new um(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new cm(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=yu();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const hm="SyncEngine";class fm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mm{constructor(e){this.key=e,this.hu=!1}}class pm{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new su(e=>eu(e),Zc),this.Iu=new Map,this.Eu=new Set,this.du=new Nl(vo.comparator),this.Au=new Map,this.Ru=new wh,this.Vu={},this.mu=new Map,this.fu=lh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function gm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Lm(e);let a;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await vm(r,t,n,!0),a}async function ym(e,t){const n=Lm(e);await vm(n,t,!0,!1)}async function vm(e,t,n,r){const a=await zh(e.localStore,Yc(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await bm(e,t,i,"current"===s,a.resumeToken)),e.isPrimaryClient&&n&&_f(e.remoteStore,a),o}async function bm(e,t,n,r,a){e.pu=(t,n,r)=>async function(e,t,n,r){let a=t.view.ru(n);a.Cs&&(a=await Hh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,a)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i,s);return Am(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await Hh(e.localStore,t,!0),s=new dm(t,i.Qs),o=s.ru(i.documents),l=fd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=s.applyChanges(o,e.isPrimaryClient,l);Am(e,n,c.au);const u=new fm(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function _m(e,t,n){const r=Ws(e),a=r.Tu.get(t),i=r.Iu.get(a.targetId);if(i.length>1)return r.Iu.set(a.targetId,i.filter(e=>!Zc(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Bh(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&xf(r.remoteStore,a.targetId),jm(r,a.targetId)}).catch(Uo)):(jm(r,a.targetId),await Bh(r.localStore,a.targetId,!0))}async function xm(e,t){const n=Ws(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xf(n.remoteStore,r.targetId))}async function wm(e,t){const n=Ws(e);try{const e=await function(e,t){const n=Ws(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const s=[];t.targetChanges.forEach((i,o)=>{const l=a.get(o);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Al.EMPTY_BYTE_STRING,Io.min()).withLastLimboFreeSnapshotVersion(Io.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let o=lu(),l=yu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Vh(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(Io.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Vo.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Ks(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Ks(r.hu,14607):e.removedDocuments.size>0&&(Ks(r.hu,42227),r.hu=!1))}),await Rm(n,e,t)}catch(e){await Uo(e)}}function km(e,t,n){const r=Ws(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const a=r.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=Ws(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.Sa)a.va(t)&&(r=!0)}),r&&im(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Nm(e,t,n){const r=Ws(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),i=a&&a.key;if(i){let e=new Nl(vo.comparator);e=e.insert(i,gc.newNoDocument(i,Io.min()));const n=yu().add(i),a=new hd(Io.min(),new Map,new Nl(so),e,n);await wm(r,a),r.du=r.du.remove(i),r.Au.delete(t),Dm(r)}else await Bh(r.localStore,t,!1).then(()=>jm(r,t,n)).catch(Uo)}async function Sm(e,t){const n=Ws(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ws(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let s=Vo.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Ks(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=yu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Tm(n,r,null),Em(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rm(n,e)}catch(e){await Uo(e)}}async function Cm(e,t,n){const r=Ws(e);try{const e=await function(e,t){const n=Ws(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ks(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Tm(r,t,n),Em(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rm(r,e)}catch(n){await Uo(n)}}function Em(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Tm(e,t,n){const r=Ws(e);let a=r.Vu[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Im(e,t)})}function Im(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(xf(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Dm(e))}function Am(e,t,n){for(const r of n)r instanceof cm?(e.Ru.addReference(r.key,t),Pm(e,r)):r instanceof um?(Us(hm,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Im(e,r.key)):Bs(19791,{wu:r})}function Pm(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Us(hm,"New document in limbo: "+n),e.Eu.add(r),Dm(e))}function Dm(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vo(po.fromString(t)),r=e.fu.next();e.Au.set(r,new mm(n)),e.du=e.du.insert(n,r),_f(e.remoteStore,new Zd(Yc(Wc(n.path)),r,"TargetPurposeLimboResolution",Bo.ce))}}async function Rm(e,t,n){const r=Ws(e),a=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{s.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const a=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=Ph.As(o.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(a),await async function(e,t){const n=Ws(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Vo.forEach(t,t=>Vo.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Vo.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!zo(e))throw e;Us(Oh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,a)}}}(r.localStore,i))}async function Om(e,t){const n=Ws(e);if(!n.currentUser.isEqual(t)){Us(hm,"User change. New user:",t.toKey());const e=await Fh(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Qs(Gs.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rm(n,e.Ls)}}function Mm(e,t){const n=Ws(e),r=n.Au.get(t);if(r&&r.hu)return yu().add(r.key);{let e=yu();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Lm(e){const t=Ws(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nm.bind(null,t),t.Pu.H_=rm.bind(null,t.eventManager),t.Pu.yu=am.bind(null,t.eventManager),t}function Fm(e){const t=Ws(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cm.bind(null,t),t}class Um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Lh(this.persistence,new Rh,e.initialUser,this.serializer)}Cu(e){return new Th(Ih.mi,this.serializer)}Du(e){return new Gh}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Um.provider={build:()=>new Um};class Vm extends Um{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ks(this.persistence.referenceDelegate instanceof Ah,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new fh(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?oh.withCacheSize(this.cacheSizeBytes):oh.DEFAULT;return new Th(e=>Ah.mi(e,t),this.serializer)}}class qm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>km(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Om.bind(null,this.syncEngine),await Hf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Zf}createDatastore(e){const t=of(e.databaseInfo.databaseId),n=function(e){return new af(e)}(e.databaseInfo);return function(e,t,n,r){return new mf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new yf(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>km(this.syncEngine,e,0),Yh.v()?new Yh:new Qh)}createSyncEngine(e,t){return function(e,t,n,r,a,i,s){const o=new pm(e,t,n,r,a,i);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ws(e);Us(gf,"RemoteStore shutting down."),t.Ea.add(5),await bf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}qm.provider={build:()=>new qm};class zm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Bm="FirestoreClient";class Hm{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Os.UNAUTHENTICATED,this.clientId=io.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{Us(Bm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Us(Bm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(u){const n=Qf(u,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Km(e,t){e.asyncQueue.verifyOperationInProgress(),Us(Bm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Fh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Wm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Gm(e);Us(Bm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Bf(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Bf(t.remoteStore,n)),e._onlineComponents=t}async function Gm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Us(Bm,"Using user provided OfflineComponentProvider");try{await Km(e,e._uninitializedComponentsProvider._offline)}catch(u){const n=u;if(!function(e){return"FirebaseError"===e.name?e.code===Gs.FAILED_PRECONDITION||e.code===Gs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;qs("Error using user provided cache. Falling back to memory cache: "+n),await Km(e,new Um)}}else Us(Bm,"Using default OfflineComponentProvider"),await Km(e,new Vm(void 0));return e._offlineComponents}async function Qm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Us(Bm,"Using user provided OnlineComponentProvider"),await Wm(e,e._uninitializedComponentsProvider._online)):(Us(Bm,"Using default OnlineComponentProvider"),await Wm(e,new qm))),e._onlineComponents}function Xm(e){return Qm(e).then(e=>e.syncEngine)}async function Ym(e){const t=await Qm(e),n=t.eventManager;return n.onListen=gm.bind(null,t.syncEngine),n.onUnlisten=_m.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ym.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xm.bind(null,t.syncEngine),n}function Jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xs;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const i=new zm({next:n=>{i.Nu(),t.enqueueAndForget(()=>nm(e,s)),n.fromCache&&"server"===r.source?a.reject(new Qs(Gs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),s=new lm(n,i,{includeMetadataChanges:!0,qa:!0});return tm(e,s)}(await Ym(e),e.asyncQueue,t,n,r)),r.promise}function $m(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Zm=new Map,ep="firestore.googleapis.com",tp=!0;class np{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Qs(Gs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ep,this.ssl=tp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:tp;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=sh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<uh)throw new Qs(Gs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Qs(Gs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$m(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Qs(Gs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Qs(Gs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Qs(Gs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new np({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qs(Gs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qs(Gs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new np(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Js;switch(e.type){case"firstParty":return new to(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Qs(Gs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zm.get(e);t&&(Us("ComponentProvider","Removing Datastore"),Zm.delete(e),t.terminate())}(this),Promise.resolve()}}function ap(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=No(e,rp);const a=Ke(t),i=e._getSettings(),s=o(o({},i),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);a&&(We("https://".concat(l)),Xe("Firestore",!0)),i.host!==ep&&i.host!==l&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=o(o({},i),{},{host:l,ssl:a,emulatorOptions:r});if(!rt(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Os.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=o({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Qs(Gs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Os(a)}e._authCredentials=new $s(new Ys(t,n))}}class ip{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ip(this.firestore,e,this._query)}}class sp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new op(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sp(this.firestore,e,this._key)}toJSON(){return{type:sp._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Co(t,sp._jsonSchema))return new sp(e,n||null,new vo(po.fromString(t.referencePath)))}}sp._jsonSchemaVersion="firestore/documentReference/1.0",sp._jsonSchema={type:So("string",sp._jsonSchemaVersion),referencePath:So("string")};class op extends ip{constructor(e,t,n){super(e,t,Wc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sp(this.firestore,null,new vo(e))}withConverter(e){return new op(this.firestore,e,this._path)}}function lp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=ut(e),bo("collection","path",t),e instanceof rp){const n=po.fromString(t,...r);return xo(n),new op(e,null,n)}{if(!(e instanceof sp||e instanceof op))throw new Qs(Gs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(po.fromString(t,...r));return xo(n),new op(e.firestore,null,n)}}function cp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=ut(e),1===arguments.length&&(t=io.newId()),bo("doc","path",t),e instanceof rp){const n=po.fromString(t,...r);return _o(n),new sp(e,null,new vo(n))}{if(!(e instanceof sp||e instanceof op))throw new Qs(Gs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(po.fromString(t,...r));return _o(n),new sp(e.firestore,e instanceof op?e.converter:null,new vo(n))}}const up="AsyncQueue";class dp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lf(this,"async_queue_retry"),this._c=()=>{const e=sf();e&&Us(up,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=sf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Xs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(c){if(!zo(c))throw c;Us(up,"Operation failed with retryable error: "+c)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",hp(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Gf.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Bs(47125,{Pc:hp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function hp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class fp extends rp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new dp,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dp(e),this._firestoreClient=void 0,await e}}}function mp(e){if(e._terminated)throw new Qs(Gs.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||pp(e),e._firestoreClient}function pp(e){var t,n,r;const a=e._freezeSettings(),i=function(e,t,n,r){return new Bl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$m(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||null!==(n=a.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=a.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Hm(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class gp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gp(Al.fromBase64String(e))}catch(e){throw new Qs(Gs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gp(Al.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Co(e,gp._jsonSchema))return gp.fromBase64String(e.bytes)}}gp._jsonSchemaVersion="firestore/bytes/1.0",gp._jsonSchema={type:So("string",gp._jsonSchemaVersion),bytes:So("string")};class yp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Qs(Gs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._methodName=e}}class bp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qs(Gs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qs(Gs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return so(this._lat,e._lat)||so(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bp._jsonSchemaVersion}}static fromJSON(e){if(Co(e,bp._jsonSchema))return new bp(e.latitude,e.longitude)}}bp._jsonSchemaVersion="firestore/geoPoint/1.0",bp._jsonSchema={type:So("string",bp._jsonSchemaVersion),latitude:So("number"),longitude:So("number")};class _p{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_p._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Co(e,_p._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new _p(e.vectorValues);throw new Qs(Gs.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_p._jsonSchemaVersion="firestore/vectorValue/1.0",_p._jsonSchema={type:So("string",_p._jsonSchemaVersion),vectorValues:So("object")};const xp=/^__.*__$/;class wp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ku(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hu(e,this.data,t,this.fieldTransforms)}}class kp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ku(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Np(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bs(40011,{Ac:e})}}class Sp{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sp(o(o({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Up(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Np(this.Ac)&&xp.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Cp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||of(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sp({Ac:e,methodName:t,Dc:n,path:yo.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ep(e){const t=e._freezeSettings(),n=of(e._databaseId);return new Cp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tp(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,a);Op("Data must be an object, but it was:",s,r);const o=Dp(r,s);let l,c;if(i.merge)l=new jl(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const a=Mp(t,r,n);if(!s.contains(a))throw new Qs(Gs.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));Vp(e,a)||e.push(a)}l=new jl(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new wp(new mc(o),l,c)}class jp extends vp{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jp}}function Ip(e,t,n,r){const a=e.Cc(1,t,n);Op("Data must be an object, but it was:",a,r);const i=[],s=mc.empty();wl(r,(e,r)=>{const o=Fp(t,e,n);r=ut(r);const l=a.yc(o);if(r instanceof jp)i.push(o);else{const e=Pp(r,l);null!=e&&(i.push(o),s.set(o,e))}});const o=new jl(i);return new kp(s,o,a.fieldTransforms)}function Ap(e,t,n,r,a,i){const s=e.Cc(1,t,n),o=[Mp(t,r,n)],l=[a];if(i.length%2!=0)throw new Qs(Gs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(Mp(t,i[h])),l.push(i[h+1]);const c=[],u=mc.empty();for(let h=o.length-1;h>=0;--h)if(!Vp(c,o[h])){const e=o[h];let t=l[h];t=ut(t);const n=s.yc(e);if(t instanceof jp)c.push(e);else{const r=Pp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new jl(c);return new kp(u,d,s.fieldTransforms)}function Pp(e,t){if(Rp(e=ut(e)))return Op("Unsupported field value:",t,e),Dp(e,t);if(e instanceof vp)return function(e,t){if(!Np(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Pp(a,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ut(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=jo.fromDate(e);return{timestampValue:Cd(t.serializer,n)}}if(e instanceof jo){const n=new jo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cd(t.serializer,n)}}if(e instanceof bp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gp)return{bytesValue:Ed(t.serializer,e._byteString)};if(e instanceof sp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Id(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof _p)return function(e,t){return{mapValue:{fields:{[Wl]:{stringValue:Xl},[Yl]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return _u(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ko(e)))}(e,t)}function Dp(e,t){const n={};return kl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wl(e,(e,r)=>{const a=Pp(r,t.mc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function Rp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jo||e instanceof bp||e instanceof gp||e instanceof sp||e instanceof vp||e instanceof _p)}function Op(e,t,n){if(!Rp(n)||!wo(n)){const r=ko(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Mp(e,t,n){if((t=ut(t))instanceof yp)return t._internalPath;if("string"==typeof t)return Fp(e,t);throw Up("Field path arguments must be of type string or ",e,!1,void 0,n)}const Lp=new RegExp("[~\\*/\\[\\]]");function Fp(e,t,n){if(t.search(Lp)>=0)throw Up("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new yp(...t.split("."))._internalPath}catch(r){throw Up("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Up(e,t,n,r,a){const i=r&&!r.isEmpty(),s=void 0!==a;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(a)),l+=")"),new Qs(Gs.INVALID_ARGUMENT,o+e+l)}function Vp(e,t){return e.some(e=>e.isEqual(t))}class qp{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zp extends qp{data(){return super.data()}}function Bp(e,t){return"string"==typeof t?Fp(e,t):t instanceof yp?t._internalPath:t._delegate._internalPath}function Hp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Qs(Gs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bs(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Yl].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Rl(e.doubleValue));return new _p(n)}convertGeoPoint(e){return new bp(Rl(e.latitude),Rl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ql(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const t=Dl(e);return new jo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=po.fromString(e);Ks($d(n),9688,{name:e});const r=new Kl(n.get(1),n.get(3)),a=new vo(n.popFirst(5));return r.isEqual(t)||Vs("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function Wp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qp extends qp{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Qs(Gs.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qp._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Qp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qp._jsonSchema={type:So("string",Qp._jsonSchemaVersion),bundleSource:So("string","DocumentSnapshot"),bundleName:So("string"),bundle:So("string")};class Xp extends Qp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Yp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Xp(this._firestore,this._userDataWriter,n.key,n,new Gp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qs(Gs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Xp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Gp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Xp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Jp(t.type),doc:r,oldIndex:a,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Qs(Gs.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=io.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Jp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bs(61501,{type:e})}}Yp._jsonSchemaVersion="firestore/querySnapshot/1.0",Yp._jsonSchema={type:So("string",Yp._jsonSchemaVersion),bundleSource:So("string","QuerySnapshot"),bundleName:So("string"),bundle:So("string")};class $p extends Kp{constructor(e){super(),this.firestore=e}convertBytes(e){return new gp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sp(this.firestore,null,t)}}function Zp(e){e=No(e,ip);const t=No(e.firestore,fp),n=mp(t),r=new $p(t);return Hp(e._query),Jm(n,e._query).then(n=>new Yp(t,r,e,n))}function eg(e,t,n){e=No(e,sp);const r=No(e.firestore,fp),a=Ep(r);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=ut(t))||t instanceof yp?Ap(a,"updateDoc",e._key,t,n,o):Ip(a,"updateDoc",e._key,t),rg(r,[i.toMutation(e._key,Mu.exists(!0))])}function tg(e){return rg(No(e.firestore,fp),[new Xu(e._key,Mu.none())])}function ng(e,t){const n=No(e.firestore,fp),r=cp(e),a=Wp(e.converter,t);return rg(n,[Tp(Ep(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Mu.exists(!1))]).then(()=>r)}function rg(e,t){return function(e,t){const n=new Xs;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Fm(e);try{const e=await function(e,t){const n=Ws(e),r=jo.now(),a=t.reduce((e,t)=>e.add(t.key),yu());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=lu(),l=yu();return n.Ns.getEntries(e,a).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(a=>{i=a;const s=[];for(const e of t){const t=zu(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Ku(e.key,t,pc(t.value.mapValue),Mu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:du(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Nl(so)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rm(r,e.changes),await Rf(r.remoteStore)}catch(e){const t=Qf(e,"Failed to persist write");n.reject(t)}}(await Xm(e),t,n)),n.promise}(mp(e),t)}class ag{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ep(e)}set(e,t,n){this._verifyNotCommitted();const r=ig(e,this._firestore),a=Wp(r.converter,t,n),i=Tp(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,Mu.none())),this}update(e,t,n){this._verifyNotCommitted();const r=ig(e,this._firestore);let a;for(var i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return a="string"==typeof(t=ut(t))||t instanceof yp?Ap(this._dataReader,"WriteBatch.update",r._key,t,n,s):Ip(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(a.toMutation(r._key,Mu.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ig(e,this._firestore);return this._mutations=this._mutations.concat(new Xu(t._key,Mu.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qs(Gs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ig(e,t){if((e=ut(e)).firestore!==t)throw new Qs(Gs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function sg(e){return mp(e=No(e,fp)),new ag(e,t=>rg(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ms=e}(Cn),xn(new dt("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),s=new fp(new Zs(e.getProvider("auth-internal")),new ro(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qs(Gs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(e.options.projectId,t)}(i,r),i);return a=o({useFetchStreams:t},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),jn(Ds,Rs,e),jn(Ds,Rs,"esm2020")}();const og=En({apiKey:"AIzaSyDS_gnny0gbq03-tG4BCvVFwXdCzw5RAJs",authDomain:"it-inventory-108a0.firebaseapp.com",projectId:"it-inventory-108a0",storageBucket:"it-inventory-108a0.firebasestorage.app",messagingSenderId:"1059190129623",appId:"1:1059190129623:web:431d2da202c0a0ddbf4192",measurementId:"G-T2PHS60NGS"}),lg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();const t=wn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=wn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(rt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Qn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:hs,persistence:[wi,ni,oi]}),r=Be("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>gs)return;const r=null===t||void 0===t?void 0:t.token;ys!==r&&(ys=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ut(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){ut(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const i=qe("auth");return i&&ga(n,"http://".concat(i)),n}(og),cg=(new Oa,function(e,t){const n="object"==typeof e?e:Tn(),r="string"==typeof e?e:t||Hl,a=wn(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=(e=>{const t=qe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&ap(a,...e)}return a}(og)),ug=()=>{const[t,n]=(0,e.useState)(null),[r,a]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=function(e,t,n,r){return ut(e).onAuthStateChanged(t,n,r)}(lg,e=>{n(e),a(!1)});return()=>e()},[]);return{currentUser:t,authLoading:r,authSuccessType:i,login:async(e,t)=>{await function(e,t,n){return kn(e.app)?Promise.reject(Jn(e)):Wa(ut(e),Aa.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Qa(e),t})}(lg,e,t)},googleSignIn:async()=>{await async function(e,t,n){if(kn(e.app))return Promise.reject(Xn(e,"operation-not-supported-in-this-environment"));const r=aa(e);$n(e,t,Pa);const a=Ti(r,n);return new Oi(r,"signInViaPopup",t,a).executeNotNull()}(lg,new Oa)},signUp:async(e,t)=>{c(!0);(await Xa(lg,e,t)).user&&s("register")},logout:async()=>{await Ja(lg),s(null)},passwordReset:e=>async function(e,t,n){const r=aa(e),a={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ga(r,a,n),await ma(r,a,"getOobCode",ka,"EMAIL_PASSWORD_PROVIDER")}(lg,e),finishAuthSuccess:async()=>{"register"===i&&await Ja(lg),s(null),c(!1)},setupProfile:async e=>{lg.currentUser&&(await Ya(lg.currentUser,{displayName:e}),n(o(o({},lg.currentUser),{},{displayName:e})))}}},dg=["equipmentId"],hg=["id"],fg=["id"],mg=e.createContext({theme:"light",setTheme:()=>{},language:"vi",setLanguage:()=>{},t:e=>e}),pg={vi:{liquidation_empty_title:"Kho thanh l\xfd \u0111ang tr\u1ed1ng.",liquidation_empty_text:"C\xe1c thi\u1ebft b\u1ecb kh\xf4ng th\u1ec3 s\u1eeda ch\u1eefa s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n \u0111\u1ebfn \u0111\xe2y \u0111\u1ec3 thanh l\xfd.",loading_data:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u...",home:"Trang ch\u1ee7",home_page_title:"Trang Ch\u1ee7 & C\u1eadp nh\u1eadt",home_page_subtitle:"Th\xf4ng tin v\u1ec1 phi\xean b\u1ea3n v\xe0 c\xe1c b\xe0i vi\u1ebft c\u1eadp nh\u1eadt m\u1edbi nh\u1ea5t.",welcome_to_app:"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi H\u1ec7 th\u1ed1ng Qu\u1ea3n l\xfd Kho IT",home_page_content:"\u0110\xe2y l\xe0 n\u01a1i b\u1ea1n c\xf3 th\u1ec3 t\xecm th\u1ea5y c\xe1c th\xf4ng b\xe1o, c\u1eadp nh\u1eadt phi\xean b\u1ea3n v\xe0 h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng m\u1edbi nh\u1ea5t.",nav_title_main:"T\u1ed5ng quan",hello:"Xin ch\xe0o",view_info:"xem th\xf4ng tin",user_profile:"H\u1ed3 s\u01a1 Ng\u01b0\u1eddi d\xf9ng",no_name_provided:"Ch\u01b0a c\xf3 t\xean",account_creation_date:"Ng\xe0y t\u1ea1o t\xe0i kho\u1ea3n",not_available:"Kh\xf4ng c\xf3 th\xf4ng tin",change_password_button:"Y\xeau c\u1ea7u \u0111\u1ed5i m\u1eadt kh\u1ea9u",password_reset_info:"M\u1ed9t li\xean k\u1ebft \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn email c\u1ee7a b\u1ea1n.",please_enter_display_name:"Vui l\xf2ng nh\u1eadp t\xean hi\u1ec3n th\u1ecb c\u1ee7a b\u1ea1n.",profile_update_failed:"C\u1eadp nh\u1eadt h\u1ed3 s\u01a1 th\u1ea5t b\u1ea1i.",complete_your_profile:"Ho\xe0n t\u1ea5t H\u1ed3 s\u01a1 c\u1ee7a b\u1ea1n",setup_profile_welcome:"Vui l\xf2ng nh\u1eadp t\xean hi\u1ec3n th\u1ecb c\u1ee7a b\u1ea1n \u0111\u1ec3 ti\u1ebfp t\u1ee5c.",enter_your_name:"Nh\u1eadp t\xean c\u1ee7a b\u1ea1n...",saving:"\u0110ang l\u01b0u...",save_and_continue:"L\u01b0u v\xe0 Ti\u1ebfp t\u1ee5c",actioninventory:"THAO T\xc1C NHANH",nav_title_assets:"T\xe0i s\u1ea3n",nav_title_purchasing:"Mua h\xe0ng",nav_title_lifecycle:"V\xf2ng \u0111\u1eddi",nav_title_reports:"B\xe1o c\xe1o & H\u1ec7 th\u1ed1ng",inventory_list:"Danh s\xe1ch Kho",inventory_desc:"Qu\u1ea3n l\xfd t\u1ea5t c\u1ea3 thi\u1ebft b\u1ecb trong kho c\u1ee7a b\u1ea1n.",master_list:"Danh s\xe1ch M\u1eabu",master_list_desc:"Qu\u1ea3n l\xfd c\xe1c m\u1eabu thi\u1ebft b\u1ecb c\xf3 th\u1ec3 mua.",dashboard:"T\u1ed5ng quan",dashboard_desc:"Xem nhanh t\xecnh tr\u1ea1ng kho v\xe0 c\xe1c thao t\xe1c nhanh.",sort_by:"S\u1eafp x\u1ebfp theo",sort_az:"T\xean (A-Z)",sort_za:"T\xean (Z-A)",sort_asc:"T\u0103ng d\u1ea7n",sort_desc:"Gi\u1ea3m d\u1ea7n",sort_newest:"M\u1edbi nh\u1ea5t",sort_oldest:"C\u0169 nh\u1ea5t",loading_database_success:"\u0110\xe3 t\u1ea3i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!",loading_database_false:"Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u t\u1eeb c\u01a1 s\u1edf d\u1eef li\u1ec7u.",login_welcome_message:"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c qu\u1ea3n l\xfd kho",login_email:"\u0110\u1ecba ch\u1ec9 Email",login_password:"M\u1eadt kh\u1ea9u",login_forgot_password:"Qu\xean m\u1eadt kh\u1ea9u?",login_button:"\u0110\u0103ng nh\u1eadp",login_or_continue_with:"HO\u1eb6C TI\u1ebeP T\u1ee4C V\u1edaI",login_with_google:"\u0110\u0103ng nh\u1eadp v\u1edbi Google",login_no_account:"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?",login_register_now:"\u0110\u0103ng k\xfd ngay",login_error_credentials:"Email ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang. Vui l\xf2ng th\u1eed l\u1ea1i.",login_error_google:"\u0110\u0103ng nh\u1eadp v\u1edbi Google th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i.",login_password_reset_sent:"Email kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi!",login_error_password_reset:"Kh\xf4ng th\u1ec3 g\u1eedi email. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i \u0111\u1ecba ch\u1ec9 email.",login_enter_email_for_reset:"Vui l\xf2ng nh\u1eadp email c\u1ee7a b\u1ea1n v\xe0o \xf4 b\xean tr\xean \u0111\u1ec3 kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u.",register_title:"T\u1ea1o t\xe0i kho\u1ea3n m\u1edbi",register_welcome_message:"B\u1eaft \u0111\u1ea7u qu\u1ea3n l\xfd kho c\u1ee7a b\u1ea1n ngay h\xf4m nay",register_button:"\u0110\u0103ng k\xfd",register_has_account:"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n?",register_login_now:"\u0110\u0103ng nh\u1eadp",register_error_email_in_use:"\u0110\u1ecba ch\u1ec9 email n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.",register_success_and_login:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng! Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i.",register_confirm_password:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",register_error_password_mismatch:"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng kh\u1edbp!",login_success_title:"\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!",login_success_message:"Ch\xe0o m\u1eebng tr\u1edf l\u1ea1i. H\u1ec7 th\u1ed1ng \u0111ang chu\u1ea9n b\u1ecb...",register_success_title:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng!",register_success_message:"T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o. \u0110ang \u0111\u0103ng nh\u1eadp...",login_continue_button:"V\xe0o h\u1ec7 th\u1ed1ng",register_back_to_login:"Quay l\u1ea1i \u0111\u0103ng nh\u1eadp",position_president:"Ch\u1ee7 t\u1ecbch",position_chairman:"Ch\u1ee7 t\u1ecbch H\u1ed9i \u0111\u1ed3ng qu\u1ea3n tr\u1ecb",position_vice_chairman:"Ph\xf3 Ch\u1ee7 t\u1ecbch H\u1ed9i \u0111\u1ed3ng qu\u1ea3n tr\u1ecb",position_general_director:"T\u1ed5ng gi\xe1m \u0111\u1ed1c",position_deputy_general_director:"Ph\xf3 t\u1ed5ng gi\xe1m \u0111\u1ed1c",position_director:"Gi\xe1m \u0111\u1ed1c",position_affairs_director:"Gi\xe1m \u0111\u1ed1c N\u1ed9i v\u1ee5",position_foreman:"Qu\u1ea3n \u0111\u1ed1c",position_assistant:"Tr\u1ee3 l\xfd",position_manager:"Tr\u01b0\u1edfng ph\xf2ng",position_deputy_manager:"Ph\xf3 ph\xf2ng",position_specialist:"Chuy\xean vi\xean",position_staff:"Nh\xe2n vi\xean",position_worker:"C\xf4ng nh\xe2n",position_janitor:"Lao c\xf4ng",position_intern:"Th\u1ef1c t\u1eadp sinh",dept_bod:"H\u0110QT",dept_director:"Gi\xe1m \u0111\u1ed1c",dept_hr_admin:"H\xe0nh ch\xednh nh\xe2n s\u1ef1",dept_hse:"An To\xe0n Lao \u0110\u1ed9ng, V\u1ec7 Sinh M\xf4i Tr\u01b0\u1eddng, PCCC",dept_supply_chain:"K\u1ebf ho\u1ea1ch cung \u1ee9ng",dept_technical:"K\u1ef9 thu\u1eadt",dept_maintenance:"B\u1ea3o tr\xec",dept_internal_control:"Ki\u1ec3m so\xe1t n\u1ed9i b\u1ed9",dept_purchasing:"Mua h\xe0ng",dept_sales_policy:"Ch\xednh s\xe1ch kinh doanh",dept_it:"IT / C\xf4ng ngh\u1ec7 th\xf4ng tin",dept_production:"S\u1ea3n xu\u1ea5t",dept_executive:"\u0110i\u1ec1u h\xe0nh",dept_operation:"V\u1eadn h\xe0nh",dept_packaging:"\u0110\xf3ng g\xf3i",dept_marketing:"Marketing",dept_medical:"Y T\u1ebf",dept_security:"B\u1ea3o v\u1ec7",dept_accounting:"K\u1ebf to\xe1n t\xe0i ch\xednh",dept_sales:"Kinh doanh",dept_production_management:"\u0110i\u1ec1u h\xe0nh s\u1ea3n xu\u1ea5t",dept_general_affairs:"T\u1ed5ng v\u1ee5",toast_price_is_required:"Vui l\xf2ng nh\u1eadp gi\xe1 th\xe0nh cho t\u1ea5t c\u1ea3 c\xe1c thi\u1ebft b\u1ecb \u0111\u01b0\u1ee3c ch\u1ecdn.",toast_sn_already_exists_in_inventory:"M\u1ed9t ho\u1eb7c nhi\u1ec1u SN \u0111\xe3 t\u1ed3n t\u1ea1i trong kho (v\xed d\u1ee5: '{sn}'). Vui l\xf2ng ki\u1ec3m tra l\u1ea1i.",toast_sn_is_required:"Vui l\xf2ng nh\u1eadp (c\xe1c) S\u1ed1 Serial \u0111\u1ec3 nh\u1eadp kho.",toast_logout_local:"Ch\u1ee9c n\u0103ng \u0111\u0103ng xu\u1ea5t kh\xf4ng \xe1p d\u1ee5ng cho phi\xean b\u1ea3n local.",toast_item_added_to_request_list:"\u0110\xe3 th\xeam '{itemName}' v\xe0o danh s\xe1ch y\xeau c\u1ea7u.",toast_model_exists_guide_to_add:"M\u1eabu '{itemName}' \u0111\xe3 t\u1ed3n t\u1ea1i. Vui l\xf2ng v\xe0o 'Y\xeau c\u1ea7u Mua' v\xe0 'Th\xeam t\u1eeb danh s\xe1ch m\u1eabu' \u0111\u1ec3 t\u1ea1o \u0111\u01a1n h\xe0ng.",toast_new_model_added_successfully:"Th\xeam m\u1eabu m\u1edbi th\xe0nh c\xf4ng!",toast_model_name_updated_successfully:"C\u1eadp nh\u1eadt t\xean m\u1eabu th\xe0nh c\xf4ng!",toast_cannot_delete_model_in_use:"Kh\xf4ng th\u1ec3 x\xf3a m\u1eabu '{itemName}' v\xec n\xf3 \u0111ang \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng ho\u1eb7c trong kho.",toast_model_deleted_successfully:"\u0110\xe3 x\xf3a m\u1eabu '{itemName}' v\xe0 c\xe1c y\xeau c\u1ea7u li\xean quan.",toast_item_deleted_successfully:"X\xf3a thi\u1ebft b\u1ecb th\xe0nh c\xf4ng!",toast_item_liquidated_successfully:"\u0110\xe3 thanh l\xfd th\xe0nh c\xf4ng '{itemName}'.",toast_moved_to_purchasing_list:"\u0110\xe3 chuy\u1ec3n sang danh s\xe1ch '\u0110ang Mua'!",toast_purchase_confirmed_successfully:"X\xe1c nh\u1eadn mua h\xe0ng th\xe0nh c\xf4ng!",toast_purchase_request_deleted:"\u0110\xe3 x\xf3a y\xeau c\u1ea7u mua.",toast_purchase_cancelled_with_note:"\u0110\xe3 h\u1ee7y mua '{itemName}'.",toast_info_updated_successfully:"C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng!",toast_item_allocated_successfully:"\u0110\xe3 b\xe0n giao {itemName} cho {recipientName}.",toast_items_imported_to_inventory:"\u0110\xe3 nh\u1eadp {quantity} {itemName} v\xe0o kho!",toast_maintenance_note_updated:"C\u1eadp nh\u1eadt ghi ch\xfa th\xe0nh c\xf4ng!",toast_legacy_item_imported:"Nh\u1eadp thi\u1ebft b\u1ecb t\u1ed3n kho th\xe0nh c\xf4ng!",toast_backup_successful:"\u0110\xe3 sao l\u01b0u d\u1eef li\u1ec7u th\xe0nh c\xf4ng!",toast_backup_failed:"Sao l\u01b0u d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i!",toast_data_reset_successful:"\u0110\xe3 reset to\xe0n b\u1ed9 d\u1eef li\u1ec7u th\xe0nh c\xf4ng!",toast_data_restored_successfully:"Ph\u1ee5c h\u1ed3i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!",toast_invalid_backup_file:"File backup kh\xf4ng h\u1ee3p l\u1ec7.",toast_error_reading_backup_file:"\u0110\xe3 x\u1ea3y ra l\u1ed7i khi \u0111\u1ecdc file backup.",confirm_override_data:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n ghi \u0111\xe8 to\xe0n b\u1ed9 d\u1eef li\u1ec7u hi\u1ec7n t\u1ea1i?",prompt_enter_repair_note:"Nh\u1eadp ghi ch\xfa s\u1eeda ch\u1eefa (vd: thay ngu\u1ed3n, c\xe0i l\u1ea1i win):",default_repair_note:"S\u1eeda ch\u1eefa th\xe0nh c\xf4ng.",toast_sn_quantity_mismatch:"S\u1ed1 l\u01b0\u1ee3ng SN ({snCount}) ph\u1ea3i b\u1eb1ng S\u1ed1 l\u01b0\u1ee3ng mua ({purchaseCount}).",toast_duplicate_sn_error:"Kh\xf4ng \u0111\u01b0\u1ee3c nh\u1eadp c\xe1c S\u1ed1 Serial (SN) tr\xf9ng l\u1eb7p.",serial_number_required:"S\u1ed1 Serial l\xe0 b\u1eaft bu\u1ed9c.",toast_sn_exists:"S\u1ed1 Serial '{sn}' \u0111\xe3 t\u1ed3n t\u1ea1i trong kho.",toast_sn_updated_required:"C\xe1c thi\u1ebft b\u1ecb \u0111\xe3 \u0111\u01b0\u1ee3c nh\u1eadp kho v\u1edbi SN t\u1ea1m th\u1eddi. Vui l\xf2ng v\xe0o Qu\u1ea3n l\xfd Kho \u0111\u1ec3 c\u1eadp nh\u1eadt.",add_multiple_sn_placeholder:"Nh\u1eadp nhi\u1ec1u SN, c\xe1ch nhau b\u1eb1ng d\u1ea5u ph\u1ea9y",select_sn_to_allocate:"Ch\u1ecdn Serial Number \u0111\u1ec3 b\xe0n giao",allocated_sn:"SN \u0111\xe3 b\xe0n giao",confirm_liquidated:"X\xe1c nh\u1eadn \u0111\xe3 thanh l\xfd",please_select_item_to_purchase:"Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t thi\u1ebft b\u1ecb \u0111\u1ec3 ti\u1ebfn h\xe0nh mua.",please_select_purchased_items:"Vui l\xf2ng ch\u1ecdn c\xe1c thi\u1ebft b\u1ecb \u0111\xe3 mua \u0111\u1ec3 x\xe1c nh\u1eadn.",allocation_quantity_error:"S\u1ed1 l\u01b0\u1ee3ng b\xe0n giao kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n s\u1ed1 l\u01b0\u1ee3ng trong kho",cancelling_purchase_for:"H\u1ee7y mua cho s\u1ea3n ph\u1ea9m",please_enter_cancellation_reason:"Vui l\xf2ng nh\u1eadp l\xfd do h\u1ee7y.",please_fill_all_fields:"Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin.",please_enter_device_name:"Vui l\xf2ng nh\u1eadp t\xean thi\u1ebft b\u1ecb.",are_you_sure_generic:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng?",revert_to_pending:"Ho\xe0n t\xe1c v\u1ec1 Y\xeau c\u1ea7u",cancel_purchase:"H\u1ee7y Mua",toast_moved_to_maintenance:"\u0110\xe3 chuy\u1ec3n {quantity} {itemName} v\xe0o danh s\xe1ch b\u1ea3o tr\xec.",toast_recalled_to_stock:"\u0110\xe3 thu h\u1ed3i {quantity} {itemName} v\u1ec1 kho.",toast_repair_complete:"\u0110\xe3 tr\u1ea3 {itemName} v\u1ec1 kho sau khi s\u1eeda.",toast_moved_to_liquidation:"\u0110\xe3 chuy\u1ec3n {itemName} v\xe0o danh s\xe1ch ch\u1edd thanh l\xfd.",locale_string:"vi-VN",category_all:"T\u1ea5t c\u1ea3 c\xe1c lo\u1ea1i",category_pc:"M\xe1y t\xednh PC",category_mini_pc:"M\xe1y t\xednh Mini PC",category_laptop:"M\xe1y t\xednh Laptop",category_monitor:"M\xe0n h\xecnh m\xe1y t\xednh",category_keyboard:"B\xe0n ph\xedm m\xe1y t\xednh",category_mouse:"Chu\u1ed9t m\xe1y t\xednh",category_printer:"M\xe1y In",category_label_printer:"M\xe1y in tem",category_photocopier:"M\xe1y Photocopy",category_printer_ink:"M\u1ef1c in",category_network_device:"Thi\u1ebft b\u1ecb m\u1ea1ng",category_network_cable:"D\xe2y c\xe1p m\u1ea1ng",category_other:"V\u1eadt t\u01b0 kh\xe1c",location_not_imported:"Ch\u01b0a nh\u1eadp kho",location_in_stock:"Trong kho",location_maintenance_room:"Ph\xf2ng B\u1ea3o tr\xec",location_liquidation_stock:"Kho Thanh l\xfd",repair_completed:"Ho\xe0n th\xe0nh s\u1eefa ch\u1eefa",mark_unrepairable:"Thanh l\xfd thi\u1ebft b\u1ecb",admin:"Qu\u1ea3n tr\u1ecb vi\xean",it_inventory:"Qu\u1ea3n l\xfd Kho",search:"T\xecm ki\u1ebfm",category:"Danh m\u1ee5c",status:"Tr\u1ea1ng th\xe1i",quantity:"S\u1ed1 l\u01b0\u1ee3ng",price:"Gi\xe1 th\xe0nh",location:"V\u1ecb tr\xed",serial_number_sn:"S\u1ed1 serial (SN)",serial_number_sn_mobile:"SN",actions:"Thao t\xe1c",all_categories:"T\u1ea5t c\u1ea3 danh m\u1ee5c",close:"\u0110\xf3ng",cancel:"H\u1ee7y",save:"L\u01b0u",save_changes:"L\u01b0u thay \u0111\u1ed5i",confirm:"X\xe1c nh\u1eadn",delete:"X\xf3a",edit:"S\u1eeda",view:"Xem",add_new:"Th\xeam m\u1edbi",no_data_available:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u.",add:"Th\xeam",requested:"\u0110\xe3 y\xeau c\u1ea7u",max:"T\u1ed1i \u0111a",all:"T\u1ea5t c\u1ea3",all_data:"to\xe0n b\u1ed9 d\u1eef li\u1ec7u",note:"Ghi ch\xfa",condition:"T\xecnh tr\u1ea1ng",performed_by:"Th\u1ef1c hi\u1ec7n b\u1edfi",object:"\u0110\u1ed1i t\u01b0\u1ee3ng",details:"Chi ti\u1ebft",timestamp:"Th\u1eddi gian",action:"H\xe0nh \u0111\u1ed9ng",action_type:"Lo\u1ea1i h\xe0nh \u0111\u1ed9ng",from_date:"T\u1eeb ng\xe0y",to_date:"\u0110\u1ebfn ng\xe0y",notifications:"Th\xf4ng b\xe1o g\u1ea7n \u0111\xe2y",no_new_notifications:"Kh\xf4ng c\xf3 th\xf4ng b\xe1o m\u1edbi.",view_all:"Xem t\u1ea5t c\u1ea3",account:"T\xe0i kho\u1ea3n",logout:"\u0110\u0103ng xu\u1ea5t",settings:"C\xe0i \u0111\u1eb7t",profile:"H\u1ed3 s\u01a1",pending_purchase:"Y\xeau c\u1ea7u Mua",purchasing:"\u0110ang Mua",purchased:"\u0110\xe3 Mua",inventory_management:"Qu\u1ea3n l\xfd Kho",allocated:"\u0110\xe3 Xu\u1ea5t Kho",maintenance:"B\u1ea3o tr\xec",liquidation:"Thanh l\xfd",reports:"B\xe1o c\xe1o",pending_purchase_requests:"Y\xeau c\u1ea7u mua",in_purchasing_process:"\u0110ang Mua",purchased_waiting_import:"\u0110\xe3 Mua",total_inventory:"T\u1ed5ng t\u1ed3n kho",available:"C\xf3 s\u1eb5n",in_use:"\u0110ang s\u1eed d\u1ee5ng",in_maintenance:"B\u1ea3o tr\xec",pending_liquidation:"Thanh l\xfd",out_of_stock:"H\u1ebft h\xe0ng",broken:"H\u1ecfng",quick_actions:"Thao t\xe1c nhanh",add_view_master_list:"Th\xeam / Xem M\u1eabu Thi\u1ebft B\u1ecb",manage_purchasing:"Qu\u1ea3n l\xfd Mua H\xe0ng",manage_inventory:"Qu\u1ea3n l\xfd Kho",view_full_report:"Xem B\xe1o c\xe1o \u0110\u1ea7y \u0111\u1ee7",in_stock:"Trong kho",system_settings:"C\xe0i \u0111\u1eb7t h\u1ec7 th\u1ed1ng",interface:"Giao di\u1ec7n",light_mode:"S\xe1ng",dark_mode:"T\u1ed1i",auto_mode:"T\u1ef1 \u0111\u1ed9ng",language:"Ng\xf4n ng\u1eef",data_management:"Qu\u1ea3n l\xfd D\u1eef li\u1ec7u",import_data:"Ph\u1ee5c h\u1ed3i (Import) D\u1eef li\u1ec7u t\u1eeb File",backup_data:"Sao l\u01b0u (Backup) To\xe0n b\u1ed9 D\u1eef li\u1ec7u",reset_data:"Reset To\xe0n b\u1ed9 D\u1eef li\u1ec7u",reset_data_warning:"L\u01b0u \xfd: H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.",add_new_master_item:"Th\xeam M\u1eabu M\u1edbi",search_master_item_placeholder:"T\xecm ki\u1ebfm t\xean m\u1eabu...",master_item_name:"T\xean M\u1eabu Thi\u1ebft b\u1ecb",usage_status:"Tr\u1ea1ng th\xe1i s\u1eed d\u1ee5ng",has_been_used:"\u0110\xe3 t\u1eebng s\u1eed d\u1ee5ng",never_used:"Ch\u01b0a t\u1eebng s\u1eed d\u1ee5ng",no_master_items_found:"Kh\xf4ng t\xecm th\u1ea5y m\u1eabu thi\u1ebft b\u1ecb n\xe0o.",cannot_edit_used_model:"Kh\xf4ng th\u1ec3 s\u1eeda m\u1eabu \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng",search_inventory_placeholder:"T\xecm ki\u1ebfm thi\u1ebft b\u1ecb trong kho, m\xe3 SN...",import_unlisted_device:"Nh\u1eadp thi\u1ebft b\u1ecb kh\xf4ng qua mua h\xe0ng",device_name:"T\xean Thi\u1ebft B\u1ecb",device_name_mobile:"T\xean Thi\u1ebft B\u1ecb",user_in_use:"Ng\u01b0\u1eddi d\xf9ng",user_in_use_mobile:"User",user_not_use:"Ch\u01b0a c\xf3 ng\u01b0\u1eddi d\xf9ng",no_devices_match_search:"Kh\xf4ng t\xecm th\u1ea5y thi\u1ebft b\u1ecb n\xe0o kh\u1edbp v\u1edbi t\xecm ki\u1ebfm c\u1ee7a b\u1ea1n.",pending_purchase_list:"Danh s\xe1ch Y\xeau c\u1ea7u Mua",pending_purchase_desc:"Ch\u1ecdn thi\u1ebft b\u1ecb, nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng \u0111\u1ec3 mua.",add_from_master_list:"Th\xeam t\u1eeb danh s\xe1ch m\u1eabu",proceed_to_purchase_count:"Ti\u1ebfn h\xe0nh Mua ({count})",purchase_quantity:"S\u1ed1 L\u01b0\u1ee3ng Mua",purchasing_list:"Danh s\xe1ch \u0110ang Mua",purchasing_desc:"C\xe1c thi\u1ebft b\u1ecb \u0111ang trong qu\xe1 tr\xecnh \u0111\u1eb7t h\xe0ng v\xe0 v\u1eadn chuy\u1ec3n.",confirm_purchased_count:"X\xe1c nh\u1eadn \u0110\xe3 Mua ({count})",purchased_list:"Danh s\xe1ch \u0110\xe3 Mua (Ch\u1edd Nh\u1eadp Kho)",purchased_desc:"C\xe1c thi\u1ebft b\u1ecb \u0111\xe3 s\u1eb5n s\xe0ng \u0111\u1ec3 \u0111\u01b0\u1ee3c nh\u1eadp v\xe0o kho.",import_to_inventory:"Nh\u1eadp kho",imported:"\u0110\xe3 nh\u1eadp",allocated_list:"Danh s\xe1ch Thi\u1ebft b\u1ecb \u0110\xe3 Xu\u1ea5t Kho",allocated_desc:"C\xe1c thi\u1ebft b\u1ecb hi\u1ec7n \u0111ang \u0111\u01b0\u1ee3c nh\xe2n vi\xean s\u1eed d\u1ee5ng.",filter_by_category:"L\u1ecdc theo danh m\u1ee5c",recipient:"Ng\u01b0\u1eddi Nh\u1eadn",employee_info:"MSNV & Ch\u1ee9c V\u1ee5",position:"Ch\u1ee9c v\u1ee5",department:"Ph\xf2ng/Ban",handover_date:"Ng\xe0y B\xe0n Giao",recall:"Thu H\u1ed3i",no_allocated_items_match_filter:"Kh\xf4ng c\xf3 thi\u1ebft b\u1ecb n\xe0o \u0111\u01b0\u1ee3c xu\u1ea5t kho kh\u1edbp v\u1edbi b\u1ed9 l\u1ecdc.",maintenance_management:"Qu\u1ea3n l\xfd B\u1ea3o tr\xec",maintenance_desc:"Danh s\xe1ch c\xe1c thi\u1ebft b\u1ecb \u0111ang ch\u1edd s\u1eeda ch\u1eefa ho\u1eb7c x\u1eed l\xfd.",failure_note:"Ghi ch\xfa H\u1ecfng h\xf3c",liquidation_list:"Thi\u1ebft b\u1ecb Ch\u1edd Thanh l\xfd",liquidation_desc:"Danh s\xe1ch c\xe1c thi\u1ebft b\u1ecb kh\xf4ng th\u1ec3 s\u1eeda ch\u1eefa.",no_liquidation_items:"Kh\xf4ng c\xf3 thi\u1ebft b\u1ecb n\xe0o ch\u1edd thanh l\xfd.",activity_log_history:"L\u1ecbch s\u1eed Ho\u1ea1t \u0111\u1ed9ng (Log)",activity_log_desc:"To\xe0n b\u1ed9 l\u1ecbch s\u1eed c\xe1c thao t\xe1c tr\xean h\u1ec7 th\u1ed1ng.",recall_dedicated_title:"Thu h\u1ed3i Thi\u1ebft b\u1ecb \u0110\xe3 C\u1ea5p ph\xe1t",recall_dedicated_desc:"C\xe1c thi\u1ebft b\u1ecb hi\u1ec7n \u0111ang \u0111\u01b0\u1ee3c nh\xe2n vi\xean s\u1eed d\u1ee5ng.",device_user_column:"T\xean Thi\u1ebft B\u1ecb & Ng\u01b0\u1eddi D\xf9ng",no_allocated_items_for_recall:"Ch\u01b0a c\xf3 thi\u1ebft b\u1ecb n\xe0o \u0111\u01b0\u1ee3c xu\u1ea5t kho cho ng\u01b0\u1eddi d\xf9ng.",add_new_master_item_modal_title:"Th\xeam M\u1eabu Thi\u1ebft B\u1ecb M\u1edbi",edit_device_modal_title:"Ch\u1ec9nh s\u1eeda Thi\u1ebft b\u1ecb",confirm_delete:"X\xe1c nh\u1eadn x\xf3a",confirm_cancellation:"X\xe1c nh\u1eadn h\u1ee7y",are_you_sure_delete:'B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a thi\u1ebft b\u1ecb <strong class="text-red-600">{itemName}</strong> kh\xf4ng? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.',device_details:"Chi ti\u1ebft thi\u1ebft b\u1ecb",allocate_device:"B\xe0n Giao Thi\u1ebft B\u1ecb",reason_for_cancellation:"L\xfd do H\u1ee7y Mua",edit_device_name:"S\u1eeda t\xean Thi\u1ebft b\u1ecb",recall_device:"Thu h\u1ed3i Thi\u1ebft b\u1ecb",information:"Th\xf4ng b\xe1o",add_to_purchase_request_from_master:"Th\xeam v\xe0o Y\xeau c\u1ea7u Mua t\u1eeb Danh s\xe1ch M\u1eabu",edit_failure_note:"Ch\u1ec9nh s\u1eeda Ghi ch\xfa H\u1ecfng h\xf3c",account_information:"Th\xf4ng tin t\xe0i kho\u1ea3n",display_name:"T\xean hi\u1ec3n th\u1ecb",change_password:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",password_change_disabled:"Ch\u1ee9c n\u0103ng \u0111\u1ed5i m\u1eadt kh\u1ea9u \u0111\xe3 \u0111\u01b0\u1ee3c v\xf4 hi\u1ec7u h\xf3a trong phi\xean b\u1ea3n local.",condition_good_as_new:"Thi\u1ebft b\u1ecb t\u1ed1t, nh\u01b0 m\u1edbi",condition_used:"Thi\u1ebft b\u1ecb \u0111\xe3 qua s\u1eed d\u1ee5ng",recall_reason_resigned:"User ngh\u1ec9 vi\u1ec7c",recall_reason_replacement:"User \u0111\u1ed5i/thay th\u1ebf thi\u1ebft b\u1ecb kh\xe1c",recall_reason_upgrade:"User n\xe2ng c\u1ea5p thi\u1ebft b\u1ecb",condition_damaged_needs_maintenance:"H\u01b0 h\u1ecfng, c\u1ea7n b\u1ea3o tr\xec",condition_new:"H\xe0ng mua m\u1edbi 100%",allocating:"B\xe0n giao t\u1eeb",recipient_name:"H\u1ecd t\xean ng\u01b0\u1eddi nh\u1eadn b\xe0n giao",employee_id:"M\xe3 s\u1ed1 Nh\xe2n vi\xean",employee_id_mobile:"MSNV",condition_on_handover:"T\xecnh tr\u1ea1ng thi\u1ebft b\u1ecb",confirm_allocation:"X\xe1c nh\u1eadn",good_condition:"T\u1ed1t",recalling_from:"T\xean thi\u1ebft b\u1ecb thu h\u1ed3i",recall_quantity:"S\u1ed1 l\u01b0\u1ee3ng",condition_on_recall:"T\xecnh tr\u1ea1ng",confirm_recall:"Thu h\u1ed3i","procurement-request":"T\u1ea1o Y\xeau c\u1ea7u Mua","procurement-purchasing":"Ti\u1ebfn h\xe0nh Mua h\xe0ng","procurement-purchased":"X\xe1c nh\u1eadn H\xe0ng \u0111\xe3 v\u1ec1","procurement-deleted":"X\xf3a Y\xeau c\u1ea7u","procurement-reverted":"Ho\xe0n t\xe1c Mua h\xe0ng","procurement-cancelled":"H\u1ee7y \u0111\u01a1n (\u0110ang mua)","import-purchase":"Nh\u1eadp kho (H\xe0ng m\u1edbi)","import-recall":"Nh\u1eadp kho (Thu h\u1ed3i)","import-legacy":"Nh\u1eadp t\u1ed3n kho","export-allocate":"Xu\u1ea5t kho (B\xe0n giao)","inventory-update":"C\u1eadp nh\u1eadt Th\xf4ng tin","inventory-delete":"X\xf3a kh\u1ecfi Kho","inventory-update-note":"S\u1eeda ghi ch\xfa b\u1ea3o tr\xec","inventory-repair-complete":"Ho\xe0n t\u1ea5t s\u1eeda ch\u1eefa","inventory-unrepairable":"Chuy\u1ec3n sang thanh l\xfd","inventory-liquidated":"\u0110\xe3 thanh l\xfd",condition_legacy_import:"H\xe0ng t\u1ed3n kho kh\xf4ng qua mua h\xe0ng",recalled_prefix:"H\xe0ng thu h\u1ed3i: {conditionText}",condition_repaired:"\u0110\xe3 s\u1eeda ch\u1eefa: {note}",are_you_sure_reset_data:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a h\u1ebft d\u1eef li\u1ec7u \u0111ang t\u1ed3n t\u1ea1i kh\xf4ng ?",failure_note_placeholder:"Nh\u1eadp ghi ch\xfa h\u1ecfng h\xf3c (vd: kh\xf4ng l\xean ngu\u1ed3n, m\xe0n h\xecnh b\u1ecb s\u1ecdc...)",cancellation_reason_placeholder:"Nh\u1eadp l\xfd do h\u1ee7y (vd: t\xecm \u0111\u01b0\u1ee3c nh\xe0 cung c\u1ea5p t\u1ed1t h\u01a1n, thay \u0111\u1ed5i nhu c\u1ea7u...)",master_item_name_placeholder:"Nh\u1eadp v\xe0o M\u1eabu thi\u1ebft b\u1ecb mu\u1ed1n b\u1ed5 xung",confirm_move_to_liquidation_title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n thanh l\xfd n\xf3 kh\xf4ng ?",confirm_move_to_liquidation_text:"Vi\u1ec7c n\xe0y l\xe0 kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, suy ngh\u0129 k\u1ef9 tr\u01b0\u1edbc khi x\xe1c nh\u1eadn !",confirm_delete_master_title:"X\xe1c nh\u1eadn x\xf3a M\u1eabu",confirm_delete_master_text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a m\u1eabu {itemName}? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.",confirm_delete_inventory_title:"X\xe1c nh\u1eadn x\xf3a Thi\u1ebft b\u1ecb",confirm_delete_inventory_text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a v\u0129nh vi\u1ec5n thi\u1ebft b\u1ecb {itemName} kh\u1ecfi kho?",confirm_liquidate_title:"X\xe1c nh\u1eadn Thanh l\xfd",confirm_liquidate_text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xe1c nh\u1eadn \u0111\xe3 thanh l\xfd {itemName}? H\xe0nh \u0111\u1ed9ng n\xe0y s\u1ebd x\xf3a v\u0129nh vi\u1ec5n thi\u1ebft b\u1ecb kh\u1ecfi h\u1ec7 th\u1ed1ng.",repair_note_successful:"S\u1eeda ch\u1eefa th\xe0nh c\xf4ng",repair_note_replace_pcu:"Thay th\u1ebf b\u1ed9 ngu\u1ed3n (PCU)",repair_note_reinstall_os:"C\xe0i \u0111\u1eb7t l\u1ea1i h\u1ec7 \u0111i\u1ec1u h\xe0nh",repair_note_replace_screen:"Thay th\u1ebf m\xe0n h\xecnh",repair_note_other:"Kh\xe1c (ghi ch\xfa ri\xeang)",repair_completed_with_note:"Ho\xe0n t\u1ea5t s\u1eeda ch\u1eefa v\u1edbi ghi ch\xfa",select_repair_note:"Ch\u1ecdn ghi ch\xfa s\u1eeda ch\u1eefa",recalled_from_user:"Thu h\u1ed3i t\u1eeb User",maintenance_date:"Ng\xe0y b\u1ea3o tr\xec",order_number:"STT",import_date:"Ng\xe0y nh\u1eadp kho",import_button_text:"Ph\u1ee5c h\u1ed3i (Import)",backup_button_text:"Sao l\u01b0u (Backup)",reset_button_text:"Reset D\u1eef li\u1ec7u",lang_vi:"Ti\u1ebfng Vi\u1ec7t",lang_en:"English",lang_zh:"\u4e2d\u6587"},en:{loading_data:"Loading data...",home:"Home",home_page_title:"Home & Updates",home_page_subtitle:"Information about versions and latest update articles.",welcome_to_app:"Welcome to the IT Inventory Management System",home_page_content:"This is where you can find announcements, version updates, and the latest user guides.",nav_title_main:"Overview",hello:"Hello",view_info:"view info",user_profile:"User Profile",no_name_provided:"No name provided",account_creation_date:"Account Creation Date",not_available:"Not available",change_password_button:"Request Password Change",password_reset_info:"A password reset link will be sent to your email.",please_enter_display_name:"Please enter your display name.",profile_update_failed:"Profile update failed.",complete_your_profile:"Complete Your Profile",setup_profile_welcome:"Please enter your display name to continue.",enter_your_name:"Enter your name...",saving:"Saving...",save_and_continue:"Save and Continue",actioninventory:"Quick Actions",nav_title_assets:"Assets",nav_title_purchasing:"Purchasing",nav_title_lifecycle:"Lifecycle",nav_title_reports:"Reports & System",inventory_list:"Inventory List",inventory_desc:"Manage all devices in your inventory.",master_list:"Master List",master_list_desc:"Manage device models available for purchase.",dashboard:"Dashboard",dashboard_desc:"Quick overview of inventory status and quick actions.",sort_by:"Sort by",sort_az:"Name (A-Z)",sort_za:"Name (Z-A)",sort_asc:"Ascending",sort_desc:"Descending",sort_newest:"Newest",sort_oldest:"Oldest",loading_database_success:"Data loaded successfully!",loading_database_false:"Failed to load data from the database.",login_welcome_message:"Log in to continue managing the inventory",login_email:"Email Address",login_password:"Password",login_forgot_password:"Forgot password?",login_button:"Log In",login_or_continue_with:"OR CONTINUE WITH",login_with_google:"Log in with Google",login_no_account:"Don\u2019t have an account?",login_register_now:"Register now",login_error_credentials:"Incorrect email or password. Please try again.",login_error_google:"Failed to log in with Google. Please try again.",login_password_reset_sent:"Password reset email has been sent!",login_error_password_reset:"Unable to send email. Please check your email address.",login_enter_email_for_reset:"Please enter your email in the box above to reset your password.",register_title:"Create a new account",register_welcome_message:"Start managing your inventory today",register_button:"Register",register_has_account:"Already have an account?",register_login_now:"Log in",register_error_email_in_use:"This email address is already in use.",register_success_and_login:"Registration successful! Please log in again.",register_confirm_password:"Confirm Password",register_error_password_mismatch:"Passwords do not match!",login_success_title:"Login Successful!",login_success_message:"Welcome back. The system is preparing...",register_success_title:"Registration Successful!",register_success_message:"Your account has been created. Logging in...",login_continue_button:"Continue to App",register_back_to_login:"Back to Login",position_president:"President",position_chairman:"Chairman of the Board",position_vice_chairman:"Vice Chairman of the Board",position_general_director:"General Director",position_deputy_general_director:"Deputy General Director",position_director:"Director",position_affairs_director:"Director of Internal Affairs",position_foreman:"Foreman",position_assistant:"Assistant",position_manager:"Manager",position_deputy_manager:"Deputy Manager",position_specialist:"Specialist",position_staff:"Staff",position_worker:"Worker",position_janitor:"Janitor",position_intern:"Intern",dept_bod:"Board of Directors",dept_director:"Director",dept_hr_admin:"HR & Administration",dept_hse:"HSE (Health, Safety, Environment)",dept_supply_chain:"Supply Chain Planning",dept_technical:"Technical",dept_maintenance:"Maintenance",dept_internal_control:"Internal Control",dept_purchasing:"Purchasing",dept_sales_policy:"Sales Policy",dept_it:"IT / Information Technology",dept_production:"Production",dept_executive:"Executive Department",dept_operation:"Operation",dept_packaging:"Packaging",dept_marketing:"Marketing",dept_medical:"Medical",dept_security:"Security",dept_accounting:"Accounting & Finance",dept_sales:"Sales",dept_production_management:"Production Management",dept_general_affairs:"General Affairs",toast_price_is_required:"Please enter a price for all selected items.",toast_sn_already_exists_in_inventory:"One or more SNs already exist in inventory (e.g., '{sn}'). Please check again.",toast_sn_is_required:"Please enter Serial Number(s) to import to inventory.",toast_logout_local:"Logout is not available in the local version.",toast_item_added_to_request_list:"Added '{itemName}' to the request list.",toast_model_exists_guide_to_add:"Model '{itemName}' already exists. Please go to 'Purchase Request' and 'Add from Master List' to create an order.",toast_new_model_added_successfully:"New model added successfully!",toast_model_name_updated_successfully:"Model name updated successfully!",toast_cannot_delete_model_in_use:"Cannot delete model '{itemName}' as it is in use or in stock.",toast_model_deleted_successfully:"Deleted model '{itemName}' and related requests.",toast_item_deleted_successfully:"Device deleted successfully!",toast_item_liquidated_successfully:"Successfully liquidated '{itemName}'.",toast_moved_to_purchasing_list:"Moved to 'Purchasing' list!",toast_purchase_confirmed_successfully:"Purchase confirmed successfully!",toast_purchase_request_deleted:"Purchase request deleted.",toast_purchase_cancelled_with_note:"Cancelled purchase for '{itemName}'.",toast_info_updated_successfully:"Information updated successfully!",toast_item_allocated_successfully:"Allocated {itemName} to {recipientName}.",toast_items_imported_to_inventory:"Imported {quantity} {itemName}(s) to inventory!",toast_maintenance_note_updated:"Maintenance note updated successfully!",toast_legacy_item_imported:"Legacy device imported successfully!",toast_backup_successful:"Data backup successful!",toast_backup_failed:"Data backup failed!",toast_data_reset_successful:"All data has been reset successfully!",toast_data_restored_successfully:"Data restored successfully!",toast_invalid_backup_file:"Invalid backup file.",toast_error_reading_backup_file:"Error reading backup file.",confirm_override_data:"Are you sure you want to overwrite all current data?",prompt_enter_repair_note:"Enter repair note (e.g., replaced power supply, reinstalled OS):",default_repair_note:"Repair successful.",toast_sn_quantity_mismatch:"SN count ({snCount}) must equal purchase quantity ({purchaseCount}).",toast_duplicate_sn_error:"Duplicate Serial Numbers (SN) are not allowed.",serial_number_required:"Serial Number is required.",toast_sn_exists:"Serial Number '{sn}' already exists in the inventory.",toast_sn_updated_required:"Devices have been imported with temporary SNs. Please go to Inventory Management to update them.",add_multiple_sn_placeholder:"Enter multiple SNs, separated by commas",select_sn_to_allocate:"Select Serial Number to allocate",allocated_sn:"Allocated SN",confirm_liquidated:"Confirm Liquidated",please_select_item_to_purchase:"Please select at least one item to purchase.",please_select_purchased_items:"Please select purchased items to confirm.",allocation_quantity_error:"Allocation quantity cannot be greater than stock quantity",cancelling_purchase_for:"Cancelling purchase for",please_enter_cancellation_reason:"Please enter a reason for cancellation.",please_fill_all_fields:"Please fill in all fields.",please_enter_device_name:"Please enter a device name.",are_you_sure_generic:"Are you sure you want to perform this action?",revert_to_pending:"Revert to Pending",cancel_purchase:"Cancel Purchase",toast_moved_to_maintenance:"Moved {quantity} {itemName} to the maintenance list.",toast_recalled_to_stock:"Recalled {quantity} {itemName} back to stock.",toast_repair_complete:"Returned {itemName} to stock after repair.",toast_moved_to_liquidation:"Moved {itemName} to the liquidation list.",category_all:"All Categories",category_pc:"PC",category_mini_pc:"Mini PC",category_laptop:"Laptop",category_monitor:"Monitor",category_keyboard:"Keyboard",category_mouse:"Mouse",category_printer:"Printer",category_label_printer:"Label Printer",category_photocopier:"Photocopier",category_printer_ink:"Printer Ink",category_network_device:"Network Device",category_network_cable:"Network Cable",category_other:"Other Supplies",location_not_imported:"Not yet stocked",location_in_stock:"In stock",location_maintenance_room:"Maintenance Room",location_liquidation_stock:"Liquidation Warehouse",failure_note_placeholder:"Enter failure note (e.g., does not power on, screen has stripes...)",cancellation_reason_placeholder:"Enter cancellation reason (e.g., found a better supplier, changed requirements...)",master_item_name_placeholder:"Enter the device model to add",repair_completed:"Repair Completed",mark_unrepairable:"Dispose Device",condition_good_as_new:"Good as new device",condition_used:"Used device",recall_reason_resigned:"User resigned",recall_reason_replacement:"User replaced device",recall_reason_upgrade:"User upgraded device",condition_damaged_needs_maintenance:"Damaged, needs maintenance",allocating:"Handover from",recipient_name:"Recipient's Name",employee_id:"Employee ID",condition_on_handover:"Device Condition",confirm_allocation:"Confirm",good_condition:"Good",recalling_from:"Device Name recalling",recall_quantity:"Quantity",condition_on_recall:"Condition",confirm_recall:"Recall",locale_string:"en-US",admin:"Admin",it_inventory:"IT Inventory",search:"Search",category:"Category",status:"Status",quantity:"Quantity",price:"Price",location:"Location",serial_number_sn:"Serial Number (SN)",actions:"Actions",all_categories:"All Categories",close:"Close",cancel:"Cancel",save:"Save",save_changes:"Save Changes",confirm:"Confirm",delete:"Delete",edit:"Edit",view:"View",add_new:"Add New",no_data_available:"No data available.",add:"Add",requested:"Requested",max:"Max",all:"All",all_data:"all data",note:"Note",condition:"Condition",performed_by:"Performed by",object:"Object",details:"Details",timestamp:"Timestamp",action:"Action",action_type:"Action Type",from_date:"From Date",to_date:"To Date",notifications:"Recent Notifications",no_new_notifications:"No new notifications.",view_all:"View All",account:"Account",logout:"Logout",settings:"Settings",pending_purchase:"Purchase Request",purchasing:"Purchasing",purchased:"Purchased",inventory_management:"Inventory",allocated:"Allocated",maintenance:"Maintenance",liquidation:"Liquidation",reports:"Reports",pending_purchase_requests:"Purchase Requests",in_purchasing_process:"Purchasing",purchased_waiting_import:"Purchased",total_inventory:"Total Inventory",available:"Available",in_use:"In Use",in_maintenance:"Maintenance",pending_liquidation:"Liquidation",out_of_stock:"Out of Stock",broken:"Broken",quick_actions:"Quick Actions",add_view_master_list:"Add / View Master List",manage_purchasing:"Manage Purchasing",manage_inventory:"Manage Inventory",view_full_report:"View Full Report",in_stock:"In Stock",system_settings:"System Settings",interface:"Interface",light_mode:"Light",dark_mode:"Dark",auto_mode:"Auto",language:"Language",data_management:"Data Management",import_data:"Restore (Import) Data from File",backup_data:"Backup All Data",reset_data:"Reset All Data",reset_data_warning:"Warning: This action cannot be undone.",add_new_master_item:"Add New Master Item",search_master_item_placeholder:"Search master item name...",master_item_name:"Master Item Name",usage_status:"Usage Status",has_been_used:"Has been used",never_used:"Never used",no_master_items_found:"No master items found.",cannot_edit_used_model:"Cannot edit a model that is already in use",search_inventory_placeholder:"Search devices in inventory...",import_unlisted_device:"Import device without purchasing",device_name:"Device Name",user_in_use:"Current User",user_not_use:"No User",no_devices_match_search:"No devices found matching your search.",pending_purchase_list:"Pending Purchase Request List",pending_purchase_desc:"Select items and enter quantities to proceed.",add_from_master_list:"Add from Master List",proceed_to_purchase_count:"Proceed to Purchase ({count})",purchase_quantity:"Purchase Quantity",purchasing_list:"Purchasing List",purchasing_desc:"Items being ordered and shipped.",confirm_purchased_count:"Confirm as Purchased ({count})",purchased_list:"Purchased List (Awaiting Import)",purchased_desc:"Items ready for import.",import_to_inventory:"Import to Inventory",imported:"Imported",allocated_list:"Allocated Device List",allocated_desc:"Devices in use by employees.",filter_by_category:"Filter by category",recipient:"Recipient",employee_info:"Emp. ID & Position",position:"Position",department:"Department",handover_date:"Handover Date",recall:"Recall",no_allocated_items_match_filter:"No allocated devices match the filter.",maintenance_management:"Maintenance Management",maintenance_desc:"Devices awaiting repair.",failure_note:"Failure Note",liquidation_list:"Pending Liquidation Devices",liquidation_desc:"Unrepairable devices.",no_liquidation_items:"No devices are pending liquidation.",activity_log_history:"Activity Log History",activity_log_desc:"Complete history of all actions.",recall_dedicated_title:"Recall Allocated Devices",recall_dedicated_desc:"Devices currently in use by employees.",device_user_column:"Device & User",no_allocated_items_for_recall:"No devices have been allocated to users yet.",add_new_master_item_modal_title:"Add New Master Device",edit_device_modal_title:"Edit Device",confirm_delete:"Confirm Deletion",confirm_cancellation:"Confirm cancellation",are_you_sure_delete:'Are you sure you want to delete <strong class="text-red-600">{itemName}</strong>? This cannot be undone.',device_details:"Device Details",allocate_device:"Allocate Device",reason_for_cancellation:"Reason for Cancellation",edit_device_name:"Edit Device Name",recall_device:"Recall Device",information:"Information",add_to_purchase_request_from_master:"Add to Purchase Request from Master List",edit_failure_note:"Edit Failure Note",account_information:"Account Information",display_name:"Display Name",change_password:"Change Password",password_change_disabled:"Password change is disabled in the local version.","procurement-request":"Create Purchase Request","procurement-purchasing":"Proceed to Purchase","procurement-purchased":"Confirm Goods Received","procurement-deleted":"Delete Request","procurement-reverted":"Revert Purchase","procurement-cancelled":"Cancel Purchase Order","import-purchase":"Import (New Goods)","import-recall":"Import (Recalled)","import-legacy":"Import (Legacy)","export-allocate":"Export (Allocate)","inventory-update":"Update Information","inventory-delete":"Delete from Inventory","inventory-update-note":"Update Maintenance Note","inventory-repair-complete":"Repair Complete","inventory-unrepairable":"Move to Liquidation","inventory-liquidated":"Liquidated",are_you_sure_reset_data:"Are you sure reset data ?",condition_new:"Brand new (100%)",recalled_prefix:"Returned Item: {conditionText}",condition_legacy_import:"Legacy (non-purchased) item",condition_repaired:"Repaired: {note}",confirm_move_to_liquidation_title:"Are you sure you want to liquidate this item?",confirm_move_to_liquidation_text:"This action cannot be undone. Please think carefully before confirming!",confirm_delete_master_title:"Confirm Master Deletion",confirm_delete_master_text:"Are you sure you want to delete the master item {itemName}? This action cannot be undone.",confirm_delete_inventory_title:"Confirm Device Deletion",confirm_delete_inventory_text:"Are you sure you want to permanently delete the device {itemName} from the inventory?",confirm_liquidate_title:"Confirm Liquidation",confirm_liquidate_text:"Are you sure you want to confirm the liquidation of {itemName}? This will permanently remove the device from the system.",repair_note_successful:"Repair successful",repair_note_replace_pcu:"Replaced Power Supply Unit (PCU)",repair_note_reinstall_os:"Reinstalled Operating System",repair_note_replace_screen:"Replaced Screen",repair_note_other:"Other (custom note)",repair_completed_with_note:"Complete Repair with Note",select_repair_note:"Select repair note",recalled_from_user:"Recalled from User",maintenance_date:"Maintenance Date",order_number:"ID",import_date:"Import Date",import_button_text:"Restore (Import)",backup_button_text:"Backup",reset_button_text:"Reset Data",lang_vi:"Vietnamese",lang_en:"English",lang_zh:"Chinese"},zh:{loading_data:"\u6b63\u5728\u52a0\u8f7d\u6570\u636e...",home:"\u9996\u9875",home_page_title:"\u9996\u9875\u4e0e\u66f4\u65b0",home_page_subtitle:"\u5173\u4e8e\u7248\u672c\u548c\u6700\u65b0\u66f4\u65b0\u6587\u7ae0\u7684\u4fe1\u606f\u3002",welcome_to_app:"\u6b22\u8fce\u4f7f\u7528IT\u5e93\u5b58\u7ba1\u7406\u7cfb\u7edf",home_page_content:"\u5728\u8fd9\u91cc\u60a8\u53ef\u4ee5\u627e\u5230\u516c\u544a\u3001\u7248\u672c\u66f4\u65b0\u548c\u6700\u65b0\u7684\u7528\u6237\u6307\u5357\u3002",nav_title_main:"\u6982\u8ff0",hello:"\u4f60\u597d",view_info:"\u67e5\u770b\u4fe1\u606f",user_profile:"\u7528\u6237\u8d44\u6599",no_name_provided:"\u672a\u63d0\u4f9b\u540d\u79f0",account_creation_date:"\u5e10\u6237\u521b\u5efa\u65e5\u671f",not_available:"\u4e0d\u53ef\u7528",change_password_button:"\u8bf7\u6c42\u66f4\u6539\u5bc6\u7801",password_reset_info:"\u5bc6\u7801\u91cd\u7f6e\u94fe\u63a5\u5c06\u53d1\u9001\u5230\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u3002",actioninventory:"\u5feb\u901f\u64cd\u4f5c",nav_title_assets:"\u8d44\u4ea7",nav_title_purchasing:"\u91c7\u8d2d",nav_title_lifecycle:"\u751f\u547d\u5468\u671f",nav_title_reports:"\u62a5\u544a\u4e0e\u7cfb\u7edf",inventory_list:"\u5e93\u5b58\u6e05\u5355",inventory_desc:"\u7ba1\u7406\u60a8\u5e93\u5b58\u4e2d\u7684\u6240\u6709\u8bbe\u5907\u3002",master_list:"\u8bbe\u5907\u6a21\u677f\u6e05\u5355",master_list_desc:"\u7ba1\u7406\u53ef\u91c7\u8d2d\u7684\u8bbe\u5907\u6a21\u677f\u3002",dashboard:"\u4eea\u8868\u76d8",dashboard_desc:"\u5feb\u901f\u67e5\u770b\u5e93\u5b58\u72b6\u6001\u548c\u5feb\u6377\u64cd\u4f5c\u3002",sort_by:"\u6392\u5e8f\u65b9\u5f0f",sort_az:"\u540d\u79f0 (A-Z)",sort_za:"\u540d\u79f0 (Z-A)",sort_asc:"\u5347\u5e8f",sort_desc:"\u964d\u5e8f",sort_newest:"\u6700\u65b0",sort_oldest:"\u6700\u65e7",loading_database_success:"\u6570\u636e\u52a0\u8f7d\u6210\u529f\uff01",loading_database_false:"\u65e0\u6cd5\u4ece\u6570\u636e\u5e93\u52a0\u8f7d\u6570\u636e\u3002",login_welcome_message:"\u767b\u5f55\u4ee5\u7ee7\u7eed\u7ba1\u7406\u5e93\u5b58",login_email:"\u7535\u5b50\u90ae\u7bb1\u5730\u5740",login_password:"\u5bc6\u7801",login_forgot_password:"\u5fd8\u8bb0\u5bc6\u7801\uff1f",login_button:"\u767b\u5f55",login_or_continue_with:"\u6216\u7ee7\u7eed\u4f7f\u7528",login_with_google:"\u4f7f\u7528 Google \u767b\u5f55",login_no_account:"\u8fd8\u6ca1\u6709\u8d26\u53f7\uff1f",login_register_now:"\u7acb\u5373\u6ce8\u518c",login_error_credentials:"\u90ae\u7bb1\u6216\u5bc6\u7801\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u8bd5\u3002",login_error_google:"\u4f7f\u7528 Google \u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\u3002",login_password_reset_sent:"\u5bc6\u7801\u91cd\u7f6e\u90ae\u4ef6\u5df2\u53d1\u9001\uff01",login_error_password_reset:"\u65e0\u6cd5\u53d1\u9001\u90ae\u4ef6\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u90ae\u7bb1\u5730\u5740\u3002",login_enter_email_for_reset:"\u8bf7\u8f93\u5165\u60a8\u7684\u90ae\u7bb1\u4ee5\u91cd\u7f6e\u5bc6\u7801\u3002",register_title:"\u521b\u5efa\u65b0\u8d26\u6237",register_welcome_message:"\u7acb\u5373\u5f00\u59cb\u7ba1\u7406\u60a8\u7684\u5e93\u5b58",register_button:"\u6ce8\u518c",register_has_account:"\u5df2\u7ecf\u6709\u8d26\u53f7\uff1f",register_login_now:"\u767b\u5f55",register_error_email_in_use:"\u8be5\u90ae\u7bb1\u5730\u5740\u5df2\u88ab\u4f7f\u7528\u3002",register_success_and_login:"\u6ce8\u518c\u6210\u529f\uff01\u8bf7\u91cd\u65b0\u767b\u5f55\u3002",register_confirm_password:"\u786e\u8ba4\u5bc6\u7801",register_error_password_mismatch:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01",login_success_title:"\u767b\u5f55\u6210\u529f\uff01",login_success_message:"\u6b22\u8fce\u56de\u6765\uff0c\u7cfb\u7edf\u6b63\u5728\u51c6\u5907\u4e2d...",register_success_title:"\u6ce8\u518c\u6210\u529f\uff01",register_success_message:"\u60a8\u7684\u8d26\u6237\u5df2\u521b\u5efa\uff0c\u6b63\u5728\u767b\u5f55...",login_continue_button:"\u8fdb\u5165\u7cfb\u7edf",register_back_to_login:"\u8fd4\u56de\u767b\u5f55",position_president:"\u4e3b\u5e2d",position_chairman:"\u8463\u4e8b\u957f",position_vice_chairman:"\u526f\u8463\u4e8b\u957f",position_general_director:"\u603b\u7ecf\u7406",position_deputy_general_director:"\u526f\u603b\u7ecf\u7406",position_director:"\u603b\u76d1",position_affairs_director:"\u5185\u52a1\u603b\u76d1",position_foreman:"\u5de5\u5934",position_assistant:"\u52a9\u7406",position_manager:"\u7ecf\u7406",position_deputy_manager:"\u526f\u7ecf\u7406",position_specialist:"\u4e13\u5458",position_staff:"\u804c\u5458",position_worker:"\u5de5\u4eba",position_janitor:"\u6e05\u6d01\u5de5",position_intern:"\u5b9e\u4e60\u751f",dept_bod:"\u8463\u4e8b\u4f1a",dept_director:"\u603b\u76d1",dept_hr_admin:"\u884c\u653f\u4eba\u4e8b\u90e8",dept_hse:"\u5065\u5eb7\u3001\u5b89\u5168\u3001\u73af\u5883\u4e0e\u6d88\u9632",dept_supply_chain:"\u4f9b\u5e94\u94fe\u8ba1\u5212",dept_technical:"\u6280\u672f\u90e8",dept_maintenance:"\u7ef4\u4fee\u90e8",dept_internal_control:"\u5185\u90e8\u63a7\u5236",dept_purchasing:"\u91c7\u8d2d\u90e8",dept_sales_policy:"\u9500\u552e\u653f\u7b56",dept_it:"\u4fe1\u606f\u6280\u672f",dept_production:"\u751f\u4ea7\u90e8",dept_operation:"\u8fd0\u8425\u90e8",dept_executive:"\u884c\u653f\u90e8\u95e8",dept_packaging:"\u5305\u88c5\u90e8",dept_marketing:"\u5e02\u573a\u8425\u9500",dept_medical:"\u533b\u52a1\u5ba4",dept_security:"\u4fdd\u5b89\u90e8",dept_accounting:"\u4f1a\u8ba1\u8d22\u52a1\u90e8",dept_sales:"\u9500\u552e\u90e8",dept_production_management:"\u751f\u4ea7\u7ba1\u7406",dept_general_affairs:"\u603b\u52a1\u90e8",toast_price_is_required:"\u8bf7\u8f93\u5165\u6240\u6709\u9009\u5b9a\u9879\u76ee\u7684\u4ef7\u683c\u3002",toast_sn_already_exists_in_inventory:"\u4e00\u4e2a\u6216\u591a\u4e2a\u5e8f\u5217\u53f7\u5df2\u5b58\u5728\u4e8e\u5e93\u5b58\u4e2d\uff08\u4f8b\u5982\uff1a'{sn}'\uff09\u3002\u8bf7\u91cd\u65b0\u68c0\u67e5\u3002",toast_sn_is_required:"\u8bf7\u8f93\u5165\u5e8f\u5217\u53f7\u4ee5\u4fbf\u5165\u5e93\u3002",toast_logout_local:"\u672c\u5730\u7248\u672c\u4e0d\u652f\u6301\u767b\u51fa\u3002",toast_item_added_to_request_list:"\u5df2\u5c06\u201c{itemName}\u201d\u6dfb\u52a0\u5230\u7533\u8bf7\u5217\u8868\u3002",toast_model_exists_guide_to_add:"\u578b\u53f7 '{itemName}' \u5df2\u5b58\u5728\u3002\u8bf7\u524d\u5f80\u201c\u91c7\u8d2d\u8bf7\u6c42\u201d\u5e76\u4ece\u201c\u4e3b\u5217\u8868\u6dfb\u52a0\u201d\u4ee5\u521b\u5efa\u8ba2\u5355\u3002",toast_new_model_added_successfully:"\u65b0\u578b\u53f7\u6dfb\u52a0\u6210\u529f\uff01",toast_model_name_updated_successfully:"\u578b\u53f7\u540d\u79f0\u66f4\u65b0\u6210\u529f\uff01",toast_cannot_delete_model_in_use:"\u65e0\u6cd5\u5220\u9664\u578b\u53f7\u201c{itemName}\u201d\uff0c\u56e0\u5176\u6b63\u5728\u4f7f\u7528\u6216\u5728\u5e93\u4e2d\u3002",toast_model_deleted_successfully:"\u578b\u53f7\u201c{itemName}\u201d\u53ca\u76f8\u5173\u7533\u8bf7\u5df2\u5220\u9664\u3002",toast_item_deleted_successfully:"\u8bbe\u5907\u5220\u9664\u6210\u529f\uff01",toast_item_liquidated_successfully:"\u8bbe\u5907\u201c{itemName}\u201d\u5df2\u6210\u529f\u62a5\u5e9f\u3002",toast_moved_to_purchasing_list:"\u5df2\u79fb\u81f3\u201c\u91c7\u8d2d\u201d\u5217\u8868\uff01",toast_purchase_confirmed_successfully:"\u91c7\u8d2d\u786e\u8ba4\u6210\u529f\uff01",toast_purchase_request_deleted:"\u91c7\u8d2d\u7533\u8bf7\u5df2\u5220\u9664\u3002",toast_purchase_cancelled_with_note:"\u5df2\u53d6\u6d88\u91c7\u8d2d\u201c{itemName}\u201d\u3002",toast_info_updated_successfully:"\u4fe1\u606f\u66f4\u65b0\u6210\u529f\uff01",toast_item_allocated_successfully:"\u5df2\u5206\u914d {itemName} \u7ed9 {recipientName}\u3002",toast_items_imported_to_inventory:"\u5df2\u5bfc\u5165 {quantity} \u4e2a {itemName} \u5230\u5e93\u5b58\uff01",toast_maintenance_note_updated:"\u7ef4\u62a4\u5907\u6ce8\u66f4\u65b0\u6210\u529f\uff01",toast_legacy_item_imported:"\u65e7\u8bbe\u5907\u5bfc\u5165\u6210\u529f\uff01",toast_backup_successful:"\u6570\u636e\u5907\u4efd\u6210\u529f\uff01",toast_backup_failed:"\u6570\u636e\u5907\u4efd\u5931\u8d25\uff01",toast_data_reset_successful:"\u6240\u6709\u6570\u636e\u5df2\u6210\u529f\u91cd\u7f6e\uff01",toast_data_restored_successfully:"\u6570\u636e\u6062\u590d\u6210\u529f\uff01",toast_invalid_backup_file:"\u65e0\u6548\u7684\u5907\u4efd\u6587\u4ef6\u3002",toast_error_reading_backup_file:"\u8bfb\u53d6\u5907\u4efd\u6587\u4ef6\u65f6\u51fa\u9519\u3002",confirm_override_data:"\u60a8\u786e\u5b9a\u8981\u8986\u76d6\u6240\u6709\u5f53\u524d\u6570\u636e\u5417\uff1f",prompt_enter_repair_note:"\u8f93\u5165\u7ef4\u4fee\u5907\u6ce8\uff08\u4f8b\u5982\uff1a\u66f4\u6362\u7535\u6e90\u3001\u91cd\u88c5\u7cfb\u7edf\uff09\uff1a",default_repair_note:"\u7ef4\u4fee\u6210\u529f\u3002",toast_sn_quantity_mismatch:"\u5e8f\u5217\u53f7\u6570\u91cf ({snCount}) \u5fc5\u987b\u7b49\u4e8e\u91c7\u8d2d\u6570\u91cf ({purchaseCount})\u3002",toast_duplicate_sn_error:"\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u5e8f\u5217\u53f7\uff08SN\uff09\u3002",serial_number_required:"\u5e8f\u5217\u53f7\u662f\u5fc5\u586b\u9879\u3002",toast_sn_exists:"\u5e8f\u5217\u53f7 '{sn}' \u5df2\u5b58\u5728\u4e8e\u5e93\u5b58\u4e2d\u3002",toast_sn_updated_required:"\u8bbe\u5907\u5df2\u5bfc\u5165\u4e34\u65f6\u5e8f\u5217\u53f7\u3002\u8bf7\u5230\u5e93\u5b58\u7ba1\u7406\u4e2d\u66f4\u65b0\u3002",add_multiple_sn_placeholder:"\u8f93\u5165\u591a\u4e2a\u5e8f\u5217\u53f7\uff0c\u7528\u9017\u53f7\u5206\u9694",select_sn_to_allocate:"\u9009\u62e9\u8981\u5206\u914d\u7684\u5e8f\u5217\u53f7",allocated_sn:"\u5df2\u5206\u914d\u7684\u5e8f\u5217\u53f7",confirm_liquidated:"\u786e\u8ba4\u6e05\u7b97",please_select_item_to_purchase:"\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u8981\u91c7\u8d2d\u7684\u7269\u54c1\u3002",please_select_purchased_items:"\u8bf7\u9009\u62e9\u5df2\u8d2d\u4e70\u7684\u7269\u54c1\u8fdb\u884c\u786e\u8ba4\u3002",allocation_quantity_error:"\u5206\u914d\u6570\u91cf\u4e0d\u80fd\u5927\u4e8e\u5e93\u5b58\u6570\u91cf",cancelling_purchase_for:"\u53d6\u6d88\u91c7\u8d2d",please_enter_cancellation_reason:"\u8bf7\u8f93\u5165\u53d6\u6d88\u539f\u56e0\u3002",please_fill_all_fields:"\u8bf7\u586b\u5199\u6240\u6709\u5b57\u6bb5\u3002",please_enter_device_name:"\u8bf7\u8f93\u5165\u8bbe\u5907\u540d\u79f0\u3002",are_you_sure_generic:"\u60a8\u786e\u5b9a\u8981\u6267\u884c\u6b64\u64cd\u4f5c\u5417\uff1f",revert_to_pending:"\u9000\u56de\u81f3\u8bf7\u6c42\u5217\u8868",cancel_purchase:"\u53d6\u6d88\u91c7\u8d2d",toast_moved_to_maintenance:"\u5df2\u5c06 {quantity} \u4e2a {itemName} \u79fb\u81f3\u7ef4\u4fee\u5217\u8868\u3002",toast_recalled_to_stock:"\u5df2\u5c06 {quantity} \u4e2a {itemName} \u53ec\u56de\u5e93\u5b58\u3002",toast_repair_complete:"\u7ef4\u4fee\u540e\u5df2\u5c06 {itemName} \u9000\u56de\u5e93\u5b58\u3002",toast_moved_to_liquidation:"\u5df2\u5c06 {itemName} \u79fb\u81f3\u6e05\u7b97\u5217\u8868\u3002",category_all:"\u6240\u6709\u7c7b\u522b",category_pc:"\u53f0\u5f0f\u7535\u8111",category_mini_pc:"\u8ff7\u4f60\u7535\u8111",category_laptop:"\u7b14\u8bb0\u672c\u7535\u8111",category_monitor:"\u663e\u793a\u5668",category_keyboard:"\u952e\u76d8",category_mouse:"\u9f20\u6807",category_printer:"\u6253\u5370\u673a",category_label_printer:"\u6807\u7b7e\u6253\u5370\u673a",category_photocopier:"\u590d\u5370\u673a",category_printer_ink:"\u6253\u5370\u673a\u58a8\u76d2",category_network_device:"\u7f51\u7edc\u8bbe\u5907",category_network_cable:"\u7f51\u7ebf",category_other:"\u5176\u4ed6\u7269\u8d44",location_not_imported:"\u5c1a\u672a\u5165\u5e93",location_in_stock:"\u5728\u5e93",location_maintenance_room:"\u7ef4\u4fee\u5ba4",location_liquidation_stock:"\u6e05\u7b97\u4ed3\u5e93",failure_note_placeholder:"\u8f93\u5165\u6545\u969c\u5907\u6ce8\uff08\u4f8b\u5982\uff1a\u65e0\u6cd5\u5f00\u673a\uff0c\u5c4f\u5e55\u6709\u6761\u7eb9...\uff09",cancellation_reason_placeholder:"\u8f93\u5165\u53d6\u6d88\u539f\u56e0\uff08\u4f8b\u5982\uff1a\u627e\u5230\u66f4\u597d\u7684\u4f9b\u5e94\u5546\uff0c\u9700\u6c42\u53d1\u751f\u53d8\u5316...\uff09",master_item_name_placeholder:"\u8f93\u5165\u8981\u6dfb\u52a0\u7684\u8bbe\u5907\u578b\u53f7",repair_completed:"\u7ef4\u4fee\u5b8c\u6210",mark_unrepairable:"\u8bbe\u5907\u62a5\u5e9f",condition_good_as_new:"\u8bbe\u5907\u826f\u597d\uff0c\u5982\u540c\u5168\u65b0",condition_used:"\u5df2\u4f7f\u7528\u7684\u8bbe\u5907",recall_reason_resigned:"\u7528\u6237\u5df2\u79bb\u804c",recall_reason_replacement:"\u7528\u6237\u66f4\u6362\u4e86\u8bbe\u5907",recall_reason_upgrade:"\u7528\u6237\u5347\u7ea7\u4e86\u8bbe\u5907",condition_damaged_needs_maintenance:"\u635f\u574f\uff0c\u9700\u8981\u7ef4\u4fee",allocating:"\u4ea4\u63a5\u81ea",recipient_name:"\u63a5\u6536\u4eba\u59d3\u540d",employee_id:"\u5458\u5de5\u7f16\u53f7",condition_on_handover:"\u8bbe\u5907\u72b6\u51b5",confirm_allocation:"\u786e\u8ba4",good_condition:"\u826f\u597d",recalling_from:"\u8bbe\u5907\u540d\u79f0",recall_quantity:"\u6570\u91cf",condition_on_recall:"\u72b6\u51b5",confirm_recall:"\u6536\u56de",locale_string:"zh-CN",admin:"\u7ba1\u7406\u5458",it_inventory:"IT\u5e93\u5b58\u7ba1\u7406",search:"\u641c\u7d22",category:"\u7c7b\u522b",status:"\u72b6\u6001",quantity:"\u6570\u91cf",price:"\u4ef7\u683c",location:"\u4f4d\u7f6e",serial_number_sn:"\u5e8f\u5217\u53f7 (SN)",actions:"\u64cd\u4f5c",all_categories:"\u6240\u6709\u7c7b\u522b",close:"\u5173\u95ed",cancel:"\u53d6\u6d88",save:"\u4fdd\u5b58",save_changes:"\u4fdd\u5b58\u66f4\u6539",confirm:"\u786e\u8ba4",delete:"\u5220\u9664",edit:"\u7f16\u8f91",view:"\u67e5\u770b",add_new:"\u65b0\u589e",no_data_available:"\u65e0\u53ef\u7528\u6570\u636e\u3002",add:"\u6dfb\u52a0",requested:"\u5df2\u8bf7\u6c42",max:"\u6700\u5927",all:"\u5168\u90e8",all_data:"\u6240\u6709\u6570\u636e",note:"\u7b14\u8bb0",condition:"\u72b6\u51b5",performed_by:"\u6267\u884c\u8005",object:"\u5bf9\u8c61",details:"\u8be6\u60c5",timestamp:"\u65f6\u95f4\u6233",action:"\u64cd\u4f5c",action_type:"\u64cd\u4f5c\u7c7b\u578b",from_date:"\u4ece\u65e5\u671f",to_date:"\u81f3\u65e5\u671f",notifications:"\u6700\u8fd1\u901a\u77e5",no_new_notifications:"\u6ca1\u6709\u65b0\u901a\u77e5\u3002",view_all:"\u67e5\u770b\u5168\u90e8",account:"\u8d26\u6237",logout:"\u767b\u51fa",settings:"\u8bbe\u7f6e",pending_purchase:"\u91c7\u8d2d\u8bf7\u6c42",purchasing:"\u91c7\u8d2d\u4e2d",purchased:"\u5df2\u8d2d\u4e70",inventory_management:"\u5e93\u5b58\u7ba1\u7406",allocated:"\u5df2\u5206\u914d",maintenance:"\u7ef4\u4fee",liquidation:"\u6e05\u7b97",reports:"\u62a5\u544a",pending_purchase_requests:"\u91c7\u8d2d\u8bf7\u6c42",in_purchasing_process:"\u91c7\u8d2d\u4e2d",purchased_waiting_import:"\u5df2\u8d2d\u4e70",total_inventory:"\u603b\u5e93\u5b58",available:"\u53ef\u7528",in_use:"\u4f7f\u7528\u4e2d",in_maintenance:"\u7ef4\u4fee\u4e2d",pending_liquidation:"\u5f85\u6e05\u7b97",out_of_stock:"\u7f3a\u8d27",broken:"\u635f\u574f",quick_actions:"\u5feb\u6377\u64cd\u4f5c",add_view_master_list:"\u6dfb\u52a0/\u67e5\u770b\u4e3b\u5217\u8868",manage_purchasing:"\u7ba1\u7406\u91c7\u8d2d",manage_inventory:"\u7ba1\u7406\u5e93\u5b58",view_full_report:"\u67e5\u770b\u5b8c\u6574\u62a5\u544a",in_stock:"\u5e93\u5b58\u4e2d",system_settings:"\u7cfb\u7edf\u8bbe\u7f6e",interface:"\u754c\u9762",light_mode:"\u6d45\u8272\u6a21\u5f0f",dark_mode:"\u6df1\u8272\u6a21\u5f0f",auto_mode:"\u81ea\u52a8",language:"\u8bed\u8a00",data_management:"\u6570\u636e\u7ba1\u7406",import_data:"\u4ece\u6587\u4ef6\u6062\u590d\uff08\u5bfc\u5165\uff09\u6570\u636e",backup_data:"\u5907\u4efd\u6240\u6709\u6570\u636e",reset_data:"\u91cd\u7f6e\u6240\u6709\u6570\u636e",reset_data_warning:"\u8b66\u544a\uff1a\u6b64\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500\u3002",add_new_master_item:"\u65b0\u589e\u4e3b\u9879\u76ee",search_master_item_placeholder:"\u641c\u7d22\u4e3b\u9879\u76ee\u540d\u79f0...",master_item_name:"\u4e3b\u9879\u76ee\u540d\u79f0",usage_status:"\u4f7f\u7528\u72b6\u6001",has_been_used:"\u5df2\u4f7f\u7528",never_used:"\u4ece\u672a\u4f7f\u7528",no_master_items_found:"\u672a\u627e\u5230\u4e3b\u9879\u76ee\u3002",cannot_edit_used_model:"\u65e0\u6cd5\u7f16\u8f91\u5df2\u5728\u4f7f\u7528\u7684\u578b\u53f7",search_inventory_placeholder:"\u641c\u7d22\u5e93\u5b58\u8bbe\u5907...",import_unlisted_device:"\u5bfc\u5165\u672a\u901a\u8fc7\u91c7\u8d2d\u7684\u8bbe\u5907",device_name:"\u8bbe\u5907\u540d\u79f0",user_in_use:"\u5f53\u524d\u7528\u6237",user_not_use:"\u65e0\u7528\u6237",no_devices_match_search:"\u672a\u627e\u5230\u4e0e\u60a8\u641c\u7d22\u5339\u914d\u7684\u8bbe\u5907\u3002",pending_purchase_list:"\u5f85\u91c7\u8d2d\u8bf7\u6c42\u5217\u8868",pending_purchase_desc:"\u9009\u62e9\u9879\u76ee\u5e76\u8f93\u5165\u6570\u91cf\u4ee5\u8fdb\u5165\u4e0b\u4e00\u9636\u6bb5\u3002",add_from_master_list:"\u4ece\u4e3b\u5217\u8868\u6dfb\u52a0",proceed_to_purchase_count:"\u8fdb\u884c\u91c7\u8d2d ({count})",purchase_quantity:"\u91c7\u8d2d\u6570\u91cf",purchasing_list:"\u91c7\u8d2d\u4e2d\u5217\u8868",purchasing_desc:"\u6b63\u5728\u8ba2\u8d2d\u548c\u8fd0\u8f93\u8fc7\u7a0b\u4e2d\u7684\u9879\u76ee\u3002",confirm_purchased_count:"\u786e\u8ba4\u4e3a\u5df2\u8d2d\u4e70 ({count})",purchased_list:"\u5df2\u8d2d\u4e70\u5217\u8868\uff08\u7b49\u5f85\u5165\u5e93\uff09",purchased_desc:"\u51c6\u5907\u597d\u5165\u5e93\u7684\u7269\u54c1\u3002",import_to_inventory:"\u5165\u5e93",imported:"\u5df2\u5165\u5e93",allocated_list:"\u5df2\u5206\u914d\u8bbe\u5907\u5217\u8868",allocated_desc:"\u5458\u5de5\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u7684\u8bbe\u5907\u3002",filter_by_category:"\u6309\u7c7b\u522b\u7b5b\u9009",recipient:"\u63a5\u6536\u4eba",employee_info:"\u5458\u5de5\u53f7\u548c\u804c\u4f4d",position:"\u804c\u4f4d",department:"\u90e8\u95e8",handover_date:"\u4ea4\u63a5\u65e5\u671f",recall:"\u53ec\u56de",no_allocated_items_match_filter:"\u6c92\u6709\u7b26\u5408\u7be9\u9078\u689d\u4ef6\u7684\u5df2\u5206\u914d\u8a2d\u5099\u3002",maintenance_management:"\u7ef4\u4fee\u7ba1\u7406",maintenance_desc:"\u7b49\u5f85\u7ef4\u4fee\u6216\u5904\u7406\u7684\u8bbe\u5907\u5217\u8868\u3002",failure_note:"\u6545\u969c\u8bf4\u660e",liquidation_list:"\u5f85\u6e05\u7b97\u8bbe\u5907",liquidation_desc:"\u65e0\u6cd5\u4fee\u590d\u7684\u8bbe\u5907\u5217\u8868\u3002",no_liquidation_items:"\u6ca1\u6709\u5f85\u6e05\u7b97\u7684\u8bbe\u5907\u3002",activity_log_history:"\u6d3b\u52a8\u65e5\u5fd7\u5386\u53f2",activity_log_desc:"\u7cfb\u7edf\u4e0a\u6267\u884c\u7684\u6240\u6709\u64cd\u4f5c\u7684\u5b8c\u6574\u5386\u53f2\u8bb0\u5f55\u3002",recall_dedicated_title:"\u53ec\u56de\u5df2\u5206\u914d\u8bbe\u5907",recall_dedicated_desc:"\u5458\u5de5\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u7684\u8bbe\u5907\u3002",device_user_column:"\u8bbe\u5907\u548c\u7528\u6237",no_allocated_items_for_recall:"\u5c1a\u672a\u6709\u8bbe\u5907\u5206\u914d\u7ed9\u7528\u6237\u3002",add_new_master_item_modal_title:"\u65b0\u589e\u4e3b\u8bbe\u5907",edit_device_modal_title:"\u7f16\u8f91\u8bbe\u5907",confirm_delete:"\u786e\u8ba4\u5220\u9664",confirm_cancellation:"\u786e\u8ba4\u53d6\u6d88",are_you_sure_delete:'\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8bbe\u5907 <strong class="text-red-600">{itemName}</strong> \u5417\uff1f\u6b64\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500\u3002',device_details:"\u8bbe\u5907\u8be6\u60c5",allocate_device:"\u5206\u914d\u8bbe\u5907",reason_for_cancellation:"\u53d6\u6d88\u539f\u56e0",edit_device_name:"\u7f16\u8f91\u8bbe\u5907\u540d\u79f0",recall_device:"\u53ec\u56de\u8bbe\u5907",information:"\u4fe1\u606f",add_to_purchase_request_from_master:"\u4ece\u4e3b\u5217\u8868\u6dfb\u52a0\u5230\u91c7\u8d2d\u8bf7\u6c42",edit_failure_note:"\u7f16\u8f91\u6545\u969c\u8bf4\u660e",account_information:"\u8d26\u6237\u4fe1\u606f",display_name:"\u663e\u793a\u540d\u79f0",change_password:"\u66f4\u6539\u5bc6\u7801",password_change_disabled:"\u672c\u5730\u7248\u672c\u5df2\u7981\u7528\u5bc6\u7801\u66f4\u6539\u529f\u80fd\u3002","procurement-request":"\u521b\u5efa\u91c7\u8d2d\u8bf7\u6c42","procurement-purchasing":"\u8fdb\u884c\u91c7\u8d2d","procurement-purchased":"\u786e\u8ba4\u6536\u8d27","procurement-deleted":"\u5220\u9664\u8bf7\u6c42","procurement-reverted":"\u64a4\u9500\u91c7\u8d2d","procurement-cancelled":"\u53d6\u6d88\u91c7\u8d2d\u8ba2\u5355","import-purchase":"\u5165\u5e93\uff08\u65b0\u8d27\uff09","import-recall":"\u5165\u5e93\uff08\u53ec\u56de\uff09","import-legacy":"\u5165\u5e93\uff08\u9057\u7559\uff09","export-allocate":"\u51fa\u5e93\uff08\u5206\u914d\uff09","inventory-update":"\u66f4\u65b0\u4fe1\u606f","inventory-delete":"\u4ece\u5e93\u5b58\u5220\u9664","inventory-update-note":"\u66f4\u65b0\u7ef4\u4fee\u8bf4\u660e","inventory-repair-complete":"\u7ef4\u4fee\u5b8c\u6210","inventory-unrepairable":"\u79fb\u81f3\u6e05\u7b97","inventory-liquidated":"\u5df2\u6e05\u7b97",are_you_sure_reset_data:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u6570\u636e\u5417?",condition_new:"\u5168\u65b0 (100%)",recalled_prefix:"\u9000\u56de\u7269\u54c1: {conditionText}",condition_legacy_import:"\u975e\u91c7\u8d2d\u5bfc\u5165\u7269\u54c1",condition_repaired:"\u5df2\u4fee\u590d: {note}",confirm_move_to_liquidation_title:"\u60a8\u786e\u5b9a\u8981\u5c06\u5176\u79fb\u81f3\u6e05\u7b97\u5417\uff1f",confirm_move_to_liquidation_text:"\u6b64\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500\uff0c\u8bf7\u5728\u786e\u8ba4\u524d\u8c28\u614e\u8003\u8651\uff01",confirm_delete_master_title:"\u786e\u8ba4\u5220\u9664\u4e3b\u6a21\u677f",confirm_delete_master_text:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u4e3b\u6a21\u677f {itemName} \u5417\uff1f\u6b64\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500\u3002",confirm_delete_inventory_title:"\u786e\u8ba4\u5220\u9664\u8bbe\u5907",confirm_delete_inventory_text:"\u60a8\u786e\u5b9a\u8981\u4ece\u5e93\u5b58\u4e2d\u6c38\u4e45\u5220\u9664\u8bbe\u5907 {itemName} \u5417\uff1f",confirm_liquidate_title:"\u786e\u8ba4\u6e05\u7b97",confirm_liquidate_text:"\u60a8\u786e\u5b9a\u8981\u786e\u8ba4\u6e05\u7b97 {itemName} \u5417\uff1f\u8fd9\u5c06\u4ece\u7cfb\u7edf\u4e2d\u6c38\u4e45\u5220\u9664\u8be5\u8bbe\u5907\u3002",repair_note_successful:"\u7ef4\u4fee\u6210\u529f",repair_note_replace_pcu:"\u66f4\u6362\u7535\u6e90\u5355\u5143 (PCU)",repair_note_reinstall_os:"\u91cd\u65b0\u5b89\u88c5\u64cd\u4f5c\u7cfb\u7edf",repair_note_replace_screen:"\u66f4\u6362\u5c4f\u5e55",repair_note_other:"\u5176\u4ed6\uff08\u81ea\u5b9a\u4e49\u5907\u6ce8\uff09",repair_completed_with_note:"\u5b8c\u6210\u7ef4\u4fee\u5e76\u5907\u6ce8",select_repair_note:"\u9009\u62e9\u7ef4\u4fee\u5907\u6ce8",recalled_from_user:"\u4ece\u7528\u6237\u5904\u6536\u56de",maintenance_date:"\u7ef4\u4fee\u65e5\u671f",order_number:"\u5e8f\u53f7",import_date:"\u5165\u5e93\u65e5\u671f",import_button_text:"\u6062\u590d (\u5bfc\u5165)",backup_button_text:"\u5907\u4efd",reset_button_text:"\u91cd\u7f6e\u6570\u636e",lang_vi:"\u8d8a\u5357\u8bed",lang_en:"\u82f1\u8bed",lang_zh:"\u4e2d\u6587"}},gg=[{id:"all",tKey:"category_all"},{id:"pc",tKey:"category_pc"},{id:"mini-pc",tKey:"category_mini_pc"},{id:"laptop",tKey:"category_laptop"},{id:"monitor",tKey:"category_monitor"},{id:"keyboard",tKey:"category_keyboard"},{id:"mouse",tKey:"category_mouse"},{id:"printer",tKey:"category_printer"},{id:"label-printer",tKey:"category_label_printer"},{id:"photocopier",tKey:"category_photocopier"},{id:"printer-ink",tKey:"category_printer_ink"},{id:"network-device",tKey:"category_network_device"},{id:"network-cable",tKey:"category_network_cable"},{id:"other",tKey:"category_other"}],yg={available:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300","in-use":"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",maintenance:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",liquidation:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300",broken:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300","out-of-stock":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300","pending-purchase":"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300",purchasing:"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",purchased:"bg-teal-100 text-teal-800 dark:bg-teal-900/50 dark:text-teal-300"},vg=[{id:"position_president",tKey:"position_president"},{id:"position_chairman",tKey:"position_chairman"},{id:"position_vice_chairman",tKey:"position_vice_chairman"},{id:"position_general_director",tKey:"position_general_director"},{id:"position_deputy_general_director",tKey:"position_deputy_general_director"},{id:"position_director",tKey:"position_director"},{id:"position_affairs_director",tKey:"position_affairs_director"},{id:"position_foreman",tKey:"position_foreman"},{id:"position_assistant",tKey:"position_assistant"},{id:"position_manager",tKey:"position_manager"},{id:"position_deputy_manager",tKey:"position_deputy_manager"},{id:"position_specialist",tKey:"position_specialist"},{id:"position_staff",tKey:"position_staff"},{id:"position_worker",tKey:"position_worker"},{id:"position_janitor",tKey:"position_janitor"},{id:"position_intern",tKey:"position_intern"}],bg=[{id:"dept_bod",tKey:"dept_bod"},{id:"dept_director",tKey:"dept_director"},{id:"dept_hr_admin",tKey:"dept_hr_admin"},{id:"dept_general_affairs",tKey:"dept_general_affairs"},{id:"dept_hse",tKey:"dept_hse"},{id:"dept_supply_chain",tKey:"dept_supply_chain"},{id:"dept_technical",tKey:"dept_technical"},{id:"dept_maintenance",tKey:"dept_maintenance"},{id:"dept_internal_control",tKey:"dept_internal_control"},{id:"dept_purchasing",tKey:"dept_purchasing"},{id:"dept_sales_policy",tKey:"dept_sales_policy"},{id:"dept_it",tKey:"dept_it"},{id:"dept_marketing",tKey:"dept_marketing"},{id:"dept_production",tKey:"dept_production"},{id:"dept_executive",tKey:"dept_executive"},{id:"dept_operation",tKey:"dept_operation"},{id:"dept_packaging",tKey:"dept_packaging"},{id:"dept_medical",tKey:"dept_medical"},{id:"dept_security",tKey:"dept_security"},{id:"dept_accounting",tKey:"dept_accounting"},{id:"dept_sales",tKey:"dept_sales"}],_g=Ae("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),xg=Ae("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),wg=Ae("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var kg=n(579);const Ng=t=>{let{onLogin:n,onGoogleSignIn:r,onPasswordReset:a,onSignUp:i,t:s}=t;const[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(!1),[f,m]=(0,e.useState)(!1),[p,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)(!1),[b,_]=(0,e.useState)("");return(0,kg.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 space-y-6",children:[(0,kg.jsxs)("div",{className:"flex flex-col items-center",children:[(0,kg.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:(0,kg.jsx)(Pe,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),(0,kg.jsx)("h2",{className:"mt-4 text-3xl font-bold text-center text-gray-800 dark:text-gray-100",children:"IT Inventory"}),(0,kg.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:s(y?"register_welcome_message":"login_welcome_message")})]}),(0,kg.jsxs)("form",{onSubmit:y?async e=>{if(e.preventDefault(),m(!0),c!==b)return ke.error(s("register_error_password_mismatch")),void m(!1);try{await i(o,c),v(!1),u(""),_("")}catch(t){"auth/email-already-in-use"===t.code?ke.error(s("register_error_email_in_use")):ke.error(t.message)}finally{m(!1)}}:async e=>{e.preventDefault(),m(!0);try{await n(o,c)}catch(t){ke.error(s("login_error_credentials"))}finally{m(!1)}},className:"space-y-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s("login_email")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(_g,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"email",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:!0})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s("login_password")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)("input",{type:d?"text":"password",value:c,onChange:e=>u(e.target.value),className:"w-full pl-4 pr-10 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:!0}),(0,kg.jsx)("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?(0,kg.jsx)(xg,{className:"w-5 h-5"}):(0,kg.jsx)(wg,{className:"w-5 h-5"})})]})]}),y&&(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s("register_confirm_password")}),(0,kg.jsx)("div",{className:"relative mt-1",children:(0,kg.jsx)("input",{type:d?"text":"password",value:b,onChange:e=>_(e.target.value),className:"w-full pl-4 pr-10 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:!0})})]}),(0,kg.jsx)("div",{className:"flex items-center justify-end",children:!y&&(0,kg.jsx)("button",{type:"button",onClick:async()=>{if(o)try{await a(o),ke.success(s("login_password_reset_sent"))}catch(e){ke.error(s("login_error_password_reset"))}else ke.error(s("login_enter_email_for_reset"))},className:"text-sm text-blue-600 hover:underline",children:s("login_forgot_password")})}),(0,kg.jsx)("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400",children:f?"...":s(y?"register_button":"login_button")})]}),(0,kg.jsxs)("div",{className:"relative",children:[(0,kg.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,kg.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,kg.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,kg.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:s("login_or_continue_with")})})]}),(0,kg.jsx)("button",{onClick:async()=>{g(!0);try{await r()}catch(e){ke.error(s("login_error_google"))}finally{g(!1)}},disabled:p,className:"w-full flex items-center justify-center py-3 px-4 border rounded-lg bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:bg-gray-200",children:p?"...":(0,kg.jsxs)(kg.Fragment,{children:[(0,kg.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[(0,kg.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),(0,kg.jsx)("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),(0,kg.jsx)("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),(0,kg.jsx)("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),(0,kg.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]}),s("login_with_google")]})}),(0,kg.jsx)("div",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:y?(0,kg.jsxs)(kg.Fragment,{children:[s("register_has_account")," ",(0,kg.jsx)("button",{onClick:()=>v(!1),className:"font-medium text-blue-600 hover:underline",children:s("register_login_now")})]}):(0,kg.jsxs)(kg.Fragment,{children:[s("login_no_account")," ",(0,kg.jsx)("button",{onClick:()=>v(!0),className:"font-medium text-blue-600 hover:underline",children:s("login_register_now")})]})})]})})},Sg=Ae("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Cg=Ae("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Eg=Ae("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Tg=e=>{let{currentUser:t,onPasswordReset:n,t:r}=e;return(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 sm:p-8 max-w-2xl mx-auto",children:[(0,kg.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,kg.jsx)("div",{className:"w-24 h-24 mb-4 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,kg.jsx)("span",{className:"text-white text-4xl font-medium",children:t.displayName?t.displayName.charAt(0).toUpperCase():t.email.charAt(0).toUpperCase()})}),(0,kg.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.displayName||r("no_name_provided")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("user_profile")})]}),(0,kg.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,kg.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,kg.jsx)(_g,{className:"w-5 h-5 text-gray-400 mr-4 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500",children:r("login_email")}),(0,kg.jsx)("p",{className:"text-md font-medium text-gray-800 dark:text-gray-200 break-all",children:t.email})]})]}),(0,kg.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,kg.jsx)(Sg,{className:"w-5 h-5 text-gray-400 mr-4 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500",children:r("display_name")}),(0,kg.jsx)("p",{className:"text-md font-medium text-gray-800 dark:text-gray-200",children:t.displayName||t.email})]})]}),(0,kg.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,kg.jsx)(Cg,{className:"w-5 h-5 text-gray-400 mr-4 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500",children:r("account_creation_date")}),(0,kg.jsx)("p",{className:"text-md font-medium text-gray-800 dark:text-gray-200",children:t.metadata&&t.metadata.creationTime?new Date(t.metadata.creationTime).toLocaleDateString(r("locale_string")):r("not_available")})]})]})]}),(0,kg.jsxs)("div",{className:"mt-8 border-t dark:border-gray-700 pt-6",children:[(0,kg.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:r("change_password")}),(0,kg.jsxs)("button",{onClick:()=>{n(t.email).then(()=>{ke.success(r("login_password_reset_sent"))}).catch(e=>{ke.error(r("login_error_password_reset"))})},className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[(0,kg.jsx)(Eg,{className:"w-4 h-4"})," ",r("change_password_button")]}),(0,kg.jsx)("p",{className:"text-xs text-center text-gray-500 mt-2",children:r("password_reset_info")})]})]})},jg=Ae("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ig=Ae("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Ag=Ae("file-plus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),Pg=Ae("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),Dg=Ae("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Rg=Ae("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Og=Ae("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),Mg=Ae("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Lg=Ae("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Fg=e=>{let{activeTab:t,setActiveTab:n,t:r,isCollapsed:a}=e;const i=[{titleKey:"nav_title_main",items:[{id:"home",name:r("home"),icon:jg}]},{titleKey:"nav_title_purchasing",items:[{id:"masterList",name:r("master_list"),icon:Ig},{id:"pendingPurchase",name:r("pending_purchase"),icon:Ag},{id:"purchasing",name:r("purchasing"),icon:Pg},{id:"purchased",name:r("purchased"),icon:Dg}]},{titleKey:"nav_title_assets",items:[{id:"inventory",name:r("inventory_management"),icon:Pe},{id:"allocated",name:r("allocated"),icon:Rg}]},{titleKey:"nav_title_lifecycle",items:[{id:"maintenance",name:r("maintenance"),icon:Og},{id:"liquidation",name:r("liquidation"),icon:Mg}]},{titleKey:"nav_title_reports",items:[{id:"reports",name:r("reports"),icon:Lg}]}];return(0,kg.jsx)("nav",{children:(0,kg.jsx)("div",{className:"flex flex-col space-y-1",children:i.map((e,i)=>(0,kg.jsxs)("div",{children:[i>0&&(0,kg.jsx)("div",{className:"h-px transition-all duration-300 ".concat(a?"w-8 mx-auto my-2 bg-gray-600":"mx-4 my-1.5 bg-gray-200 dark:bg-gray-700")}),!a&&(0,kg.jsx)("h3",{className:"px-4 mb-1 text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:r(e.titleKey)}),(0,kg.jsx)("div",{className:"flex flex-col items-center space-y-0.5 ".concat(a?"":"pl-4 items-stretch"),children:e.items.map(e=>{const r=e.icon,i=t===e.id;return(0,kg.jsxs)("button",{onClick:()=>n(e.id),title:a?e.name:"",className:"\n                      flex items-center font-medium text-xs transition-colors rounded-lg\n                      ".concat(a?"w-10 h-10 justify-center":"w-full space-x-3 py-1.5 px-4","\n                      ").concat(i?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700/50","\n                    "),children:[(0,kg.jsx)(r,{className:"w-4 h-4 flex-shrink-0"}),(0,kg.jsx)("span",{className:"transition-opacity duration-300 ease-out ".concat(a?"opacity-0 pointer-events-none hidden":"opacity-100"),children:e.name})]},e.id)})})]},e.titleKey))})})},Ug=Ae("sliders-horizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Vg=Ae("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),qg=Ae("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zg=Ae("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bg=t=>{let{currentUser:n,onLogout:r,onSettingsClick:a,activeTab:i,setActiveTab:s,t:o,isCollapsed:l,toggleSidebar:c,isMobile:u,isMobileOpen:d,setMobileOpen:h,onViewProfile:f}=t;const m=()=>{const t=(0,e.useRef)(null);return(0,e.useEffect)(()=>{const e=t.current;if(!e)return;const n=t=>{0!==t.deltaY&&(t.preventDefault(),e.scrollTop+=t.deltaY)};return e.addEventListener("wheel",n),()=>{e.removeEventListener("wheel",n)}},[]),(0,kg.jsxs)(kg.Fragment,{children:[(0,kg.jsxs)("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700 h-16 flex-shrink-0",children:[(0,kg.jsx)("div",{className:"flex items-center space-x-3 overflow-hidden transition-opacity duration-300 ".concat(l&&!u?"opacity-0 w-0":"opacity-100"),children:u?(0,kg.jsxs)(kg.Fragment,{children:[(0,kg.jsx)(Ug,{className:"w-7 h-7 text-blue-600 flex-shrink-0"}),(0,kg.jsx)("h1",{className:"text-base font-bold text-gray-900 dark:text-gray-100 whitespace-nowrap",children:o("actioninventory")})]}):(0,kg.jsxs)(kg.Fragment,{children:[(0,kg.jsx)(Pe,{className:"w-7 h-7 text-blue-600 flex-shrink-0"}),(0,kg.jsx)("h1",{className:"text-base font-bold text-gray-900 dark:text-gray-100 whitespace-nowrap",children:o("it_inventory")})]})}),l&&!u&&(0,kg.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,kg.jsx)(Pe,{className:"w-8 h-8 text-blue-600"})}),!u&&(0,kg.jsx)("div",{className:"transition-opacity duration-300 ".concat(l?"opacity-0 w-0":"opacity-100"),children:(0,kg.jsx)("button",{onClick:c,className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg","aria-label":"Toggle sidebar",children:(0,kg.jsx)(Vg,{})})}),l&&!u&&(0,kg.jsx)("div",{className:"absolute top-4 right-[-14px] z-10",children:(0,kg.jsx)("button",{onClick:c,className:"p-1.5 text-gray-500 bg-white dark:bg-gray-800 border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md","aria-label":"Toggle sidebar",children:(0,kg.jsx)(Vg,{className:"rotate-180 w-4 h-4"})})}),u&&(0,kg.jsx)("button",{onClick:()=>h(!1),className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg","aria-label":"Close menu",children:(0,kg.jsx)(qg,{className:"w-5 h-5"})})]}),(0,kg.jsx)("nav",{ref:t,className:"flex-grow overflow-y-auto p-4 hide-scrollbar",children:(0,kg.jsx)(Fg,{activeTab:i,setActiveTab:s,t:o,isCollapsed:l&&!u})}),(0,kg.jsxs)("div",{className:"p-4 border-t dark:border-gray-700 flex-shrink-0",children:[(0,kg.jsxs)("div",{className:"".concat(l&&!u?"hidden":"block"),children:[(0,kg.jsxs)("div",{className:"max-h-[720px]:hidden",children:[(0,kg.jsxs)("div",{className:"flex flex-col items-center text-center space-y-2",children:[(0,kg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o("hello"),","]}),(0,kg.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,kg.jsx)("span",{className:"text-white text-lg font-medium",children:n.displayName?n.displayName.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()})}),(0,kg.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200 truncate w-full text-sm",children:n.displayName||n.email}),(0,kg.jsxs)("button",{onClick:f,className:"text-xs text-blue-500 hover:underline",children:["(",o("view_info"),")"]})]}),(0,kg.jsxs)("div",{className:"mt-3 space-y-1 pl-4",children:[(0,kg.jsxs)("button",{onClick:r,className:"w-full flex items-center space-x-3 py-1.5 px-4 rounded-lg font-medium text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700/50",children:[(0,kg.jsx)(Rg,{className:"w-4 h-4"}),(0,kg.jsx)("span",{children:o("logout")})]}),(0,kg.jsxs)("button",{onClick:a,className:"w-full flex items-center space-x-3 py-1.5 px-4 rounded-lg font-medium text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700/50",children:[(0,kg.jsx)(zg,{className:"w-4 h-4"}),(0,kg.jsx)("span",{children:o("settings")})]})]})]}),(0,kg.jsx)("div",{className:"hidden max-h-[720px]:block",children:(0,kg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kg.jsxs)("button",{onClick:f,className:"p-2 flex items-center space-x-2",children:[(0,kg.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,kg.jsx)("span",{className:"text-white text-md font-medium",children:n.displayName?n.displayName.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()})}),(0,kg.jsx)("span",{className:"font-semibold text-sm text-gray-800 dark:text-gray-200",children:n.displayName})]}),(0,kg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,kg.jsx)("button",{onClick:r,title:o("logout"),className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50",children:(0,kg.jsx)(Rg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:a,title:o("settings"),className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50",children:(0,kg.jsx)(zg,{className:"w-4 h-4"})})]})]})})]}),(0,kg.jsx)("div",{className:"".concat(!l||u?"hidden":"block"),children:(0,kg.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,kg.jsx)("div",{className:"w-full flex justify-center",children:(0,kg.jsx)("button",{onClick:f,className:"p-2",children:(0,kg.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,kg.jsx)("span",{className:"text-white text-md font-medium",children:n.displayName?n.displayName.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()})})})}),(0,kg.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,kg.jsx)("button",{onClick:r,title:o("logout"),className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700/50",children:(0,kg.jsx)(Rg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:a,title:o("settings"),className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700/50",children:(0,kg.jsx)(zg,{className:"w-4 h-4"})})]})]})}),(0,kg.jsx)("div",{className:"text-center text-xs text-gray-500 mt-3",children:"\xa9 2025 Make by Nh\u1eadt Lu\xe2n"})]})]})},p="relative hidden lg:flex flex-col h-full bg-white dark:bg-gray-800 shadow-lg border-r dark:border-gray-700 transition-all duration-300 ease-in-out ".concat(l?"w-20":"w-52"),g="fixed inset-y-0 right-0 z-50 transform flex flex-col h-full bg-white dark:bg-gray-800 shadow-lg border-l dark:border-gray-700 transition-transform duration-300 ease-in-out w-64 ".concat(d?"translate-x-0":"translate-x-full");return(0,kg.jsxs)(kg.Fragment,{children:[u&&d&&(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>h(!1),"aria-hidden":"true"}),(0,kg.jsx)("div",{className:u?g:p,children:(0,kg.jsx)(m,{})})]})},Hg=e=>{let{type:t,onFinished:n,t:r}=e;const a={login:{title:r("login_success_title"),message:r("login_success_message")},register:{title:r("register_success_title"),message:r("register_success_message")}},i=a[t]||a.login;return(0,kg.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 space-y-6 text-center animate-fade-in-up",children:[(0,kg.jsx)("div",{className:"flex justify-center",children:(0,kg.jsxs)("div",{className:"relative",children:[(0,kg.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:(0,kg.jsx)(Pe,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),(0,kg.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-white dark:bg-gray-800 rounded-full p-1",children:(0,kg.jsx)(Dg,{className:"w-8 h-8 text-green-500"})})]})}),(0,kg.jsxs)("div",{className:"space-y-2",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:i.title}),(0,kg.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:i.message})]}),(0,kg.jsx)("button",{onClick:n,className:"mt-6 w-full py-2 px-4 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:r("register"===t?"register_back_to_login":"login_continue_button")}),(0,kg.jsx)("div",{className:"flex justify-center items-center pt-4",children:(0,kg.jsx)("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})})]})})},Kg=t=>{let{currentUser:n,onProfileSetupComplete:r,t:a}=t;const[i,s]=(0,e.useState)(n.displayName||""),[o,l]=(0,e.useState)(!1);return(0,kg.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 space-y-6 text-center animate-fade-in-up",children:[(0,kg.jsx)("div",{className:"flex justify-center",children:(0,kg.jsxs)("div",{className:"relative",children:[(0,kg.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:(0,kg.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:(0,kg.jsx)("span",{className:"text-white text-3xl font-medium",children:n.email.charAt(0).toUpperCase()})})}),(0,kg.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-white dark:bg-gray-800 rounded-full p-1",children:(0,kg.jsx)(Dg,{className:"w-8 h-8 text-green-500"})})]})}),(0,kg.jsxs)("div",{className:"space-y-2",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:a("complete_your_profile")}),(0,kg.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a("setup_profile_welcome")})]}),(0,kg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()){l(!0);try{await r(i)}catch(t){ke.error(a("profile_update_failed")),l(!1)}}else ke.error(a("please_enter_display_name"))},className:"space-y-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 text-left block",children:a("display_name")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(Sg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",placeholder:a("enter_your_name"),required:!0})]})]}),(0,kg.jsx)("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400",children:a(o?"saving":"save_and_continue")})]})]})})},Wg=e=>{let{title:t,subtitle:n}=e;return(0,kg.jsxs)("div",{className:"mb-6",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:t}),n&&(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:n})]})},Gg=e=>{let{t:t}=e;return(0,kg.jsxs)("div",{className:"space-y-6 animate-fade-in-up",children:[(0,kg.jsx)(Wg,{title:t("home_page_title"),subtitle:t("home_page_subtitle")}),(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,kg.jsx)("h3",{className:"text-base font-bold text-gray-900 dark:text-gray-100 mb-4",children:t("welcome_to_app")}),(0,kg.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("home_page_content")})]}),(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,kg.jsx)("h3",{className:"text-base font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Version 1.0.0 (13/09/2025)"}),(0,kg.jsxs)("ul",{className:"text-sm list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2",children:[(0,kg.jsx)("li",{children:"Ph\xe1t h\xe0nh phi\xean b\u1ea3n \u0111\u1ea7u ti\xean c\u1ee7a \u1ee9ng d\u1ee5ng Qu\u1ea3n l\xfd Kho IT."}),(0,kg.jsx)("li",{children:"C\xe1c t\xednh n\u0103ng c\u1ed1t l\xf5i bao g\u1ed3m quy tr\xecnh mua h\xe0ng, qu\u1ea3n l\xfd kho, c\u1ea5p ph\xe1t thi\u1ebft b\u1ecb v\xe0 b\xe1o c\xe1o."}),(0,kg.jsx)("li",{children:"H\u1ed7 tr\u1ee3 giao di\u1ec7n s\xe1ng/t\u1ed1i v\xe0 \u0111a ng\xf4n ng\u1eef (Ti\u1ebfng Vi\u1ec7t, English, \u4e2d\u6587)."})]})]})]})},Qg=Ae("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Xg=t=>{let{equipment:n,pendingPurchaseCount:r,purchasingCount:a,purchasedCount:i,masterListCount:s,reportsCount:o,setActiveTab:l,t:c}=t;const u=(0,e.useRef)(null),d=(0,e.useRef)(0),h=e=>{u.current&&(d.current=u.current.scrollLeft),l(e)};(0,e.useLayoutEffect)(()=>{u.current&&(u.current.scrollLeft=d.current)}),(0,e.useEffect)(()=>{const e=u.current;if(!e)return;const t=t=>{0!==t.deltaY&&(t.preventDefault(),e.scrollLeft+=t.deltaY)};return e.addEventListener("wheel",t),()=>{e.removeEventListener("wheel",t)}},[]);const f=n.filter(e=>["available","in-use","maintenance","liquidation","broken"].includes(e.status)).length,m=n.filter(e=>"available"===e.status).length,p=n.filter(e=>"in-use"===e.status).length,g=n.filter(e=>"maintenance"===e.status).length,y=n.filter(e=>"liquidation"===e.status).length,v=e=>{let{IconComponent:t,title:n,value:r,gradient:a,tabId:i,wide:s=!1}=e;return(0,kg.jsxs)("button",{onClick:()=>h(i),className:"rounded-lg p-4 text-white shadow-md ".concat(a," ").concat(s?"w-64":"w-48"," flex-shrink-0 text-left transition-transform transform hover:-translate-y-1 cursor-pointer flex items-center space-x-4"),children:[t&&(0,kg.jsx)(t,{className:"w-8 h-8 opacity-75 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs opacity-90 truncate",children:n}),(0,kg.jsx)("p",{className:"text-xl font-bold",children:r})]})]})},b=e=>{let{IconComponent:t,title1:n,value1:r,title2:a,value2:i,gradient:s,tabId:o}=e;return(0,kg.jsxs)("button",{onClick:()=>h(o),className:"rounded-lg shadow-md ".concat(s," w-64 flex-shrink-0 transition-transform transform hover:-translate-y-1 cursor-pointer overflow-hidden flex items-center p-4 space-x-4"),children:[t&&(0,kg.jsx)(t,{className:"w-8 h-8 opacity-75 flex-shrink-0"}),(0,kg.jsxs)("div",{className:"flex-grow flex items-center",children:[(0,kg.jsxs)("div",{className:"w-1/2 text-white text-left",children:[(0,kg.jsx)("p",{className:"text-xs opacity-90 truncate",children:n}),(0,kg.jsx)("p",{className:"text-xl font-bold",children:r})]}),(0,kg.jsx)("div",{className:"border-l-2 border-white/50 h-10 self-center mx-2"}),(0,kg.jsxs)("div",{className:"w-1/2 text-white text-left",children:[(0,kg.jsx)("p",{className:"text-xs opacity-90 truncate",children:a}),(0,kg.jsx)("p",{className:"text-xl font-bold",children:i})]})]})]})};return(0,kg.jsx)("div",{className:"overflow-hidden",children:(0,kg.jsxs)("div",{ref:u,className:"overflow-x-auto py-3 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 flex space-x-4 cursor-grab active:cursor-grabbing hide-scrollbar",children:[(0,kg.jsx)(v,{IconComponent:Ig,title:c("master_list"),value:s,gradient:"bg-gradient-to-r from-cyan-500 to-cyan-600",tabId:"masterList"}),(0,kg.jsx)(v,{IconComponent:Ag,title:c("pending_purchase_requests"),value:r,gradient:"bg-gradient-to-r from-gray-400 to-gray-500",tabId:"pendingPurchase"}),(0,kg.jsx)(v,{IconComponent:Qg,title:c("in_purchasing_process"),value:a,gradient:"bg-gradient-to-r from-purple-500 to-purple-600",tabId:"purchasing"}),(0,kg.jsx)(v,{IconComponent:Dg,title:c("purchased_waiting_import"),value:i,gradient:"bg-gradient-to-r from-teal-500 to-teal-600",tabId:"purchased"}),(0,kg.jsx)(b,{IconComponent:Pe,title1:c("total_inventory"),value1:f,title2:c("available"),value2:m,gradient:"bg-gradient-to-r from-blue-500 to-blue-600",tabId:"inventory"}),(0,kg.jsx)(v,{IconComponent:Rg,title:c("in_use"),value:p,gradient:"bg-gradient-to-r from-yellow-500 to-yellow-600",tabId:"allocated"}),(0,kg.jsx)(v,{IconComponent:Og,title:c("in_maintenance"),value:g,gradient:"bg-gradient-to-r from-orange-500 to-orange-600",tabId:"maintenance"}),(0,kg.jsx)(v,{IconComponent:Mg,title:c("pending_liquidation"),value:y,gradient:"bg-gradient-to-r from-slate-500 to-slate-600",tabId:"liquidation"}),(0,kg.jsx)(v,{IconComponent:Lg,title:c("reports"),value:o,gradient:"bg-gradient-to-r from-pink-500 to-pink-600",tabId:"reports"})]})})},Yg=Ae("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Jg=Ae("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),$g=Ae("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Zg=Ae("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),ey=Ae("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),ty=Ae("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ny=Ae("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ry=Ae("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ay=Ae("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),iy=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{key:"name",direction:"ascending"};const[r,a]=(0,e.useState)(n),i=(0,e.useMemo)(()=>{if(!t)return[];let e=[...t];return null!==r.key&&e.sort((e,t)=>{const n=(e,t)=>t.split(".").reduce((e,t)=>e?e[t]:void 0,e),a=n(e,r.key),i=n(t,r.key);if(null===a||void 0===a)return 1;if(null===i||void 0===i)return-1;const s=isFinite(a)&&""!==a.toString().trim(),o=isFinite(i)&&""!==i.toString().trim();if(!s&&o)return-1;if(s&&!o)return 1;let l=0;return l=s&&o?parseFloat(a)-parseFloat(i):((e,t)=>new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare(e,t))(a.toString(),i.toString()),l*("ascending"===r.direction?1:-1)}),e},[t,r]);return{items:i,requestSort:e=>{let t="ascending";r.key===e&&"ascending"===r.direction&&(t="descending"),a({key:e,direction:t})},sortConfig:r}},sy=e=>{let{columns:t,requestSort:n,sortConfig:r,t:a}=e;return(0,kg.jsx)("tr",{children:t.map(e=>{return(0,kg.jsxs)("th",{scope:"col",className:"px-4 py-3.5 font-medium text-gray-500 dark:text-gray-300 uppercase whitespace-nowrap ".concat(e.className||"text-left"," ").concat(e.sortable?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 select-none":""),onClick:()=>e.sortable&&n(e.key),children:[a(e.label),e.sortable&&(t=e.key,r.key!==t?null:"ascending"===r.direction?(0,kg.jsx)(ry,{className:"w-4 h-4 ml-1 inline-block"}):(0,kg.jsx)(ay,{className:"w-4 h-4 ml-1 inline-block"}))]},e.key);var t})})},oy=t=>{let{equipment:n,unfilteredEquipment:r,categories:a,statusColors:i,statusLabels:s,filters:l,setFilters:c,onEditItem:u,onDeleteItem:d,onViewItem:h,onAllocateItem:f,onAddLegacyItem:m,t:p}=t;const[g,y]=(0,e.useState)(!1),[v,b]=(0,e.useState)(null),[_,x]=(0,e.useState)({}),w=(0,e.useCallback)(e=>{if(!e.condition)return"---";if("object"===typeof e.condition&&e.condition.key){const t=o({},e.condition.params);if(t.note&&"object"===typeof t.note){const e=t.note;t.note=e.isKey?p(e.value):e.value}return p(e.condition.key,t)}const t=p(String(e.condition));return e.isRecalled?p("recalled_prefix",{conditionText:t}):t},[p]),k=(0,e.useMemo)(()=>n.map(e=>o(o({},e),{},{conditionText:w(e)})),[n,w]),{items:N,requestSort:S,sortConfig:C}=iy(k,{key:"importDate",direction:"descending"}),E=(0,e.useMemo)(()=>[{key:"importDate",label:"import_date",sortable:!0,className:"min-w-[100px] w-1/8"},{key:"name",label:"device_name",sortable:!0,className:"min-w-[150px] w-1/8"},{key:"serialNumber",label:"serial_number_sn",sortable:!0,className:"min-w-[150px] w-1/8"},{key:"category",label:"category",sortable:!0,className:"min-w-[180px] w-1/8"},{key:"status",label:"status",sortable:!0,className:"text-center min-w-[150px] w-1/8"},{key:"allocationDetails.recipientName",label:"user_in_use",sortable:!0,className:"min-w-[200px]"},{key:"conditionText",label:"condition",sortable:!0,className:"min-w-[150px]"},{key:"price",label:"price",sortable:!0,className:"text-right min-w-[50px]"},{key:"purchaseQuantity",label:"purchase_quantity",sortable:!0,className:"text-center min-w-[50px]"},{key:"location",label:"location",sortable:!0,className:"min-w-[120px]"},{key:"actions",label:"actions",sortable:!1,className:"text-center min-w-[100px]"}],[p]),T=(0,e.useMemo)(()=>(Array.isArray(r)?r:[]).reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{}),[r]),j=(0,e.useMemo)(()=>[...new Set(r.map(e=>e.status))],[r]),I=e=>{const{name:t,value:n}=e.target;c(e=>o(o({},e),{},{[t]:n}))},A=e=>({available:"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-500/25","in-use":"bg-gradient-to-r from-blue-400 to-blue-500 text-white shadow-blue-500/25",maintenance:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-yellow-500/25",damaged:"bg-gradient-to-r from-red-400 to-red-500 text-white shadow-red-500/25"}[e]||"bg-gradient-to-r from-gray-400 to-gray-500 text-white"),P=async(e,t)=>{const n="".concat(e,"-").concat(t.id);x(e=>o(o({},e),{},{[n]:!0}));try{"allocate"===e?await f(t):"view"===e?await h(t):"edit"===e?await u(t):"delete"===e&&await d(t)}finally{setTimeout(()=>{x(e=>o(o({},e),{},{[n]:!1}))},300)}};return(0,kg.jsxs)("div",{className:"animate-fadeIn",children:[(0,kg.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n  @keyframes fadeIn {\n    from { opacity: 0; transform: translateY(10px); }\n    to { opacity: 1; transform: translateY(0); }\n  }\n  @keyframes pulse {\n    0%, 100% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n  }\n  @keyframes shimmer {\n    0% { background-position: -1000px 0; }\n    100% { background-position: 1000px 0; }\n  }\n  .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\n  .animate-pulse-slow { animation: pulse 2s ease-in-out infinite; }\n  .shimmer {\n    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);\n    background-size: 1000px 100%;\n    animation: shimmer 2s infinite;\n  }\n  .glass-effect {\n    backdrop-filter: blur(10px);\n    background: rgba(255, 255, 255, 0.7);\n  }\n  .dark .glass-effect {\n    background: rgba(31, 41, 55, 0.7);\n  }\n  .hover-lift {\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n  .hover-lift:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  }\n  .status-glow {\n    position: relative;\n    /* Th\xeam display: inline-flex \u0111\u1ec3 t\u1ea1o m\xf4i tr\u01b0\u1eddng \u0111\u1ecbnh v\u1ecb \u1ed5n \u0111\u1ecbnh */\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .status-glow::before {\n    content: '';\n    position: absolute;\n    /* B\u1ecf top, left, transform \u0111\u1ec3 tr\xe1nh l\u1ed7i t\xednh to\xe1n t\u1ecda \u0111\u1ed9 */\n    width: 105%;\n    height: 120%;\n    border-radius: 9999px;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n  .status-glow:hover::before {\n    opacity: 0.5;\n    animation: pulse 2s ease-in-out infinite;\n  }\n  .status-glow.available::before { background: #10b981; }\n  .status-glow.in-use::before { background: #3b82f6; }\n  .status-glow.maintenance::before { background: #f59e0b; }\n  .status-glow.damaged::before { background: #ef4444; }\n  .status-glow.liquidation::before { background: #9ca3af; }\n"}}),(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:p("inventory_list")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:p("inventory_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-blue-500 to-blue-600 mt-2 rounded-full"})]}),(0,kg.jsxs)("div",{className:"flex items-center gap-3 md:hidden",children:[(0,kg.jsxs)("button",{onClick:m,className:"relative overflow-hidden bg-gradient-to-r from-blue-500 to-purple-600 text-white p-2.5 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center group",title:p("import_unlisted_device"),children:[(0,kg.jsx)("span",{className:"absolute inset-0 shimmer"}),(0,kg.jsx)(Yg,{className:"w-5 h-5 relative z-10 group-hover:rotate-90 transition-transform duration-300"})]}),(0,kg.jsx)("button",{onClick:()=>y(!g),className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-xl text-gray-600 dark:text-gray-300 hover:shadow-md transition-all duration-200",children:g?(0,kg.jsx)(qg,{className:"w-5 h-5"}):(0,kg.jsx)(Ug,{className:"w-5 h-5"})})]})]}),(0,kg.jsxs)("div",{className:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4 items-end ".concat(g?"grid":"hidden md:grid"),children:[(0,kg.jsxs)("div",{className:"sm:col-span-2 lg:col-span-4 xl:col-span-2",children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:p("search")}),(0,kg.jsxs)("div",{className:"relative group",children:[(0,kg.jsx)(Jg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors"}),(0,kg.jsx)("input",{name:"search",type:"text",placeholder:p("search_inventory_placeholder"),className:"w-full pl-10 pr-4 py-2.5 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500",value:l.search,onChange:I})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:p("category")}),(0,kg.jsx)("select",{name:"category",className:"w-full py-2.5 px-3 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 cursor-pointer",value:l.category,onChange:I,children:a.map(e=>(0,kg.jsx)("option",{value:e.id,children:"".concat(e.name," (").concat("all"===e.id?r.length:T[e.id]||0,")")},e.id))})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:p("status")}),(0,kg.jsxs)("select",{name:"status",className:"w-full py-2.5 px-3 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 cursor-pointer",value:l.status,onChange:I,children:[(0,kg.jsx)("option",{value:"all",children:p("all")}),j.map(e=>(0,kg.jsx)("option",{value:e,children:s[e]||e},e))]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:p("import_date")}),(0,kg.jsx)("input",{name:"importDate",type:"date",className:"w-full py-2.5 px-3 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 cursor-pointer",value:l.importDate,onChange:I})]}),(0,kg.jsxs)("div",{className:"hidden md:block",children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-2 opacity-0",children:"."}),(0,kg.jsxs)("button",{onClick:m,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white p-3 rounded-xl hover:shadow-lg transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center space-x-2 text-xs font-semibold",children:[(0,kg.jsx)($g,{className:"w-6 h-6"}),(0,kg.jsx)("span",{children:p("import_unlisted_device")})]})]})]})]}),(0,kg.jsx)("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"text-left w-full text-xs",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsx)(sy,{columns:E,requestSort:S,sortConfig:C,t:p})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:N&&N.length>0?N.map((e,t)=>{var n,r,i,o;return(0,kg.jsxs)("tr",{className:"text-left transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 dark:hover:from-gray-700/30 dark:hover:to-gray-700/50 ".concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),onMouseEnter:()=>b(e.id),onMouseLeave:()=>b(null),children:[(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kg.jsx)(Cg,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:(o=e.importDate,o?new Date(o).toLocaleString(p("locale_string"),{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A")})]})}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsx)("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name})}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kg.jsx)(Zg,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsx)("span",{className:"font-mono text-gray-600 dark:text-gray-400",children:e.serialNumber||"N/A"})]})}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,kg.jsx)(ey,{className:"w-3.5 h-3.5 text-gray-500"}),(0,kg.jsx)("span",{className:"capitalize text-gray-700 dark:text-gray-300",children:(a.find(t=>t.id===e.category)||{}).name||e.category})]})}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsx)("div",{className:"relative inline-block status-glow ".concat(e.status),children:(0,kg.jsx)("span",{className:"relative z-10 inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold shadow-lg ".concat(A(e.status)),children:s[e.status]||e.status})})}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:"in-use"===e.status?(0,kg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kg.jsx)("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-bold shadow-md",children:((null===(n=e.allocationDetails)||void 0===n?void 0:n.recipientName)||"").charAt(0).toUpperCase()}),(0,kg.jsx)("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:(null===(r=e.allocationDetails)||void 0===r?void 0:r.recipientName)||""})]}):(0,kg.jsx)("span",{className:"text-gray-400 italic",children:p("user_not_use")})}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:w(e)})}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-right",children:(0,kg.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,kg.jsx)("span",{className:"font-mono font-semibold text-gray-700 dark:text-gray-300",children:(i=e.price,"number"!==typeof i?"N/A":new Intl.NumberFormat(p("locale_string"),{style:"currency",currency:"VND"}).format(i))})})}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsx)("span",{className:"font-bold text-sm text-gray-700 dark:text-gray-300",children:e.purchaseQuantity||1})}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kg.jsx)(ty,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:p(e.location)||p("in_stock")})]})}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsxs)("div",{className:"flex items-center justify-center gap-1 transition-all duration-300 ".concat(v===e.id?"opacity-100 scale-100":"opacity-70 scale-95"),children:[(0,kg.jsxs)("button",{onClick:()=>P("allocate",e),className:"group relative p-1.5 text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 hover:scale-110 ".concat(_["allocate-".concat(e.id)]?"animate-pulse":""),title:p("allocate_device"),disabled:"available"!==e.status||_["allocate-".concat(e.id)],children:[(0,kg.jsx)(Rg,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),(0,kg.jsx)("span",{className:"absolute inset-0 rounded-lg bg-blue-400 opacity-0 group-hover:opacity-20 transition-opacity"})]}),(0,kg.jsxs)("button",{onClick:()=>P("view",e),className:"group relative p-1.5 text-emerald-500 hover:bg-emerald-100 dark:hover:bg-emerald-900/30 rounded-lg transition-all duration-200 hover:scale-110 ".concat(_["view-".concat(e.id)]?"animate-pulse":""),title:p("view"),disabled:_["view-".concat(e.id)],children:[(0,kg.jsx)(wg,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),(0,kg.jsx)("span",{className:"absolute inset-0 rounded-lg bg-emerald-400 opacity-0 group-hover:opacity-20 transition-opacity"})]}),(0,kg.jsxs)("button",{onClick:()=>P("edit",e),className:"group relative p-1.5 text-amber-500 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg transition-all duration-200 hover:scale-110 ".concat(_["edit-".concat(e.id)]?"animate-pulse":""),title:p("edit"),disabled:_["edit-".concat(e.id)],children:[(0,kg.jsx)(ny,{className:"w-4 h-4 group-hover:rotate-6 transition-transform"}),(0,kg.jsx)("span",{className:"absolute inset-0 rounded-lg bg-amber-400 opacity-0 group-hover:opacity-20 transition-opacity"})]}),(0,kg.jsxs)("button",{onClick:()=>P("delete",e),className:"group relative p-1.5 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-all duration-200 hover:scale-110 ".concat(_["delete-".concat(e.id)]?"animate-pulse":""),title:p("delete"),disabled:_["delete-".concat(e.id)],children:[(0,kg.jsx)(Mg,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),(0,kg.jsx)("span",{className:"absolute inset-0 rounded-lg bg-red-400 opacity-0 group-hover:opacity-20 transition-opacity"})]})]})})]},e.id)}):(0,kg.jsx)("tr",{children:(0,kg.jsx)("td",{colSpan:E.length,className:"text-center py-16",children:(0,kg.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,kg.jsx)(Pe,{className:"w-12 h-12 text-gray-300"}),(0,kg.jsx)("p",{className:"text-gray-500 text-sm",children:p("no_devices_match_search")})]})})})})]})})}),(0,kg.jsx)("div",{className:"md:hidden space-y-4",children:N&&N.length>0?N.map(e=>{var t,n;return(0,kg.jsx)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 hover:shadow-xl transition-all duration-300",children:(0,kg.jsxs)("div",{className:"flex gap-3",children:[(0,kg.jsxs)("div",{className:"flex-grow space-y-3",children:[(0,kg.jsxs)("div",{className:"flex items-start justify-between",children:[(0,kg.jsxs)("div",{className:"flex-grow",children:[(0,kg.jsx)("h3",{className:"font-bold text-sm text-gray-900 dark:text-gray-100 mb-1",children:e.name}),(0,kg.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,kg.jsx)(Zg,{className:"w-3 h-3"}),(0,kg.jsx)("span",{className:"font-mono",children:e.serialNumber||"N/A"})]})]}),(0,kg.jsx)("div",{className:"relative inline-block status-glow ".concat(e.status),children:(0,kg.jsx)("span",{className:"relative z-10 px-2.5 py-1 rounded-full text-xs font-semibold shadow ".concat(A(e.status)),children:s[e.status]||e.status})})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,kg.jsxs)("div",{className:"space-y-2",children:[(0,kg.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,kg.jsx)(ey,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[p("category"),":"]}),(0,kg.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:(a.find(t=>t.id===e.category)||{}).name||e.category})]}),(0,kg.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,kg.jsx)(ty,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[p("location"),":"]}),(0,kg.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:p(e.location)||p("in_stock")})]})]}),(0,kg.jsxs)("div",{className:"space-y-2",children:[(0,kg.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,kg.jsx)(Pe,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[p("purchase_quantity"),":"]}),(0,kg.jsx)("span",{className:"font-bold text-gray-800 dark:text-gray-200",children:e.purchaseQuantity||1})]}),(0,kg.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,kg.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[p("condition"),":"]}),(0,kg.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:w(e)})]})]})]}),"in-use"===e.status?(0,kg.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,kg.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-bold",children:((null===(t=e.allocationDetails)||void 0===t?void 0:t.recipientName)||"").charAt(0).toUpperCase()}),(0,kg.jsx)("span",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300",children:(null===(n=e.allocationDetails)||void 0===n?void 0:n.recipientName)||""})]}):(0,kg.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,kg.jsx)(Sg,{className:"w-4 h-4 text-gray-400"}),(0,kg.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:p("user_not_use")})]})]}),(0,kg.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,kg.jsx)("button",{onClick:()=>f(e),disabled:"available"!==e.status,className:"p-2 rounded-xl disabled:opacity-40 disabled:cursor-not-allowed text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-all duration-200",children:(0,kg.jsx)(Rg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>h(e),className:"p-2 rounded-xl text-emerald-500 hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-all duration-200",children:(0,kg.jsx)(wg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>u(e),className:"p-2 rounded-xl text-amber-500 hover:bg-amber-100 dark:hover:bg-amber-900/30 transition-all duration-200",children:(0,kg.jsx)(ny,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>d(e),className:"p-2 rounded-xl text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 transition-all duration-200",children:(0,kg.jsx)(Mg,{className:"w-4 h-4"})})]})]})},e.id)}):(0,kg.jsxs)("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[(0,kg.jsx)(Pe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,kg.jsx)("p",{className:"text-gray-500",children:p("no_devices_match_search")})]})})]})},ly=Ae("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),cy=Ae("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),uy=Ae("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),dy=Ae("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]),hy=Ae("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var fy=n(378);const my=t=>{let{transactions:n,t:r}=t;const[a,i]=(0,e.useState)(""),[s,o]=(0,e.useState)("all"),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),[h,f]=(0,e.useState)(!1),m=(0,e.useMemo)(()=>({"procurement-request":{text:r("procurement-request"),icon:Ag,color:"text-blue-500"},"procurement-purchasing":{text:r("procurement-purchasing"),icon:Qg,color:"text-yellow-500"},"procurement-purchased":{text:r("procurement-purchased"),icon:Dg,color:"text-green-500"},"procurement-deleted":{text:r("procurement-deleted"),icon:Mg,color:"text-red-500"},"procurement-reverted":{text:r("procurement-reverted"),icon:ly,color:"text-orange-500"},"procurement-cancelled":{text:r("procurement-cancelled"),icon:cy,color:"text-red-500"},"import-purchase":{text:r("import-purchase"),icon:uy,color:"text-green-600"},"import-recall":{text:r("import-recall"),icon:uy,color:"text-green-600"},"import-legacy":{text:r("import-legacy"),icon:uy,color:"text-teal-600"},"export-allocate":{text:r("export-allocate"),icon:dy,color:"text-red-600"},"inventory-update":{text:r("inventory-update"),icon:ny,color:"text-gray-500"},"inventory-delete":{text:r("inventory-delete"),icon:Mg,color:"text-red-500"},"inventory-update-note":{text:r("inventory-update-note"),icon:ny,color:"text-indigo-500"},"inventory-repair-complete":{text:r("inventory-repair-complete"),icon:Dg,color:"text-green-500"},"inventory-unrepairable":{text:r("inventory-unrepairable"),icon:cy,color:"text-red-500"},"inventory-liquidated":{text:r("inventory-liquidated"),icon:Mg,color:"text-red-700"}}),[r]),p=e=>{var t,n;return"allocate"===e.reason&&e.details?"".concat(r("recipient"),": ").concat(e.details.recipientName):null!==(t=e.details)&&void 0!==t&&t.note?"".concat(r("note"),": ").concat(e.details.note):null!==(n=e.details)&&void 0!==n&&n.returnCondition?"".concat(r("condition"),": ").concat(r(e.details.returnCondition)):""},g=(0,e.useMemo)(()=>n.filter(e=>{var t;const n="".concat(e.type,"-").concat(e.reason),r=(null===(t=e.itemName)||void 0===t?void 0:t.toLowerCase())||"",i=JSON.stringify(e.details||{}).toLowerCase();if(a&&!r.includes(a.toLowerCase())&&!i.includes(a.toLowerCase()))return!1;if("all"!==s&&n!==s)return!1;const o=new Date(e.timestamp);if(l&&o<new Date(l))return!1;if(u){const e=new Date(u);if(e.setHours(23,59,59,999),o>e)return!1}return!0}),[n,a,s,l,u]),{items:y,requestSort:v,sortConfig:b}=iy(g,{key:"timestamp",direction:"descending"}),_=[{key:"timestamp",label:"timestamp",sortable:!0},{key:"reason",label:"action",sortable:!0},{key:"itemName",label:"object",sortable:!0},{key:"quantity",label:"quantity",sortable:!0,className:"text-right"},{key:"user",label:"performed_by",sortable:!0},{key:"details",label:"details",sortable:!1}],x=(0,e.useMemo)(()=>[{label:r("timestamp"),key:"timestamp"},{label:r("action"),key:"action"},{label:r("object"),key:"object"},{label:r("quantity"),key:"quantity"},{label:r("performed_by"),key:"performedBy"},{label:r("details"),key:"details"}],[r]),w=(0,e.useMemo)(()=>y.map(e=>{const t=m["".concat(e.type,"-").concat(e.reason)]||{};return{timestamp:new Date(e.timestamp).toLocaleString(r("locale_string")),action:t.text||"".concat(e.type,"-").concat(e.reason),object:e.itemName,quantity:e.quantity||"",performedBy:e.user,details:p(e)}}),[y,m,r]);return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("h2",{className:"text-lg font-bold",children:r("activity_log_history")}),(0,kg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:r("activity_log_desc")})]}),(0,kg.jsx)("div",{className:"md:hidden",children:(0,kg.jsx)("button",{onClick:()=>f(!h),className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",children:h?(0,kg.jsx)(qg,{className:"w-4 h-4"}):(0,kg.jsx)(Ug,{className:"w-4 h-4"})})})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end ".concat(h?"grid":"hidden md:grid"),children:[(0,kg.jsxs)("div",{className:"lg:col-span-2",children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-1",children:r("search")}),(0,kg.jsxs)("div",{className:"relative",children:[(0,kg.jsx)(Jg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,kg.jsx)("input",{type:"text",placeholder:r("search"),className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400 text-sm",value:a,onChange:e=>i(e.target.value)})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-1",children:r("action_type")}),(0,kg.jsxs)("select",{className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 text-sm",value:s,onChange:e=>o(e.target.value),children:[(0,kg.jsx)("option",{value:"all",children:r("all")}),Object.entries(m).map(e=>{let[t,n]=e;return(0,kg.jsx)("option",{value:t,children:n.text},t)})]})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-1",children:r("from_date")}),(0,kg.jsx)("input",{type:"date",className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 text-sm",value:l,onChange:e=>c(e.target.value)})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-1",children:r("to_date")}),(0,kg.jsx)("input",{type:"date",className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 text-sm",value:u,onChange:e=>d(e.target.value)})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-1 opacity-0 hidden md:block",children:"."}),(0,kg.jsxs)(fy.CSVLink,{data:w,headers:x,filename:"IT_Inventory_Log_".concat((new Date).toISOString().slice(0,10),".csv"),className:"w-full text-center block px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[(0,kg.jsx)("span",{className:"hidden md:inline",children:r("Xu\u1ea5t file Log")}),(0,kg.jsx)(hy,{className:"w-4 h-4 md:hidden mx-auto"})]})]})]})]}),(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[(0,kg.jsx)("div",{className:"overflow-x-auto hidden md:block",children:(0,kg.jsxs)("table",{className:"w-full text-xs",children:[(0,kg.jsx)(sy,{columns:_,requestSort:v,sortConfig:b,t:r}),(0,kg.jsx)("tbody",{className:"divide-y dark:divide-gray-700",children:y.length>0?y.map(e=>{const t=m["".concat(e.type,"-").concat(e.reason)]||{text:"".concat(e.type," - ").concat(e.reason),icon:ny,color:"text-gray-500"},n=t.icon;return(0,kg.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,kg.jsx)("td",{className:"px-3 py-4 whitespace-nowrap",children:new Date(e.timestamp).toLocaleString(r("locale_string"))}),(0,kg.jsx)("td",{className:"px-3 py-4",children:(0,kg.jsxs)("div",{className:"inline-flex items-center gap-2 font-semibold ".concat(t.color),children:[(0,kg.jsx)(n,{className:"w-4 h-4"}),(0,kg.jsx)("span",{children:t.text})]})}),(0,kg.jsx)("td",{className:"px-3 py-4 font-medium",children:e.itemName}),(0,kg.jsx)("td",{className:"px-3 py-4 text-right font-bold",children:e.quantity||"-"}),(0,kg.jsx)("td",{className:"px-3 py-4",children:e.user}),(0,kg.jsx)("td",{className:"px-3 py-4",children:p(e)})]},e.id)}):(0,kg.jsx)("tr",{children:(0,kg.jsx)("td",{colSpan:_.length,className:"text-center py-12 text-sm",children:r("no_data_available")})})})]})}),(0,kg.jsx)("div",{className:"md:hidden p-4 space-y-4",children:y.length>0?y.map(e=>{const t=m["".concat(e.type,"-").concat(e.reason)]||{text:"".concat(e.type," - ").concat(e.reason),icon:ny,color:"text-gray-500"},n=t.icon;return(0,kg.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 space-y-2 shadow",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,kg.jsxs)("div",{className:"flex items-center gap-2 font-semibold ".concat(t.color," text-sm"),children:[(0,kg.jsx)(n,{className:"w-4 h-4 flex-shrink-0"}),(0,kg.jsx)("span",{children:t.text})]}),(0,kg.jsx)("span",{className:"text-right text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(e.timestamp).toLocaleString(r("locale_string"))})]}),(0,kg.jsxs)("div",{className:"text-xs text-gray-700 dark:text-gray-300 border-t dark:border-gray-600 pt-2",children:[(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[r("object"),":"]})," ",e.itemName," ",e.quantity?"(SL: ".concat(e.quantity,")"):""]}),(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[r("performed_by"),":"]})," ",e.user]}),p(e)&&(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[r("details"),":"]})," ",p(e)]})]})]},e.id)}):(0,kg.jsx)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 text-sm",children:r("no_data_available")})})]})]})},py=Ae("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),gy=Ae("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),yy=Ae("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),vy=Ae("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),by=Ae("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),_y=Ae("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),xy=t=>{let{onBackupData:n,onResetData:r,onImportData:a,t:i}=t;const{theme:s,setTheme:o,language:l,setLanguage:c}=(0,e.useContext)(mg),u=e.useRef(null);return(0,kg.jsxs)("div",{className:"space-y-8 max-w-4xl mx-auto",children:[(0,kg.jsx)(Wg,{title:i("system_settings")}),(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,kg.jsxs)("h3",{className:"text-base font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,kg.jsx)(zg,{className:"w-4 h-4 mr-2"})," ",i("interface")]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("theme")}),(0,kg.jsxs)("div",{className:"flex space-x-2 rounded-lg bg-gray-100 dark:bg-gray-700 p-1",children:[(0,kg.jsxs)("button",{onClick:()=>o("light"),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md text-xs ".concat("light"===s?"bg-white dark:bg-gray-500 shadow":"hover:bg-white/50 dark:hover:bg-gray-600"),children:[(0,kg.jsx)(py,{className:"w-3.5 h-3.5"})," ",i("light_mode")]}),(0,kg.jsxs)("button",{onClick:()=>o("dark"),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md text-xs ".concat("dark"===s?"bg-white dark:bg-gray-800 shadow":"hover:bg-white/50 dark:hover:bg-gray-600"),children:[(0,kg.jsx)(gy,{className:"w-3.5 h-3.5"})," ",i("dark_mode")]}),(0,kg.jsxs)("button",{onClick:()=>o("system"),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md text-xs ".concat("system"===s?"bg-white dark:bg-gray-500 shadow":"hover:bg-white/50 dark:hover:bg-gray-600"),children:[(0,kg.jsx)(yy,{className:"w-3.5 h-3.5"})," ",i("auto_mode")]})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("language")}),(0,kg.jsxs)("div",{className:"relative",children:[(0,kg.jsx)(vy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,kg.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[(0,kg.jsx)("option",{value:"vi",children:i("lang_vi")}),(0,kg.jsx)("option",{value:"en",children:i("lang_en")}),(0,kg.jsx)("option",{value:"zh",children:i("lang_zh")})]})]})]})]})]}),(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,kg.jsxs)("h3",{className:"text-base font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,kg.jsx)(by,{className:"w-4 h-4 mr-2"})," ",i("data_management")]}),(0,kg.jsxs)("div",{className:"space-y-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i("import_data")}),(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:i("confirm_override_data")}),(0,kg.jsxs)("button",{onClick:()=>{u.current.click()},className:"flex items-center gap-2 px-4 py-2 text-xs font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[(0,kg.jsx)(_y,{className:"w-3.5 h-3.5"})," ",i("import_button_text")]}),(0,kg.jsx)("input",{type:"file",ref:u,onChange:a,className:"hidden",accept:".json"})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i("backup_data")}),(0,kg.jsxs)("button",{onClick:n,className:"mt-2 flex items-center gap-2 px-4 py-2 text-xs font-medium text-white bg-green-600 rounded-lg hover:bg-green-700",children:[(0,kg.jsx)(hy,{className:"w-3.5 h-3.5"})," ",i("backup_button_text")]})]}),(0,kg.jsxs)("div",{className:"border-t dark:border-gray-700 pt-4",children:[(0,kg.jsx)("p",{className:"font-medium text-red-600 dark:text-red-400",children:i("reset_data")}),(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:i("reset_data_warning")}),(0,kg.jsxs)("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-xs font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:[(0,kg.jsx)(Mg,{className:"w-3.5 h-3.5"})," ",i("reset_button_text")]})]})]})]})]})},wy=e=>{let{items:t,onUpdateStatus:n,onCancel:r,categories:a,t:i}=e;const s=e=>"number"!==typeof e?"0":new Intl.NumberFormat(i("locale_string")).format(e);return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-500 via-purple-600 to-pink-500 bg-clip-text text-transparent",children:i("purchasing_list")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:i("purchasing_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-purple-500 to-pink-500 mt-2 rounded-full"})]}),(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"w-full text-xs",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsxs)("tr",{children:[(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:i("device_name")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:i("category")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-right font-medium uppercase",children:i("purchase_quantity")}),(0,kg.jsxs)("th",{className:"px-4 py-3.5 text-right font-medium uppercase",children:[i("price")," (VN\u0110)"]}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-center font-medium uppercase",children:i("actions")})]})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:t&&t.length>0?t.map((e,t)=>(0,kg.jsxs)("tr",{className:"transition-colors duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 ".concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),children:[(0,kg.jsx)("td",{className:"px-4 py-3.5 font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,kg.jsx)("td",{className:"px-4 py-3.5 capitalize text-gray-600 dark:text-gray-300",children:(a.find(t=>t.id===e.category)||{}).name||e.category}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-right font-semibold text-gray-800 dark:text-gray-200",children:e.purchaseQuantity}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-right font-mono text-gray-600 dark:text-gray-300",children:s(e.price)}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,kg.jsx)("button",{onClick:()=>n([e.id]),className:"p-2 rounded-lg text-green-500 hover:bg-green-100 dark:hover:bg-green-900/30",title:i("confirm_purchased_count",{count:1}),children:(0,kg.jsx)(Dg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>r("revert-purchasing",e),className:"p-2 rounded-lg text-yellow-500 hover:bg-yellow-100 dark:hover:bg-yellow-900/30",title:i("revert_to_pending"),children:(0,kg.jsx)(ly,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>r("cancel-purchasing",e),className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",title:i("cancel_purchase"),children:(0,kg.jsx)(cy,{className:"w-4 h-4"})})]})})]},e.id)):(0,kg.jsx)("tr",{children:(0,kg.jsx)("td",{colSpan:"5",className:"text-center py-16",children:(0,kg.jsx)("p",{className:"text-gray-500 text-sm",children:i("no_data_available")})})})})]})})}),(0,kg.jsx)("div",{className:"md:hidden space-y-4",children:t&&t.length>0?t.map(e=>(0,kg.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 space-y-3",children:[(0,kg.jsxs)("div",{className:"flex items-start justify-between",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm",children:e.name}),(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:(a.find(t=>t.id===e.category)||{}).name||e.category})]}),(0,kg.jsxs)("div",{className:"flex items-center space-x-1 -mt-2 -mr-2",children:[(0,kg.jsx)("button",{onClick:()=>n([e.id]),className:"p-2 rounded-xl text-green-500 hover:bg-green-100 dark:hover:bg-green-900/30",title:i("confirm_purchased_count",{count:1}),children:(0,kg.jsx)(Dg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>r("revert-purchasing",e),className:"p-2 rounded-xl text-yellow-500 hover:bg-yellow-100 dark:hover:bg-yellow-900/30",title:i("revert_to_pending"),children:(0,kg.jsx)(ly,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>r("cancel-purchasing",e),className:"p-2 rounded-xl text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",title:i("cancel_purchase"),children:(0,kg.jsx)(cy,{className:"w-4 h-4"})})]})]}),(0,kg.jsxs)("div",{className:"flex justify-between text-xs text-gray-700 dark:text-gray-300 pt-3 border-t dark:border-gray-700",children:[(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[i("purchase_quantity"),":"]})," ",(0,kg.jsx)("span",{className:"font-semibold",children:e.purchaseQuantity})]}),(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[i("price"),":"]})," ",(0,kg.jsxs)("span",{className:"font-semibold",children:[s(e.price)," VN\u0110"]})]})]})]},e.id)):(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow text-center py-16 text-gray-500 dark:text-gray-400",children:(0,kg.jsx)("p",{className:"text-sm",children:i("no_data_available")})})})]})},ky=Ae("arrow-down-to-line",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),Ny=t=>{let{items:n,onImportItem:r,categories:a,t:i,fullInventory:s}=t;const[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)({}),h=e=>"number"!==typeof e?"0":new Intl.NumberFormat(i("locale_string")).format(e),f=(e,t)=>{d(n=>o(o({},n),{},{[e]:t}))},m=e=>{const t=u[e.id]||"";if(!t.trim())return void ke.error(i("toast_sn_is_required"));const n=t.split(",").map(e=>e.trim()).filter(Boolean);if(n.length!==e.purchaseQuantity)return void ke.error(i("toast_sn_quantity_mismatch",{snCount:n.length,purchaseCount:e.purchaseQuantity}));const a=new Set(n.map(e=>e.toLowerCase()));if(a.size!==n.length)return void ke.error(i("toast_duplicate_sn_error"));const o=n.map(e=>e.toLowerCase()),l=s.find(e=>e.serialNumber&&o.includes(e.serialNumber.toLowerCase()));l?ke.error(i("toast_sn_already_exists_in_inventory",{sn:l.serialNumber})):(c(t=>[...t,e.id]),setTimeout(()=>{r(e,n)},600))};return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-teal-500 via-emerald-500 to-green-500 bg-clip-text text-transparent",children:i("purchased_list")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:i("purchased_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-teal-500 to-green-500 mt-2 rounded-full"})]}),(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"w-full text-xs",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsxs)("tr",{children:[(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:i("device_name")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:i("category")}),(0,kg.jsxs)("th",{className:"px-4 py-3.5 text-right font-medium uppercase",children:[i("price")," (VN\u0110)"]}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-center font-medium uppercase",children:i("quantity")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase w-2/5",children:i("serial_number_sn")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-center font-medium uppercase",children:i("actions")})]})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:n&&n.length>0?n.map((e,t)=>{const n=l.includes(e.id);return(0,kg.jsxs)("tr",{className:"transition-opacity duration-500 hover:bg-gray-50 dark:hover:bg-gray-700/50 ".concat(n?"opacity-0":"opacity-100"," ").concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),children:[(0,kg.jsx)("td",{className:"px-4 py-3.5 font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,kg.jsx)("td",{className:"px-4 py-3.5 capitalize text-gray-600 dark:text-gray-300",children:(a.find(t=>t.id===e.category)||{}).name||e.category}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-right font-mono text-gray-600 dark:text-gray-300",children:h(e.price)}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center font-semibold text-gray-800 dark:text-gray-200",children:e.purchaseQuantity}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsx)("input",{type:"text",value:u[e.id]||"",onChange:t=>f(e.id,t.target.value),placeholder:i("add_multiple_sn_placeholder"),className:"w-full text-xs p-2 border-2 rounded-xl dark:bg-gray-700 dark:border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsx)("button",{onClick:()=>m(e),disabled:n,title:i("import_to_inventory"),className:"p-2.5 rounded-xl transition-all duration-300 ".concat(n?"bg-green-500 text-white scale-110":"bg-blue-100 text-blue-600 hover:bg-blue-200"),children:n?(0,kg.jsx)(Dg,{className:"w-5 h-5 animate-pulse"}):(0,kg.jsx)(ky,{className:"w-5 h-5"})})})]},e.id)}):(0,kg.jsx)("tr",{children:(0,kg.jsx)("td",{colSpan:"6",className:"text-center py-16",children:(0,kg.jsx)("p",{className:"text-sm text-gray-500",children:i("no_data_available")})})})})]})})}),(0,kg.jsx)("div",{className:"md:hidden p-4 space-y-4",children:n&&n.length>0?n.map(e=>{const t=l.includes(e.id);return(0,kg.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 space-y-3 transition-all duration-500 ".concat(t?"opacity-0 scale-95":"opacity-100 scale-100"),children:[(0,kg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm",children:e.name}),(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:(a.find(t=>t.id===e.category)||{}).name||e.category})]}),(0,kg.jsx)("button",{onClick:()=>m(e),disabled:t,title:i("import_to_inventory"),className:"p-2.5 rounded-xl transition-all duration-300 -mt-2 -mr-2 ".concat(t?"bg-green-500 text-white":"bg-blue-100 text-blue-600"),children:t?(0,kg.jsx)(Dg,{className:"w-5 h-5 animate-pulse"}):(0,kg.jsx)(ky,{className:"w-5 h-5"})})]}),(0,kg.jsxs)("div",{className:"text-xs text-gray-700 dark:text-gray-300 grid grid-cols-2 gap-x-4 pt-3 border-t dark:border-gray-700",children:[(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[i("quantity"),":"]})," ",(0,kg.jsx)("span",{className:"font-semibold",children:e.purchaseQuantity})]}),(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[i("price"),":"]})," ",(0,kg.jsxs)("span",{className:"font-semibold",children:[h(e.price)," VN\u0110"]})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("serial_number_sn")}),(0,kg.jsx)("textarea",{value:u[e.id]||"",onChange:t=>f(e.id,t.target.value),placeholder:i("add_multiple_sn_placeholder"),className:"w-full text-xs p-2 border-2 rounded-xl dark:bg-gray-700 dark:border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",rows:"2"})]})]},e.id)}):(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow text-center py-16 text-gray-500 dark:text-gray-400",children:(0,kg.jsx)("p",{className:"text-sm",children:i("no_data_available")})})})]})},Sy=Ae("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Cy=t=>{let{items:n,unfilteredAllocatedItems:r,onRecallItem:a,onMarkDamaged:i,categories:s,filters:l,setFilters:c,t:u}=t;const[d,h]=(0,e.useState)(!1),f=(0,e.useMemo)(()=>[{key:"name",label:"device_name",sortable:!0,className:"min-w-[150px]"},{key:"category",label:"category",sortable:!0,className:"min-w-[120px]"},{key:"serialNumber",label:"serial_number_sn",sortable:!0,className:"min-w-[130px]"},{key:"allocationDetails.recipientName",label:"recipient",sortable:!0,className:"min-w-[150px]"},{key:"allocationDetails.employeeId",label:"employee_id",sortable:!0,className:"min-w-[100px]"},{key:"allocationDetails.position",label:"position",sortable:!0,className:"min-w-[120px]"},{key:"allocationDetails.department",label:"department",sortable:!0,className:"min-w-[120px]"},{key:"allocationDetails.handoverDate",label:"handover_date",sortable:!0,className:"min-w-[120px]"},{key:"actions",label:"actions",sortable:!1,className:"text-center min-w-[100px]"}],[u]),{items:m,requestSort:p,sortConfig:g}=iy(n,{key:"allocationDetails.handoverDate",direction:"descending"}),y=e=>e?new Date(e).toLocaleDateString(u("locale_string"),{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A",v=e=>{let t=e.position?u(e.position):"N/A";return e.positionDescription&&(t+=" - ".concat(e.positionDescription)),t},b=e=>{const{name:t,value:n}=e.target;c(e=>o(o({},e),{},{[t]:n}))},_=(0,e.useMemo)(()=>(Array.isArray(r)?r:[]).reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{}),[r]),x=(0,e.useMemo)(()=>[{id:"all",tKey:"all"},...bg],[]);return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:u("allocated_list")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:u("allocated_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-yellow-500 to-orange-500 mt-2 rounded-full"})]}),(0,kg.jsx)("button",{onClick:()=>h(!d),className:"md:hidden p-2.5 bg-gray-100 dark:bg-gray-700 rounded-xl text-gray-600 dark:text-gray-300",children:d?(0,kg.jsx)(qg,{className:"w-5 h-5"}):(0,kg.jsx)(Sy,{className:"w-5 h-5"})})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4 items-end ".concat(d?"grid":"hidden md:grid"),children:[(0,kg.jsxs)("div",{className:"sm:col-span-2 md:col-span-2",children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:u("search")}),(0,kg.jsxs)("div",{className:"relative group",children:[(0,kg.jsx)(Jg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{name:"search",type:"text",placeholder:u("search_inventory_placeholder"),className:"w-full pl-10 pr-4 py-2.5 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 focus:border-blue-500",value:l.search,onChange:b})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:u("category")}),(0,kg.jsx)("select",{name:"category",className:"w-full py-2.5 px-3 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 cursor-pointer",value:l.category,onChange:b,children:s.map(e=>(0,kg.jsx)("option",{value:e.id,children:"".concat(e.name," (").concat("all"===e.id?(r||[]).length:_[e.id]||0,")")},e.id))})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:u("department")}),(0,kg.jsx)("select",{name:"department",className:"w-full py-2.5 px-3 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 cursor-pointer",value:l.department,onChange:b,children:x.map(e=>(0,kg.jsx)("option",{value:e.id,children:u(e.tKey)},e.id))})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:u("handover_date")}),(0,kg.jsx)("input",{name:"handoverDate",type:"date",className:"w-full py-2.5 px-3 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600",value:l.handoverDate,onChange:b})]})]})]}),(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"w-full text-xs table-fixed",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsx)(sy,{columns:f,requestSort:p,sortConfig:g,t:u})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:m.length>0?m.map((e,t)=>{const n=e.allocationDetails||{};return(0,kg.jsxs)("tr",{className:"h-16 transition-colors duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 ".concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),children:[(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 font-semibold align-middle",children:e.name.split(" (User:")[0]}),(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 capitalize align-middle",children:(s.find(t=>t.id===e.category)||{}).name||e.category}),(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 font-mono align-middle",children:e.serialNumber||"N/A"}),(0,kg.jsx)("td",{className:"text-center text-center px-4 py-3.5 align-middle",children:n.recipientName||"N/A"}),(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 align-middle",children:n.employeeId||"N/A"}),(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 align-middle",children:v(n)}),(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 align-middle",children:n.department?u(n.department):"N/A"}),(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 align-middle",children:y(n.handoverDate)}),(0,kg.jsx)("td",{className:"text-center px-4 py-3.5 text-center align-middle",children:(0,kg.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,kg.jsx)("button",{onClick:()=>a(e),className:"p-2 rounded-lg text-green-500 hover:bg-green-100 dark:hover:bg-green-900/30",title:u("recall_device"),children:(0,kg.jsx)(ly,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>i(e),className:"p-2 rounded-lg text-orange-500 hover:bg-orange-100 dark:hover:bg-orange-900/30",title:u("maintenance"),children:(0,kg.jsx)(Og,{className:"w-4 h-4"})})]})})]},e.id)}):(0,kg.jsx)("tr",{children:(0,kg.jsx)("td",{colSpan:f.length,className:"text-center py-16 text-sm",children:u("no_allocated_items_match_filter")})})})]})})}),(0,kg.jsx)("div",{className:"md:hidden space-y-4",children:m.length>0?m.map(e=>{const t=e.allocationDetails||{};return(0,kg.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("h3",{className:"font-bold text-sm text-gray-900 dark:text-gray-100 mb-1",children:e.name.split(" (User:")[0]}),(0,kg.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,kg.jsx)(Zg,{className:"w-3 h-3"}),(0,kg.jsx)("span",{className:"font-mono",children:e.serialNumber||"N/A"})]})]}),(0,kg.jsxs)("div",{className:"flex items-center space-x-1 -mt-2 -mr-2",children:[(0,kg.jsx)("button",{onClick:()=>a(e),className:"p-2 rounded-xl text-green-500 hover:bg-green-100 dark:hover:bg-green-900/30",title:u("recall_device"),children:(0,kg.jsx)(ly,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>i(e),className:"p-2 rounded-xl text-orange-500 hover:bg-orange-100 dark:hover:bg-orange-900/30",title:u("maintenance"),children:(0,kg.jsx)(Og,{className:"w-4 h-4"})})]})]}),(0,kg.jsxs)("div",{className:"mt-3 pt-3 border-t dark:border-gray-700 grid grid-cols-2 gap-x-4 gap-y-2 text-xs",children:[(0,kg.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,kg.jsx)(ey,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:(s.find(t=>t.id===e.category)||{}).name||e.category})]}),(0,kg.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,kg.jsx)(ty,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:t.department?u(t.department):"N/A"})]}),(0,kg.jsxs)("div",{className:"flex items-center gap-1.5 col-span-2",children:[(0,kg.jsx)(Sg,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[t.recipientName," (",t.employeeId,")"]})]}),(0,kg.jsxs)("div",{className:"flex items-center gap-1.5 col-span-2",children:[(0,kg.jsx)(Cg,{className:"w-3.5 h-3.5 text-gray-400"}),(0,kg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:y(t.handoverDate)})]})]})]},e.id)}):(0,kg.jsx)("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:(0,kg.jsx)("p",{children:u("no_allocated_items_match_filter")})})})]})},Ey=t=>{let{items:n,onStartPurchase:r,onDeleteItem:a,onOpenAddFromMasterModal:i,categories:s,t:l}=t;const[c,u]=(0,e.useState)({}),[d,h]=(0,e.useState)(""),f=(0,e.useMemo)(()=>d?n.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())):n,[n,d]),m=(e,t,n)=>{u(r=>o(o({},r),{},{[e]:o(o({},r[e]||{}),{},{[t]:n})}))},p=e=>{var t,n;const a=parseFloat(null===(t=c[e.id])||void 0===t?void 0:t.price),i=parseInt(null===(n=c[e.id])||void 0===n?void 0:n.quantity,10)||1;if(!a||a<=0)return void ke.error(l("toast_price_is_required"));const s={id:e.id,quantity:i,price:a};r([s])};return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-500 via-gray-600 to-gray-700 bg-clip-text text-transparent",children:l("pending_purchase_list")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:l("pending_purchase_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-gray-500 to-gray-700 mt-2 rounded-full"})]}),(0,kg.jsx)("div",{className:"md:hidden",children:(0,kg.jsx)("button",{onClick:i,className:"relative overflow-hidden bg-gradient-to-r from-blue-500 to-purple-600 text-white p-2.5 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center group",title:l("add_from_master_list"),children:(0,kg.jsx)(Yg,{className:"w-5 h-5"})})})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[(0,kg.jsxs)("div",{className:"md:col-span-2",children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:l("search")}),(0,kg.jsxs)("div",{className:"relative group",children:[(0,kg.jsx)(Jg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors"}),(0,kg.jsx)("input",{type:"text",placeholder:l("search_master_item_placeholder"),className:"w-full pl-10 pr-4 py-2.5 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",value:d,onChange:e=>h(e.target.value)})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-2 opacity-0",children:"."}),(0,kg.jsxs)("button",{onClick:i,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-xl hover:shadow-lg transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center space-x-2 text-sm font-semibold",children:[(0,kg.jsx)($g,{className:"w-5 h-5"}),(0,kg.jsx)("span",{children:l("add_from_master_list")})]})]})]})]}),(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"w-full text-xs",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsxs)("tr",{children:[(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:l("device_name")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:l("category")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-center font-medium uppercase",children:l("purchase_quantity")}),(0,kg.jsxs)("th",{className:"px-4 py-3.5 text-right font-medium uppercase",children:[l("price")," (VN\u0110)"]}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-center font-medium uppercase",children:l("actions")})]})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f&&f.length>0?f.map((e,t)=>{var n,r;return(0,kg.jsxs)("tr",{className:"transition-colors duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 ".concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),children:[(0,kg.jsx)("td",{className:"px-4 py-3.5 font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,kg.jsx)("td",{className:"px-4 py-3.5 capitalize text-gray-600 dark:text-gray-300",children:(s.find(t=>t.id===e.category)||{}).name||e.category}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsx)("input",{type:"number",min:"1",value:(null===(n=c[e.id])||void 0===n?void 0:n.quantity)||1,onChange:t=>m(e.id,"quantity",t.target.value),className:"w-24 p-2 border-2 rounded-xl text-center dark:bg-gray-700 dark:border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-right",children:(0,kg.jsx)("input",{type:"number",min:"0",placeholder:"0",value:(null===(r=c[e.id])||void 0===r?void 0:r.price)||"",onChange:t=>m(e.id,"price",t.target.value),className:"w-36 p-2 border-2 rounded-xl text-right dark:bg-gray-700 dark:border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,kg.jsx)("button",{onClick:()=>p(e),className:"p-2 rounded-lg text-green-500 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",title:l("purchasing"),children:(0,kg.jsx)(Qg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>a("delete-pending",e),className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:l("delete"),children:(0,kg.jsx)(Mg,{className:"w-4 h-4"})})]})})]},e.id)}):(0,kg.jsx)("tr",{children:(0,kg.jsx)("td",{colSpan:"5",className:"text-center py-16",children:(0,kg.jsx)("p",{className:"text-gray-500 text-sm",children:l("no_data_available")})})})})]})})}),(0,kg.jsx)("div",{className:"md:hidden space-y-4",children:f&&f.length>0?f.map(e=>{var t,n;return(0,kg.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 space-y-3",children:[(0,kg.jsxs)("div",{className:"flex items-start justify-between",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm",children:e.name}),(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:(s.find(t=>t.id===e.category)||{}).name||e.category})]}),(0,kg.jsx)("button",{onClick:()=>a("delete-pending",e),className:"p-2 rounded-xl text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 -mt-2 -mr-2",title:l("delete"),children:(0,kg.jsx)(Mg,{className:"w-4 h-4"})})]}),(0,kg.jsxs)("div",{className:"flex items-end gap-3 pt-3 border-t dark:border-gray-700",children:[(0,kg.jsxs)("div",{className:"w-1/3",children:[(0,kg.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:l("purchase_quantity")}),(0,kg.jsx)("input",{type:"number",min:"1",value:(null===(t=c[e.id])||void 0===t?void 0:t.quantity)||1,onChange:t=>m(e.id,"quantity",t.target.value),className:"w-full p-2 border-2 rounded-xl text-center dark:bg-gray-700"})]}),(0,kg.jsxs)("div",{className:"flex-grow",children:[(0,kg.jsxs)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:[l("price")," (VN\u0110)"]}),(0,kg.jsx)("input",{type:"number",min:"0",placeholder:"0",value:(null===(n=c[e.id])||void 0===n?void 0:n.price)||"",onChange:t=>m(e.id,"price",t.target.value),className:"w-full p-2 border-2 rounded-xl text-right dark:bg-gray-700"})]}),(0,kg.jsx)("button",{onClick:()=>p(e),className:"p-2.5 rounded-xl text-green-500 bg-green-50 dark:bg-green-900/30 hover:bg-green-100",title:l("purchasing"),children:(0,kg.jsx)(Qg,{className:"w-5 h-5"})})]})]},e.id)}):(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow text-center py-16 text-gray-500 dark:text-gray-400",children:(0,kg.jsx)("p",{className:"text-sm",children:l("no_data_available")})})})]})},Ty=Ae("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),jy=t=>{let{allItems:n,onAddType:r,onEditItem:a,onDeleteItem:i,categories:s,t:o,fullEquipmentList:l}=t;const[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)("all"),[f,m]=(0,e.useState)(!1),p=n.filter(e=>{const t="all"===d||e.category===d,n=e.name.toLowerCase().includes(c.toLowerCase());return t&&n});return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-500 via-teal-500 to-emerald-500 bg-clip-text text-transparent",children:o("master_list")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:o("master_list_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-cyan-500 to-emerald-500 mt-2 rounded-full"})]}),(0,kg.jsxs)("div",{className:"flex items-center gap-3 md:hidden",children:[(0,kg.jsx)("button",{onClick:r,className:"relative overflow-hidden bg-gradient-to-r from-blue-500 to-purple-600 text-white p-2.5 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center group",title:o("add_new_master_item"),children:(0,kg.jsx)(Yg,{className:"w-5 h-5"})}),(0,kg.jsx)("button",{onClick:()=>m(!f),className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-xl text-gray-600 dark:text-gray-300 hover:shadow-md transition-all duration-200",children:f?(0,kg.jsx)(qg,{className:"w-5 h-5"}):(0,kg.jsx)(Sy,{className:"w-5 h-5"})})]})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end ".concat(f?"grid":"hidden md:grid"),children:[(0,kg.jsxs)("div",{className:"md:col-span-2",children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:o("search")}),(0,kg.jsxs)("div",{className:"relative group",children:[(0,kg.jsx)(Jg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors"}),(0,kg.jsx)("input",{type:"text",placeholder:o("search_master_item_placeholder"),className:"w-full pl-10 pr-4 py-2.5 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500",value:c,onChange:e=>u(e.target.value)})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:o("category")}),(0,kg.jsx)("select",{className:"w-full py-2.5 px-3 border-2 rounded-xl text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 cursor-pointer",value:d,onChange:e=>h(e.target.value),children:s.map(e=>(0,kg.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,kg.jsxs)("div",{className:"hidden md:block",children:[(0,kg.jsx)("label",{className:"block text-xs font-medium mb-2 opacity-0",children:"."}),(0,kg.jsxs)("button",{onClick:r,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-xl hover:shadow-lg transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center space-x-2 text-sm font-semibold",children:[(0,kg.jsx)($g,{className:"w-5 h-5"}),(0,kg.jsx)("span",{children:o("add_new_master_item")})]})]})]})]}),(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"w-full text-xs",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsxs)("tr",{children:[(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:o("master_item_name")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:o("category")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-left font-medium uppercase",children:o("usage_status")}),(0,kg.jsx)("th",{className:"px-4 py-3.5 text-center font-medium uppercase",children:o("actions")})]})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:p.length>0?p.map((e,t)=>{const n=l.some(t=>t.name.split(" (User:")[0].trim()===e.name&&t.category===e.category&&"master"!==t.status),r=o(n?"has_been_used":"never_used"),c=n?"text-green-600 dark:text-green-400 font-semibold":"text-gray-500 dark:text-gray-400";return(0,kg.jsxs)("tr",{className:"transition-colors duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 ".concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),children:[(0,kg.jsx)("td",{className:"px-4 py-3.5 font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:(0,kg.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,kg.jsx)(ey,{className:"w-3.5 h-3.5 text-gray-500"}),(0,kg.jsx)("span",{className:"capitalize text-gray-700 dark:text-gray-300",children:(s.find(t=>t.id===e.category)||{}).name||e.category})]})}),(0,kg.jsx)("td",{className:"px-4 py-3.5 ".concat(c),children:r}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,kg.jsx)("button",{onClick:()=>a(e),disabled:n,className:"p-2 rounded-lg text-amber-500 hover:bg-amber-100 dark:hover:bg-amber-900/30 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",title:o(n?"cannot_edit_used_model":"edit"),children:(0,kg.jsx)(Ty,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>i(e),className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:o("delete"),children:(0,kg.jsx)(Mg,{className:"w-4 h-4"})})]})})]},e.id)}):(0,kg.jsx)("tr",{children:(0,kg.jsxs)("td",{colSpan:"4",className:"text-center py-16",children:[(0,kg.jsx)(Pe,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,kg.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:o("no_master_items_found")})]})})})]})})}),(0,kg.jsx)("div",{className:"md:hidden space-y-4",children:p.length>0?p.map(e=>{const t=l.some(t=>t.name.split(" (User:")[0].trim()===e.name&&t.category===e.category&&"master"!==t.status),n=o(t?"has_been_used":"never_used"),r=t?"text-green-600 dark:text-green-400 font-semibold":"text-gray-500 dark:text-gray-400";return(0,kg.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,kg.jsxs)("div",{className:"space-y-1",children:[(0,kg.jsx)("p",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:e.name}),(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:(s.find(t=>t.id===e.category)||{}).name||e.category})]}),(0,kg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,kg.jsx)("button",{onClick:()=>a(e),disabled:t,className:"p-2 rounded-xl text-amber-500 hover:bg-amber-100 dark:hover:bg-amber-900/30 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",title:o(t?"cannot_edit_used_model":"edit"),children:(0,kg.jsx)(ny,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>i(e),className:"p-2 rounded-xl text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:o("delete"),children:(0,kg.jsx)(Mg,{className:"w-4 h-4"})})]})]}),(0,kg.jsx)("div",{className:"text-xs pt-3 mt-3 border-t dark:border-gray-700 ".concat(r),children:(0,kg.jsxs)("span",{children:[o("usage_status"),": ",n]})})]},e.id)}):(0,kg.jsxs)("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[(0,kg.jsx)(Pe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,kg.jsx)("p",{className:"text-gray-500",children:o("no_master_items_found")})]})})]})},Iy=e=>{let{items:t,onRepairComplete:n,onMarkUnrepairable:r,onEditNote:a,t:i}=e;const{items:s,requestSort:o,sortConfig:l}=iy(t,{key:"maintenanceDate",direction:"descending"}),c=e=>e?new Date(e).toLocaleString(i("locale_string")):"N/A";return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 via-red-500 to-yellow-500 bg-clip-text text-transparent",children:i("maintenance_management")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:i("maintenance_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-orange-500 to-red-500 mt-2 rounded-full"})]}),s.length>0?(0,kg.jsxs)(kg.Fragment,{children:[(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"w-full text-xs",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsx)(sy,{columns:[{key:"name",label:"device_name",sortable:!0,className:"min-w-[150px]"},{key:"serialNumber",label:"serial_number_sn",sortable:!0,className:"min-w-[130px]"},{key:"maintenanceDate",label:"maintenance_date",sortable:!0,className:"min-w-[120px]"},{key:"condition",label:"failure_note",sortable:!0,className:"min-w-[200px]"},{key:"recalledFrom",label:"recalled_from_user",sortable:!0,className:"min-w-[150px]"},{key:"actions",label:"actions",sortable:!1,className:"text-center min-w-[120px]"}],requestSort:o,sortConfig:l,t:i})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:s.map((e,t)=>(0,kg.jsxs)("tr",{className:"transition-colors duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 ".concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),children:[(0,kg.jsx)("td",{className:"px-4 py-3.5 font-semibold",children:e.name}),(0,kg.jsx)("td",{className:"px-4 py-3.5 font-mono",children:e.serialNumber||"N/A"}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:c(e.maintenanceDate)}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:e.condition}),(0,kg.jsx)("td",{className:"px-4 py-3.5 font-semibold",children:e.recalledFrom||"---"}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,kg.jsx)("button",{onClick:()=>a(e),className:"p-2 rounded-lg text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-900/30",title:i("edit_failure_note"),children:(0,kg.jsx)(ny,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>n(e),className:"p-2 rounded-lg text-green-500 hover:bg-green-100 dark:hover:bg-green-900/30",title:i("repair_completed"),children:(0,kg.jsx)(Dg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>r(e),className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",title:i("mark_unrepairable"),children:(0,kg.jsx)(cy,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),(0,kg.jsx)("div",{className:"md:hidden space-y-4",children:s.map(e=>(0,kg.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 space-y-3",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:e.name}),(0,kg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[(0,kg.jsx)(Zg,{className:"w-3 h-3"}),e.serialNumber||"N/A"]})]}),(0,kg.jsxs)("div",{className:"flex items-center space-x-1 -mr-2 -mt-2",children:[(0,kg.jsx)("button",{onClick:()=>a(e),className:"p-2 rounded-xl text-blue-500 hover:bg-blue-100",title:i("edit_failure_note"),children:(0,kg.jsx)(ny,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>n(e),className:"p-2 rounded-xl text-green-500 hover:bg-green-100",title:i("repair_completed"),children:(0,kg.jsx)(Dg,{className:"w-4 h-4"})}),(0,kg.jsx)("button",{onClick:()=>r(e),className:"p-2 rounded-xl text-red-500 hover:bg-red-100",title:i("mark_unrepairable"),children:(0,kg.jsx)(cy,{className:"w-4 h-4"})})]})]}),(0,kg.jsxs)("div",{className:"text-xs pt-3 border-t dark:border-gray-700 space-y-1.5",children:[(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[i("maintenance_date"),":"]})," ",c(e.maintenanceDate)]}),(0,kg.jsxs)("p",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[(0,kg.jsxs)("strong",{children:[i("recalled_from_user"),":"]})," ",e.recalledFrom||"---"]}),(0,kg.jsxs)("p",{children:[(0,kg.jsxs)("strong",{children:[i("failure_note"),":"]})," ",e.condition]})]})]},e.id))})]}):(0,kg.jsxs)("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[(0,kg.jsx)(Pe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,kg.jsx)("p",{className:"text-gray-500",children:i("no_data_available")})]})]})},Ay=e=>{let{items:t,onLiquidateItem:n,t:r}=e;const{items:a,requestSort:i,sortConfig:s}=iy(t);return(0,kg.jsxs)("div",{className:"space-y-6",children:[(0,kg.jsxs)("div",{className:"glass-effect bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 rounded-2xl shadow-2xl border border-gray-100/50 dark:border-gray-700/50 p-6 backdrop-blur-xl",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-500 via-gray-500 to-gray-600 bg-clip-text text-transparent",children:r("liquidation_list")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:r("liquidation_desc")}),(0,kg.jsx)("div",{className:"h-0.5 w-16 bg-gradient-to-r from-slate-500 to-gray-600 mt-2 rounded-full"})]}),a.length>0?(0,kg.jsxs)(kg.Fragment,{children:[(0,kg.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden hidden md:block border border-gray-100 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"overflow-x-auto",children:(0,kg.jsxs)("table",{className:"w-full text-xs",children:[(0,kg.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,kg.jsx)(sy,{columns:[{key:"name",label:"device_name",sortable:!0,className:"min-w-[200px]"},{key:"serialNumber",label:"serial_number_sn",sortable:!0,className:"min-w-[150px]"},{key:"condition",label:"failure_note",sortable:!0},{key:"actions",label:"actions",sortable:!1,className:"text-center min-w-[100px]"}],requestSort:i,sortConfig:s,t:r})}),(0,kg.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:a.map((e,t)=>(0,kg.jsxs)("tr",{className:"transition-colors duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 ".concat(t%2===0?"bg-gray-50/30 dark:bg-gray-900/20":""),children:[(0,kg.jsx)("td",{className:"px-4 py-3.5 font-semibold",children:e.name}),(0,kg.jsx)("td",{className:"px-4 py-3.5 font-mono",children:e.serialNumber||"N/A"}),(0,kg.jsx)("td",{className:"px-4 py-3.5",children:e.condition}),(0,kg.jsx)("td",{className:"px-4 py-3.5 text-center",children:(0,kg.jsx)("button",{onClick:()=>n(e),className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",title:r("confirm_liquidated"),children:(0,kg.jsx)(Mg,{className:"w-4 h-4"})})})]},e.id))})]})})}),(0,kg.jsx)("div",{className:"md:hidden space-y-4",children:a.map(e=>(0,kg.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 space-y-3",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:e.name}),(0,kg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[(0,kg.jsx)(Zg,{className:"w-3 h-3"}),e.serialNumber||"N/A"]})]}),(0,kg.jsx)("button",{onClick:()=>n(e),className:"p-2 -mt-2 -mr-2 text-red-500 hover:bg-red-100 rounded-xl",title:r("confirm_liquidated"),children:(0,kg.jsx)(cy,{className:"w-5 h-5"})})]}),(0,kg.jsx)("div",{className:"text-xs pt-3 border-t dark:border-gray-600",children:(0,kg.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,kg.jsxs)("strong",{children:[r("failure_note"),":"]})," ",e.condition]})})]},e.id))})]}):(0,kg.jsxs)("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[(0,kg.jsx)(Mg,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),(0,kg.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:r("liquidation_empty_title")}),(0,kg.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:r("liquidation_empty_text")})]})]})},Py={name:"",category:"pc",status:"available",location:"location_in_stock",condition:"condition_legacy_import",quantity:1,price:0,serialNumber:""},Dy=t=>{let{show:n,onClose:r,onSubmit:a,initialData:i,categories:s,t:l}=t;const[c,u]=(0,e.useState)(Py),[d,h]=(0,e.useState)(!1),f=null!=i;if((0,e.useEffect)(()=>{n&&u(f?i:Py)},[i,n,f]),!n)return null;const m=e=>{const{name:t,value:n}=e.target,r="quantity"===t||"price"===t?parseFloat(n)||0:n;u(e=>o(o({},e),{},{[t]:r}))},p=s.filter(e=>"all"!==e.id);return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-lg",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:l(f?"edit_device_modal_title":"import_unlisted_device")}),(0,kg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);const t=await a(c);h(!1),t&&r()},className:"space-y-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("device_name")}),(0,kg.jsx)("input",{type:"text",name:"name",value:c.name,onChange:m,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:ring-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-700/50 disabled:cursor-not-allowed",required:!0,disabled:f})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("category")}),(0,kg.jsx)("select",{name:"category",value:c.category,onChange:m,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 disabled:bg-gray-100 dark:disabled:bg-gray-700/50 disabled:cursor-not-allowed",disabled:f,children:p.map(e=>(0,kg.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("status")}),(0,kg.jsx)("select",{name:"status",value:c.status,disabled:!0,className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 text-gray-900 dark:text-gray-200 bg-gray-100 dark:bg-gray-700/50",children:(0,kg.jsx)("option",{value:"available",children:l("available")})})]})]}),!f&&(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("condition")}),(0,kg.jsx)("input",{type:"text",value:l(c.condition),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-gray-100 dark:bg-gray-700/50 text-gray-900 dark:text-gray-200",disabled:!0})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("quantity")}),(0,kg.jsx)("input",{type:"number",name:"quantity",value:c.quantity,onChange:m,min:"0",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 text-gray-900 dark:text-gray-200 focus:ring-blue-500 ".concat(f?"bg-gray-100 dark:bg-gray-700/50":"bg-white dark:bg-gray-700"),required:!0,disabled:f})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[l("price")," (VN\u0110)"]}),(0,kg.jsx)("input",{type:"number",name:"price",value:c.price,onChange:m,min:"0",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200"})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("serial_number_sn")}),f?(0,kg.jsx)("input",{type:"text",name:"serialNumber",value:c.serialNumber,onChange:m,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:ring-blue-500",required:!0}):(0,kg.jsx)("textarea",{name:"serialNumber",value:c.serialNumber,onChange:m,placeholder:l("add_multiple_sn_placeholder"),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:ring-blue-500",rows:"3"})]}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,kg.jsx)("button",{type:"button",onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:l("cancel")}),(0,kg.jsx)("button",{type:"submit",disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:d?"...":l(f?"save_changes":"add")})]})]})]})})},Ry=t=>{let{show:n,onClose:r,onConfirm:a,title:i,confirmationText:s,t:o}=t;const l=(0,e.useRef)(null),c=(0,e.useRef)(null);(0,e.useEffect)(()=>{if(n){const e=setTimeout(()=>{var e;null===(e=l.current)||void 0===e||e.focus()},0);return()=>clearTimeout(e)}},[n]);return n?(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onKeyDown:e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;e.preventDefault();const t=document.activeElement;var n,r;"ArrowRight"===e.key&&t===l.current&&(null===(n=c.current)||void 0===n||n.focus());"ArrowLeft"===e.key&&t===c.current&&(null===(r=l.current)||void 0===r||r.focus())},children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,kg.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:i||o("confirm")}),(0,kg.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",dangerouslySetInnerHTML:{__html:s||o("are_you_sure_generic")}}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,kg.jsx)("button",{ref:l,onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400",children:o("cancel")}),(0,kg.jsx)("button",{ref:c,onClick:a,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400",children:o("confirm")})]})]})}):null},Oy=Ae("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),My=Ae("milestone",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}],["path",{d:"M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z",key:"1btarq"}]]),Ly=Ae("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Fy=Ae("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),Uy=t=>{let{show:n,onClose:r,item:a,categories:i,statusLabels:s,statusColors:l,t:c}=t;const u=(0,e.useCallback)(e=>{if(!e.condition)return"---";if("object"===typeof e.condition&&e.condition.key){const t=o({},e.condition.params);if(t.note&&"object"===typeof t.note){const e=t.note;t.note=e.isKey?c(e.value):e.value}return c(e.condition.key,t)}const t=c(String(e.condition));return e.isRecalled?c("recalled_prefix",{conditionText:t}):t},[c]),d=e=>e?new Date(e).toLocaleString(c("locale_string")):"N/A";if(!n||!a)return null;const h=i.find(e=>e.id===a.category),f=a.allocationDetails||{},m=e=>{let{icon:t,label:n,value:r,valueClassName:a=""}=e;return(0,kg.jsxs)("div",{className:"flex items-start",children:[(0,kg.jsx)(t,{className:"w-4 h-4 text-gray-400 mr-3 mt-1 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n}),(0,kg.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 break-words ".concat(a),children:r})]})]})};return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:c("device_details")}),(0,kg.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,kg.jsx)(qg,{className:"w-6 h-6"})})]}),(0,kg.jsxs)("div",{className:"overflow-y-auto pr-4 -mr-4",children:[(0,kg.jsxs)("div",{className:"space-y-3",children:[(0,kg.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a.name}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,kg.jsx)(m,{icon:Pe,label:c("category"),value:(null===h||void 0===h?void 0:h.name)||"N/A"}),(0,kg.jsx)(m,{icon:Zg,label:c("serial_number_sn"),value:a.serialNumber||"N/A",valueClassName:"font-mono"}),(0,kg.jsx)(m,{icon:Cg,label:c("import_date"),value:d(a.importDate)}),(0,kg.jsx)(m,{icon:Oy,label:c("price"),value:(p=a.price,"number"!==typeof p?"N/A":new Intl.NumberFormat(c("locale_string"),{style:"currency",currency:"VND"}).format(p))}),(0,kg.jsx)(m,{icon:My,label:c("condition"),value:u(a)}),(0,kg.jsx)("div",{children:(0,kg.jsxs)("div",{className:"flex items-start",children:[(0,kg.jsx)(My,{className:"w-4 h-4 text-gray-400 mr-3 mt-1 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c("status")}),(0,kg.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(l[a.status]||"bg-gray-100"),children:s[a.status]||"N/A"})]})]})})]})]}),"in-use"===a.status&&f.recipientName&&(0,kg.jsxs)("div",{className:"mt-6 pt-4 border-t dark:border-gray-700",children:[(0,kg.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:c("Th\xf4ng tin b\xe0n giao")}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,kg.jsx)(m,{icon:Ly,label:c("recipient"),value:"".concat(f.recipientName," (").concat(f.employeeId,")")}),(0,kg.jsx)(m,{icon:Fy,label:c("department"),value:c(f.department)}),(0,kg.jsx)(m,{icon:My,label:c("position"),value:c(f.position)}),(0,kg.jsx)(m,{icon:Cg,label:c("handover_date"),value:d(f.handoverDate)})]})]})]}),(0,kg.jsx)("div",{className:"mt-6 pt-4 border-t dark:border-gray-700 flex justify-end flex-shrink-0",children:(0,kg.jsx)("button",{onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-6 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:c("close")})})]})});var p},Vy=t=>{let{show:n,onClose:r,onSubmit:a,categories:i,t:s,initialData:l}=t;const[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)("pc"),f=!!l;if((0,e.useEffect)(()=>{n&&(f?(u(l.name||""),h(l.category||"pc")):(u(""),h("pc")))},[n,l,f]),!n)return null;const m=i.filter(e=>"all"!==e.id),p=s(f?"edit_device_modal_title":"add_new_master_item_modal_title"),g=s(f?"save_changes":"save");return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:p}),(0,kg.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!c||!d)return void alert(s("please_fill_all_fields"));const t=f?o(o({},l),{},{name:c,category:d}):{name:c,category:d};a(t),r()},className:"space-y-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s("master_item_name")}),(0,kg.jsx)("input",{type:"text",placeholder:s("master_item_name_placeholder"),value:c,onChange:e=>u(e.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:ring-blue-500",required:!0,autoFocus:!0})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s("category")}),(0,kg.jsx)("select",{value:d,onChange:e=>h(e.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200",required:!0,children:m.map(e=>(0,kg.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,kg.jsx)("button",{type:"button",onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:s("cancel")}),(0,kg.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:g})]})]})]})})},qy=Ae("badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]),zy=Ae("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),By=t=>{var n,r;let{show:a,onClose:i,onSubmit:s,item:l,t:c}=t;const[u,d]=(0,e.useState)({recipientName:"",employeeId:"",position:(null===(n=vg[0])||void 0===n?void 0:n.id)||"",positionDescription:"",department:(null===(r=bg[0])||void 0===r?void 0:r.id)||"",condition:"",serialNumber:"",quantity:1,handoverDate:(new Date).toISOString()});if((0,e.useEffect)(()=>{if(a&&l){var e,t;let n="---";if(l.condition)if("object"===typeof l.condition&&l.condition.key)n=c(l.condition.key,l.condition.params);else{const e=c(String(l.condition));n=l.isRecalled?c("recalled_prefix",{conditionText:e}):e}d({recipientName:"",employeeId:"",position:(null===(e=vg[0])||void 0===e?void 0:e.id)||"",positionDescription:"",department:(null===(t=bg[0])||void 0===t?void 0:t.id)||"",condition:n,serialNumber:l.serialNumber||"",quantity:1,handoverDate:(new Date).toISOString()})}},[a,l,c]),!a||!l)return null;const h=e=>{const{name:t,value:n}=e.target;if("handoverDate"===t){const e=new Date(n);d(n=>o(o({},n),{},{[t]:e.toISOString()}))}else d(e=>o(o({},e),{},{[t]:n}))};return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-2xl",children:[(0,kg.jsx)("h2",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-gray-100",children:c("allocate_device")}),(0,kg.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:[c("allocating"),": ",(0,kg.jsx)("span",{className:"font-semibold",children:l.name})]}),(0,kg.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=l.condition?"object"===typeof l.condition?l.condition.key:String(l.condition):"condition_new";s(o(o({},u),{},{condition:t,equipmentId:l.id})),i()},className:"space-y-4",children:[(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:c("recipient_name")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(Sg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"text",name:"recipientName",value:u.recipientName,onChange:h,className:"w-full pl-10 pr-4 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:!0})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:c("employee_id")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(qy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"text",name:"employeeId",value:u.employeeId,onChange:h,className:"w-full pl-10 pr-4 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:!0})]})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:c("position")}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-1",children:[(0,kg.jsxs)("div",{className:"relative",children:[(0,kg.jsx)(zy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("select",{name:"position",value:u.position,onChange:h,className:"w-full pl-10 pr-4 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 appearance-none",required:!0,children:vg.map(e=>(0,kg.jsx)("option",{value:e.id,children:c(e.tKey)},e.id))})]}),(0,kg.jsx)("div",{children:(0,kg.jsx)("input",{type:"text",name:"positionDescription",placeholder:"M\xf4 t\u1ea3 th\xeam (v\xed d\u1ee5: K\u1ef9 s\u01b0 IT)",value:u.positionDescription,onChange:h,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"})})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:c("department")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(Fy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("select",{name:"department",value:u.department,onChange:h,className:"w-full pl-10 pr-4 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 appearance-none",required:!0,children:bg.map(e=>(0,kg.jsx)("option",{value:e.id,children:c(e.tKey)},e.id))})]})]}),(0,kg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:c("serial_number_sn")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(Zg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"text",name:"serialNumber",value:u.serialNumber,onChange:h,className:"w-full pl-10 pr-4 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:!0})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:c("handover_date")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(Cg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"datetime-local",name:"handoverDate",value:(e=>{if(!e)return"";const t=new Date(e),n=6e4*t.getTimezoneOffset();return new Date(t.getTime()-n).toISOString().slice(0,16)})(u.handoverDate),onChange:h,className:"w-full pl-10 pr-4 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:!0})]})]})]}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:c("condition_on_handover")}),(0,kg.jsxs)("div",{className:"relative mt-1",children:[(0,kg.jsx)(Ig,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"text",name:"condition",value:u.condition,className:"w-full pl-10 pr-4 py-2 border rounded-md bg-gray-100 dark:bg-gray-700/50 dark:border-gray-600 cursor-not-allowed",disabled:!0})]})]}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,kg.jsx)("button",{type:"button",onClick:i,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg",children:c("cancel")}),(0,kg.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:c("confirm_allocation")})]})]})]})})},Hy=t=>{let{show:n,onClose:r,onSubmit:a,itemName:i,t:s}=t;const[o,l]=(0,e.useState)("");if(!n)return null;return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[60] flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md",children:[(0,kg.jsx)("h2",{className:"text-xl font-bold mb-2 text-gray-800 dark:text-gray-100",children:s("reason_for_cancellation")}),(0,kg.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[s("cancelling_purchase_for"),":"," ",(0,kg.jsx)("span",{className:"font-semibold",children:i})]}),(0,kg.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),placeholder:s("cancellation_reason_placeholder"),className:"w-full h-24 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-gray-300 dark:border-gray-600",rows:"4"}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,kg.jsx)("button",{type:"button",onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:s("close")}),(0,kg.jsx)("button",{type:"button",onClick:()=>{o.trim()?(a(o),l(""),r()):alert(s("please_enter_cancellation_reason"))},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:s("confirm_cancellation")})]})]})})},Ky=t=>{let{show:n,onClose:r,onSubmit:a,item:i,t:s}=t;const[l,c]=(0,e.useState)("condition_good_as_new"),[u,d]=(0,e.useState)(""),h="condition_damaged_needs_maintenance"===l;if((0,e.useEffect)(()=>{n&&i&&(c("condition_good_as_new"),d(""))},[n,i]),!n||!i)return null;return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[60] flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md",children:[(0,kg.jsx)("h2",{className:"text-xl font-bold mb-2 text-gray-800 dark:text-gray-100",children:s("recall_device")}),(0,kg.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[s("recalling_from"),":"," ",(0,kg.jsx)("span",{className:"font-semibold",children:i.name})]}),(0,kg.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(o(o({},i),{},{recallReason:l,maintenanceNote:u})),r()},className:"space-y-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[s("condition_on_recall")," "]}),(0,kg.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200",children:[{key:"condition_good_as_new",type:"condition"},{key:"condition_used",type:"condition"},{key:"recall_reason_resigned",type:"reason"},{key:"recall_reason_replacement",type:"reason"},{key:"recall_reason_upgrade",type:"reason"}].map(e=>(0,kg.jsx)("option",{value:e.key,children:s(e.key)},e.key))})]}),h&&(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s("failure_note")}),(0,kg.jsx)("textarea",{value:u,onChange:e=>d(e.target.value),placeholder:s("failure_note_placeholder"),className:"mt-1 block w-full h-24 p-2 border rounded-md",rows:"3"})]}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,kg.jsx)("button",{type:"button",onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg",children:s("cancel")}),(0,kg.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:s("confirm_recall")})]})]})]})})},Wy=Ae("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Gy=e=>{let{show:t,onClose:n,message:r,t:a}=e;return t?(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md transform transition-all",children:[(0,kg.jsxs)("div",{className:"flex items-start",children:[(0,kg.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/50 sm:mx-0 sm:h-10 sm:w-10",children:(0,kg.jsx)(Wy,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),(0,kg.jsxs)("div",{className:"ml-4 text-left",children:[(0,kg.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",children:a("information")}),(0,kg.jsx)("div",{className:"mt-2",children:(0,kg.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r})})]})]}),(0,kg.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,kg.jsx)("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm",onClick:n,children:"OK"})})]})}):null},Qy=t=>{let{show:n,onClose:r,masterItems:a,onAddItem:i,pendingItems:s,t:o}=t;const[l,c]=(0,e.useState)("");if(!n)return null;const u=a.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())),d=s.map(e=>e.name);return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg h-[80vh] flex flex-col",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,kg.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:o("add_to_purchase_request_from_master")}),(0,kg.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,kg.jsx)(qg,{className:"w-6 h-6"})})]}),(0,kg.jsxs)("div",{className:"relative mb-4",children:[(0,kg.jsx)(Jg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,kg.jsx)("input",{type:"text",placeholder:o("search_master_item_placeholder"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200",value:l,onChange:e=>c(e.target.value)})]}),(0,kg.jsx)("div",{className:"flex-grow overflow-y-auto pr-2",children:u.length>0?(0,kg.jsx)("ul",{className:"divide-y dark:divide-gray-700",children:u.map(e=>{const t=d.includes(e.name);return(0,kg.jsxs)("li",{className:"flex justify-between items-center py-3",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.name}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:e.category})]}),(0,kg.jsxs)("button",{onClick:()=>i(e),disabled:t,className:"flex items-center gap-2 px-3 py-1 text-sm rounded-md transition-colors ".concat(t?"bg-gray-200 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900"),children:[(0,kg.jsx)(Yg,{className:"w-4 h-4"}),(0,kg.jsx)("span",{children:o(t?"requested":"add")})]})]},e.id)})}):(0,kg.jsx)("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:(0,kg.jsx)("p",{children:o("no_master_items_found")})})})]})})},Xy=t=>{let{show:n,onClose:r,onSubmit:a,initialNote:i="",title:s="Ghi ch\xfa",t:o}=t;const[l,c]=(0,e.useState)("");if((0,e.useEffect)(()=>{n&&c(i)},[n,i]),!n)return null;return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[70] flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-lg",children:[(0,kg.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,kg.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:s}),(0,kg.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,kg.jsx)(qg,{className:"w-6 h-6"})})]}),(0,kg.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full h-32 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-gray-300 dark:border-gray-600",rows:"5",autoFocus:!0}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,kg.jsx)("button",{type:"button",onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:o("cancel")}),(0,kg.jsx)("button",{type:"button",onClick:()=>{a(l),r()},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:o("save_changes")})]})]})})},Yy=["repair_note_successful","repair_note_replace_pcu","repair_note_reinstall_os","repair_note_replace_screen","repair_note_other"],Jy=t=>{let{show:n,onClose:r,onSubmit:a,item:i,t:s}=t;const[o,l]=(0,e.useState)(Yy[0]),[c,u]=(0,e.useState)("");if((0,e.useEffect)(()=>{n&&(l(Yy[0]),u(""))},[n]),!n||!i)return null;return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[70] flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md",children:[(0,kg.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:s("repair_completed_with_note")}),(0,kg.jsxs)("form",{onSubmit:e=>{e.preventDefault();a(i,"repair_note_other"===o?c:o,"repair_note_other"!==o),r()},className:"space-y-4",children:[(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s("select_repair_note")}),(0,kg.jsx)("select",{value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200",children:Yy.map(e=>(0,kg.jsx)("option",{value:e,children:s(e)},e))})]}),"repair_note_other"===o&&(0,kg.jsxs)("div",{children:[(0,kg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s("note")}),(0,kg.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"mt-1 block w-full h-24 p-2 border rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-gray-300 dark:border-gray-600 dark:placeholder-gray-400",required:!0})]}),(0,kg.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,kg.jsx)("button",{type:"button",onClick:r,className:"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:s("cancel")}),(0,kg.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:s("confirm")})]})]})]})})},$y=e=>{let{show:t,onClose:n,currentUser:r,onPasswordReset:a,t:i}=e;if(!t||!r)return null;return(0,kg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[70] flex justify-center items-center p-4",children:(0,kg.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md relative animate-fade-in-up",children:[(0,kg.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,kg.jsx)(qg,{className:"w-6 h-6"})}),(0,kg.jsxs)("div",{className:"flex flex-col items-center",children:[(0,kg.jsx)("div",{className:"w-24 h-24 mb-4 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,kg.jsx)("span",{className:"text-white text-4xl font-medium",children:r.displayName?r.displayName.charAt(0).toUpperCase():r.email.charAt(0).toUpperCase()})}),(0,kg.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:r.displayName||i("no_name_provided")}),(0,kg.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i("user_profile")})]}),(0,kg.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,kg.jsxs)("div",{className:"flex items-center",children:[(0,kg.jsx)(_g,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500",children:i("login_email")}),(0,kg.jsx)("p",{className:"text-md font-medium text-gray-800 dark:text-gray-200 break-all",children:r.email})]})]}),(0,kg.jsxs)("div",{className:"flex items-center",children:[(0,kg.jsx)(Sg,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500",children:i("display_name")}),(0,kg.jsx)("p",{className:"text-md font-medium text-gray-800 dark:text-gray-200",children:r.displayName||r.email})]})]}),(0,kg.jsxs)("div",{className:"flex items-center",children:[(0,kg.jsx)(Cg,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),(0,kg.jsxs)("div",{children:[(0,kg.jsx)("p",{className:"text-xs text-gray-500",children:i("account_creation_date")}),(0,kg.jsx)("p",{className:"text-md font-medium text-gray-800 dark:text-gray-200",children:r.metadata&&r.metadata.creationTime?new Date(r.metadata.creationTime).toLocaleDateString(i("locale_string")):i("not_available")})]})]})]}),(0,kg.jsxs)("div",{className:"mt-8 border-t dark:border-gray-700 pt-6",children:[(0,kg.jsxs)("button",{onClick:()=>{a(r.email).then(()=>{ke.success(i("login_password_reset_sent")),n()}).catch(e=>{ke.error(i("login_error_password_reset"))})},className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[(0,kg.jsx)(Eg,{className:"w-4 h-4"})," ",i("change_password_button")]}),(0,kg.jsx)("p",{className:"text-xs text-center text-gray-500 mt-2",children:i("password_reset_info")})]})]})})},Zy=()=>{var t,n,r;const[a,i]=(0,e.useState)(()=>localStorage.getItem("theme")||"system"),[s,l]=(0,e.useState)(()=>localStorage.getItem("language")||"vi"),[c,u]=(0,e.useState)("home"),[d,h]=(0,e.useState)(window.innerWidth<1024),[f,m]=(0,e.useState)({search:"",category:"all",importDate:"",status:"all",condition:"all",location:"all"}),[p,g]=(0,e.useState)({search:"",category:"all",department:"all",handoverDate:""}),[y,v]=(0,e.useState)(!1),[b,_]=(0,e.useState)(!1),x=(0,e.useCallback)(function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(null===(t=pg[s])||void 0===t?void 0:t[e])||e;return Object.keys(n).forEach(e=>{r=r.replace("{".concat(e,"}"),n[e])}),r},[s]),{currentUser:w,authLoading:k,authSuccessType:N,login:S,googleSignIn:C,signUp:E,logout:T,passwordReset:j,finishAuthSuccess:I,setupProfile:A}=ug(),P=((t,n)=>{const[r,a]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),u=(0,e.useCallback)(async e=>{if(!t)return;const n=o({user:(null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t?void 0:t.email)||"System",timestamp:(new Date).toISOString()},e);try{const e=lp(cg,"users",t.uid,"transactions"),r=await ng(e,n);s(e=>[o(o({},n),{},{id:r.id}),...e])}catch(r){console.error("Error logging transaction: ",r),ke.error("L\u1ed7i khi ghi nh\u1eadn l\u1ecbch s\u1eed.")}},[t]),d=(0,e.useCallback)(async()=>{if(t){c(!0);try{const e=lp(cg,"users",t.uid,"equipment"),r=(await Zp(e)).docs.map(e=>o(o({},e.data()),{},{id:e.id}));a(r);const i=lp(cg,"users",t.uid,"transactions"),l=(await Zp(i)).docs.map(e=>o(o({},e.data()),{},{id:e.id}));s(l.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))),t.metadata.creationTime!==t.metadata.lastSignInTime&&ke.success(n("loading_database_success"))}catch(e){ke.error(n("loading_database_false"))}finally{c(!1)}}else a([]),s([]),c(!1)},[t,n]);(0,e.useEffect)(()=>{d()},[d]);const h=(0,e.useCallback)(async e=>{if(!t)return;if(r.some(t=>t.name.toLowerCase()===e.name.toLowerCase()&&t.category===e.category&&"master"===t.status))return ke.error(n("toast_model_exists_guide_to_add",{itemName:e.name})),!1;const i=o(o({},e),{},{status:"master",location:"master-list",quantity:0,price:0}),s=await ng(lp(cg,"users",t.uid,"equipment"),i);return a(e=>[...e,o(o({},i),{},{id:s.id})]),u({type:"master-list",reason:"add",itemName:i.name,details:{category:i.category}}),ke.success(n("toast_new_model_added_successfully")),!0},[t,r,n,u]),f=(0,e.useCallback)(async e=>{if(!e||!e.originalName)return void console.error("updateMasterName called with invalid data",e);const i=sg(cg),s=r.map(n=>{if(n.name.startsWith(e.originalName)){const r=n.name.replace(e.originalName,e.name),a=cp(cg,"users",t.uid,"equipment",n.id);return i.update(a,{name:r}),o(o({},n),{},{name:r})}return n});try{await i.commit(),a(s),ke.success(n("toast_model_name_updated_successfully"))}catch(l){console.error("Error updating master name: ",l),ke.error("L\u1ed7i khi c\u1eadp nh\u1eadt t\xean m\u1eabu.")}},[t,r,n]),m=(0,e.useCallback)(async e=>{const i=r.some(t=>t.name.split(" (User:")[0].trim()===e.name&&t.category===e.category&&"master"!==t.status&&"pending-purchase"!==t.status);if(i){const t=r.filter(t=>"master"===t.status&&t.name===e.name&&t.category===e.category);if(t.length<=1)return void ke.error(n("toast_cannot_delete_model_in_use",{itemName:e.name}))}const s=sg(cg),o=cp(cg,"users",t.uid,"equipment",e.id);s.delete(o),await s.commit(),a(t=>t.filter(t=>t.id!==e.id)),ke.success(n("toast_model_deleted_successfully",{itemName:e.name}))},[t,r,n]),p=(0,e.useCallback)(async e=>{const i=r.some(t=>t.id!==e.id&&t.name.toLowerCase()===e.name.toLowerCase()&&t.category===e.category&&"master"===t.status);if(i)return ke.error("M\u1ed9t m\u1eabu kh\xe1c c\xf3 t\xean '".concat(e.name,"' v\xe0 danh m\u1ee5c '").concat(n(e.category),"' \u0111\xe3 t\u1ed3n t\u1ea1i.")),!1;const s=cp(cg,"users",t.uid,"equipment",e.id),l={name:e.name,category:e.category};return await eg(s,l),a(r.map(t=>t.id===e.id?o(o({},t),l):t)),u({type:"inventory",reason:"update",itemName:e.name,details:{action:"Updated master item"}}),ke.success(n("toast_info_updated_successfully")),!0},[t,r,u,n]),g=(0,e.useCallback)(async e=>{if(!t)return;if(r.find(t=>t.name===e.name&&"pending-purchase"===t.status))return void ke.error(n("toast_model_exists_guide_to_add",{itemName:e.name}));const i={name:e.name,category:e.category,status:"pending-purchase",location:"location_not_imported",purchaseQuantity:1,price:0,addedFromMaster:!0},s=await ng(lp(cg,"users",t.uid,"equipment"),i);a(e=>[...e,o(o({},i),{},{id:s.id})]),u({type:"procurement",reason:"request",itemName:i.name,quantity:1}),ke.success(n("toast_item_added_to_request_list",{itemName:i.name}))},[t,r,u,n]),y=(0,e.useCallback)(async e=>{const i=sg(cg);let s=[...r];e.forEach(e=>{const n=cp(cg,"users",t.uid,"equipment",e.id),a={status:"purchasing",purchaseQuantity:parseInt(e.quantity,10),price:parseFloat(e.price)};i.update(n,a),u({type:"procurement",reason:"purchasing",itemName:r.find(t=>t.id===e.id).name,quantity:e.quantity});const l=s.findIndex(t=>t.id===e.id);l>-1&&(s[l]=o(o({},s[l]),a))}),await i.commit(),a(s),ke.success(n("toast_moved_to_purchasing_list"))},[t,r,u,n]),v=(0,e.useCallback)(async e=>{const i=sg(cg);let s=[...r];e.forEach(e=>{const n=cp(cg,"users",t.uid,"equipment",e);i.update(n,{status:"purchased"}),u({type:"procurement",reason:"purchased",itemName:r.find(t=>t.id===e).name});const a=s.findIndex(t=>t.id===e);a>-1&&(s[a].status="purchased")}),await i.commit(),a(s),ke.success(n("toast_purchase_confirmed_successfully"))},[t,r,u,n]),b=(0,e.useCallback)(async(e,i)=>{await tg(cp(cg,"users",t.uid,"equipment",i.id)),a(r.filter(e=>e.id!==i.id)),u({type:"procurement",reason:"deleted",itemName:i.name}),ke.success(n("toast_purchase_request_deleted"))},[t,r,u,n]),_=(0,e.useCallback)(async(e,i)=>{await tg(cp(cg,"users",t.uid,"equipment",e.id)),a(r.filter(t=>t.id!==e.id)),u({type:"procurement",reason:"cancelled",itemName:e.name,details:{note:i}}),ke.success(n("toast_purchase_cancelled_with_note",{itemName:e.name}))},[t,r,u,n]),x=(0,e.useCallback)(async(e,i)=>{const s=r.map(e=>{var t;return null===(t=e.serialNumber)||void 0===t?void 0:t.toLowerCase()}).filter(Boolean),l=i.find(e=>s.includes(e.toLowerCase()));if(l)return void ke.error(n("toast_sn_exists",{sn:l}));const c=sg(cg),d=[],h=(new Date).toISOString();for(let n=0;n<e.purchaseQuantity;n++){const r={name:e.name,category:e.category,status:"available",location:"location_in_stock",condition:"condition_new",price:e.price,serialNumber:i[n],importDate:h,purchaseQuantity:e.purchaseQuantity,quantity:1},a=cp(lp(cg,"users",t.uid,"equipment"));c.set(a,r),d.push(o(o({},r),{},{id:a.id}))}const f=cp(cg,"users",t.uid,"equipment",e.id);c.delete(f),await c.commit(),a(t=>[...t.filter(t=>t.id!==e.id),...d]),u({type:"import",reason:"purchase",itemName:e.name,quantity:e.purchaseQuantity,details:{serials:i}}),ke.success(n("toast_items_imported_to_inventory",{quantity:e.purchaseQuantity,itemName:e.name}))},[t,r,u,n]),w=(0,e.useCallback)(async e=>{const a=e.serialNumber.split(",").map(e=>e.trim()).filter(Boolean);if(a.length!==e.quantity)return ke.error(n("toast_sn_quantity_mismatch",{snCount:a.length,purchaseCount:e.quantity})),!1;const i=r.map(e=>{var t;return null===(t=e.serialNumber)||void 0===t?void 0:t.toLowerCase()}).filter(Boolean),s=a.find(e=>i.includes(e.toLowerCase()));if(s)return ke.error(n("toast_sn_exists",{sn:s})),!1;const l=sg(cg),c=[],h=(new Date).toISOString();if(!r.some(t=>t.name.toLowerCase()===e.name.toLowerCase()&&t.category===e.category&&"master"===t.status)){const n={name:e.name,category:e.category,status:"master",location:"master-list",quantity:0,price:0},r=cp(lp(cg,"users",t.uid,"equipment"));l.set(r,n),u({type:"master-list",reason:"add-legacy",itemName:e.name,details:{category:e.category,autoCreated:!0}})}for(const n of a){const r=o(o({},e),{},{serialNumber:n,quantity:1,purchaseQuantity:e.quantity,importDate:h,status:"available",location:"location_in_stock",condition:"condition_legacy_import"}),a=cp(lp(cg,"users",t.uid,"equipment"));l.set(a,r),c.push(o(o({},r),{},{id:a.id}))}return await l.commit(),await d(),u({type:"import",reason:"legacy",itemName:e.name,quantity:e.quantity}),ke.success(n("toast_legacy_item_imported")),!0},[t,r,u,n,d]),k=(0,e.useCallback)(async e=>{const i=cp(cg,"users",t.uid,"equipment",e.id);return await eg(i,e),a(r.map(t=>t.id===e.id?e:t)),u({type:"inventory",reason:"update",itemName:e.name}),ke.success(n("toast_info_updated_successfully")),!0},[t,r,u,n]),N=(0,e.useCallback)(async e=>{await tg(cp(cg,"users",t.uid,"equipment",e.id)),a(r.filter(t=>t.id!==e.id)),u({type:"inventory",reason:"delete",itemName:e.name}),ke.success(n("toast_item_deleted_successfully"))},[t,r,u,n]),S=(0,e.useCallback)(async e=>{const{equipmentId:i}=e,s=Ne(e,dg),l=r.find(e=>e.id===i);if(!l)return void ke.error("Kh\xf4ng t\xecm th\u1ea5y thi\u1ebft b\u1ecb \u0111\u1ec3 b\xe0n giao.");const c={status:"in-use",location:s.department,allocationDetails:o({},s),serialNumber:s.serialNumber};await eg(cp(cg,"users",t.uid,"equipment",l.id),c),a(e=>e.map(e=>e.id===l.id?o(o({},e),c):e)),u({type:"export",reason:"allocate",itemName:l.name,quantity:1,details:o({},s),timestamp:s.handoverDate}),ke.success(n("toast_item_allocated_successfully",{itemName:l.name,recipientName:s.recipientName}))},[t,r,u,n]),C=(0,e.useCallback)(async e=>{const{recallReason:r,maintenanceNote:i}=e;let s;const l=e.name.split(" (User:")[0];"condition_damaged_needs_maintenance"===r?(s={status:"maintenance",location:"location_maintenance_room",condition:i||"N/A",name:l,maintenanceDate:(new Date).toISOString(),isRecalled:!1,allocationDetails:null},ke.success(n("toast_moved_to_maintenance",{quantity:1,itemName:s.name}))):(s={status:"available",location:"location_in_stock",condition:r,name:l,allocationDetails:null,isRecalled:!0},ke.success(n("toast_recalled_to_stock",{quantity:1,itemName:s.name}))),await eg(cp(cg,"users",t.uid,"equipment",e.id),s),a(t=>t.map(t=>t.id===e.id?o(o({},t),s):t)),u({type:"import",reason:"recall",itemName:s.name,quantity:1,details:{returnCondition:r,maintenanceNote:i}})},[t,u,n]),E=(0,e.useCallback)(async(e,r)=>{if(!e)return;const i={status:"maintenance",location:"location_maintenance_room",condition:r||n("recalled_from_user"),name:e.name.split(" (User:")[0],maintenanceDate:(new Date).toISOString(),isRecalled:!1,allocationDetails:null};await eg(cp(cg,"users",t.uid,"equipment",e.id),i),a(t=>t.map(t=>t.id===e.id?o(o({},t),i):t)),u({type:"inventory",reason:"update-note",itemName:i.name,quantity:1,details:{note:i.condition}}),ke.success(n("toast_moved_to_maintenance",{quantity:1,itemName:i.name}))},[t,u,n]),T=(0,e.useCallback)(async(e,i)=>{await eg(cp(cg,"users",t.uid,"equipment",e.id),{condition:i}),a(r.map(t=>t.id===e.id?o(o({},t),{},{condition:i}):t)),u({type:"inventory",reason:"update-note",itemName:e.name,details:{note:i}}),ke.success(n("toast_maintenance_note_updated"))},[t,r,u,n]),j=(0,e.useCallback)(async(e,i,s)=>{const l={key:"condition_repaired",params:{note:{value:i,isKey:s}}};await eg(cp(cg,"users",t.uid,"equipment",e.id),{status:"available",location:"location_in_stock",condition:l}),a(r.map(t=>t.id===e.id?o(o({},t),{},{status:"available",location:"location_in_stock",condition:l}):t)),u({type:"inventory",reason:"repair-complete",itemName:e.name,details:{note:i}}),ke.success(n("toast_repair_complete",{itemName:e.name}))},[t,r,u,n]),I=(0,e.useCallback)(async e=>{await eg(cp(cg,"users",t.uid,"equipment",e.id),{status:"liquidation",location:"location_liquidation_stock"}),a(r.map(t=>t.id===e.id?o(o({},t),{},{status:"liquidation",location:"location_liquidation_stock"}):t)),u({type:"inventory",reason:"unrepairable",itemName:e.name}),ke.success(n("toast_moved_to_liquidation",{itemName:e.name}))},[t,r,u,n]),A=(0,e.useCallback)(async e=>{await tg(cp(cg,"users",t.uid,"equipment",e.id)),a(r.filter(t=>t.id!==e.id)),u({type:"inventory",reason:"liquidated",itemName:e.name}),ke.success(n("toast_item_liquidated_successfully",{itemName:e.name}))},[t,r,u,n]),P=(0,e.useCallback)(()=>{try{const e={equipment:r,transactions:i},t="data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e,null,2))),a=document.createElement("a");a.href=t;const s=(new Date).toISOString().slice(0,10);a.download="it_inventory_backup_".concat(s,".json"),a.click(),ke.success(n("toast_backup_successful"))}catch(e){console.error("Backup failed: ",e),ke.error(n("toast_backup_failed"))}},[r,i,n]),D=(0,e.useCallback)(e=>{if(!e)return;const r=new FileReader;r.onload=async e=>{try{const r=JSON.parse(e.target.result);if(!r.equipment||!r.transactions)return void ke.error(n("toast_invalid_backup_file"));if(!window.confirm(n("confirm_override_data")))return;const a=sg(cg),i=lp(cg,"users",t.uid,"equipment"),s=lp(cg,"users",t.uid,"transactions");(await Zp(i)).forEach(e=>a.delete(e.ref)),(await Zp(s)).forEach(e=>a.delete(e.ref)),r.equipment.forEach(e=>{const{id:t}=e,n=Ne(e,hg),r=cp(i);a.set(r,n)}),r.transactions.forEach(e=>{const{id:t}=e,n=Ne(e,fg),r=cp(s);a.set(r,n)}),await a.commit(),await d(),ke.success(n("toast_data_restored_successfully"))}catch(r){console.error("Error reading or importing backup file: ",r),ke.error(n("toast_error_reading_backup_file"))}},r.readAsText(e)},[t,d,n]),R=(0,e.useCallback)(async()=>{if(t)try{const e=sg(cg),r=lp(cg,"users",t.uid,"equipment"),i=lp(cg,"users",t.uid,"transactions");(await Zp(r)).forEach(t=>e.delete(t.ref)),(await Zp(i)).forEach(t=>e.delete(t.ref)),await e.commit(),a([]),s([]),ke.success(n("toast_data_reset_successful"))}catch(e){console.error("Error resetting data: ",e),ke.error("L\u1ed7i khi reset d\u1eef li\u1ec7u.")}},[t,n]);return{equipment:r,transactions:i,dataLoading:l,addEquipmentType:h,updateMasterName:f,deleteMasterItem:m,updateMasterItem:p,requestFromMaster:g,startPurchasing:y,confirmPurchased:v,cancelOrRevertPurchase:b,cancelWithNote:_,importPurchasedItems:x,addLegacyItem:w,updateItem:k,deleteItem:N,allocateItem:S,recallItem:C,markAsDamaged:E,updateMaintenanceNote:T,completeRepair:j,markUnrepairable:I,liquidateItem:A,backupData:P,importData:D,resetData:R}})(w,x),D=(()=>{const[t,n]=(0,e.useState)({addEdit:!1,delete:!1,view:!1,allocation:!1,cancelNote:!1,editName:!1,recall:!1,info:!1,addFromMaster:!1,note:!1,repairNote:!1,resetConfirm:!1,directMaintenanceNote:!1,userInfo:!1}),[r,a]=(0,e.useState)(null),[i,s]=(0,e.useState)(null),[l,c]=(0,e.useState)("");return{modalState:t,currentItem:r,deleteType:i,infoMessage:l,openModal:(0,e.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(t=>o(o({},t),{},{[e]:!0})),t&&a(t),r.deleteType&&s(r.deleteType),r.infoMessage&&c(r.infoMessage)},[]),closeModal:(0,e.useCallback)(e=>{n(t=>o(o({},t),{},{[e]:!1})),a(null),s(null),c("")},[])}})(),R=(0,e.useMemo)(()=>gg.map(e=>o(o({},e),{},{name:x(e.tKey)})),[x]),O=(0,e.useMemo)(()=>({available:x("available"),"in-use":x("in_use"),maintenance:x("maintenance"),liquidation:x("pending_liquidation"),broken:x("broken"),"out-of-stock":x("out_of_stock"),"pending-purchase":x("pending_purchase"),purchasing:x("purchasing"),purchased:x("purchased")}),[x]),M=(0,e.useMemo)(()=>P.equipment.filter(e=>"pending-purchase"===e.status),[P.equipment]),L=(0,e.useMemo)(()=>P.equipment.filter(e=>"purchasing"===e.status),[P.equipment]),F=(0,e.useMemo)(()=>P.equipment.filter(e=>"purchased"===e.status),[P.equipment]),U=(0,e.useMemo)(()=>P.equipment.filter(e=>"maintenance"===e.status),[P.equipment]),V=(0,e.useMemo)(()=>P.equipment.filter(e=>"liquidation"===e.status),[P.equipment]),q=(0,e.useMemo)(()=>P.equipment.filter(e=>!["pending-purchase","purchasing","purchased","master"].includes(e.status)),[P.equipment]),z=(0,e.useMemo)(()=>q.filter(e=>{var t,n;const{search:r,category:a,importDate:i,status:s,condition:o}=f,l=r.toLowerCase(),c=!l||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l))||(null===(n=e.serialNumber)||void 0===n?void 0:n.toLowerCase().includes(l)),u="all"===a||e.category===a,d=!i||new Date(e.importDate).toLocaleDateString("en-CA")===i,h="all"===s||e.status===s,m="all"===o||("object"===typeof(p=e.condition)&&null!==p?p.key:p)===o;var p;return c&&u&&d&&h&&m}),[q,f]),B=(0,e.useMemo)(()=>P.equipment.filter(e=>{var t,n,r,a;if("in-use"!==e.status)return!1;const{search:i,category:s,department:o,handoverDate:l}=p,c=i.toLowerCase(),u=e.allocationDetails||{},d=!c||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c))||(null===(n=e.serialNumber)||void 0===n?void 0:n.toLowerCase().includes(c))||(null===(r=u.recipientName)||void 0===r?void 0:r.toLowerCase().includes(c))||(null===(a=u.employeeId)||void 0===a?void 0:a.toLowerCase().includes(c)),h="all"===s||e.category===s,f="all"===o||u.department===o,m=!l||new Date(u.handoverDate).toLocaleDateString("en-CA")===l;return d&&h&&f&&m}),[P.equipment,p]),H=(0,e.useMemo)(()=>P.equipment.filter(e=>"master"===e.status),[P.equipment]),K=(0,e.useMemo)(()=>H.length,[H]);(0,e.useEffect)(()=>{localStorage.setItem("theme",a);const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===a){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t)}else e.classList.add(a)},[a]),(0,e.useEffect)(()=>{localStorage.setItem("language",s)},[s]),(0,e.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;h(e),e||_(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const W=e=>{u(e),d&&_(!1)},G=()=>{var e;const t=(null===(e=D.currentItem)||void 0===e?void 0:e.name)||"",n='<strong class="text-red-600">'.concat(t,"</strong>");switch(D.deleteType){case"master":return{title:x("confirm_delete_master_title"),text:x("confirm_delete_master_text",{itemName:n})};case"inventory":return{title:x("confirm_delete_inventory_title"),text:x("confirm_delete_inventory_text",{itemName:n})};case"liquidate":return{title:x("confirm_liquidate_title"),text:x("confirm_liquidate_text",{itemName:n})};case"reset":return{title:x("reset_data"),text:x("are_you_sure_reset_data",{itemName:'<strong class="text-red-600">'.concat(x("all_data"),"</strong>")})};case"move-to-liquidation":return{title:x("confirm_move_to_liquidation_title"),text:x("confirm_move_to_liquidation_text",{itemName:n})};default:return{title:x("confirm"),text:x("are_you_sure_generic")}}},Q=(0,e.useMemo)(()=>({theme:a,setTheme:i,language:s,setLanguage:l,t:x}),[a,s,x]);if(k)return(0,kg.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:"..."});if(!w)return(0,kg.jsxs)(mg.Provider,{value:Q,children:[(0,kg.jsx)(we,{position:"top-center",reverseOrder:!1}),(0,kg.jsx)(Ng,{onLogin:S,onGoogleSignIn:C,onPasswordReset:j,onSignUp:E,t:x})]});if(N)return(0,kg.jsx)(mg.Provider,{value:Q,children:(0,kg.jsx)(Hg,{type:N,t:x,onFinished:I})});if(w&&!w.displayName)return(0,kg.jsxs)(mg.Provider,{value:Q,children:[(0,kg.jsx)(we,{position:"top-center",reverseOrder:!1}),(0,kg.jsx)(Kg,{currentUser:w,onProfileSetupComplete:A,t:x})]});if(P.dataLoading)return(0,kg.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."});return(0,kg.jsx)(mg.Provider,{value:Q,children:(0,kg.jsxs)("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 overflow-hidden",children:[(0,kg.jsx)(Bg,{activeTab:c,setActiveTab:W,currentUser:w,onLogout:T,t:x,isCollapsed:y,toggleSidebar:()=>v(!y),isMobile:d,isMobileOpen:b,setMobileOpen:_,onSettingsClick:()=>W("settings"),onViewProfile:()=>D.openModal("userInfo",w)}),(0,kg.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,kg.jsx)(we,{position:"top-right",reverseOrder:!1,containerStyle:{top:20,right:20}}),(0,kg.jsxs)("header",{className:"lg:hidden sticky top-0 z-30 bg-white dark:bg-gray-800 shadow-md p-4 flex justify-between items-center",children:[(0,kg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,kg.jsx)(Pe,{className:"w-8 h-8 text-blue-600"}),(0,kg.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x("it_inventory")})]}),(0,kg.jsx)("button",{onClick:()=>_(!0),className:"p-2 text-gray-600 dark:text-gray-300","aria-label":"Open menu",children:(0,kg.jsx)(De,{className:"w-6 h-6"})})]}),(0,kg.jsx)("header",{className:"hidden lg:block p-4 sm:p-6 lg:p-8 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,kg.jsx)("div",{className:"flex-grow min-w-0",children:(0,kg.jsx)(Xg,{t:x,equipment:P.equipment,pendingPurchaseCount:M.length,purchasingCount:L.length,purchasedCount:F.length,masterListCount:K,reportsCount:P.transactions.length,setActiveTab:W})})}),(0,kg.jsxs)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 sm:p-6 lg:p-8",children:[(0,kg.jsx)("div",{className:"lg:hidden mb-6 -mx-4 -mt-4 sm:-mx-6 sm:-mt-6",children:(0,kg.jsx)("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,kg.jsx)(Xg,{t:x,equipment:P.equipment,pendingPurchaseCount:M.length,purchasingCount:L.length,purchasedCount:F.length,masterListCount:K,reportsCount:P.transactions.length,setActiveTab:W})})}),(()=>{const e={t:x,categories:R,statusColors:yg,statusLabels:O};switch(c||"inventory"){case"home":default:return(0,kg.jsx)(Gg,o({},e));case"masterList":return(0,kg.jsx)(jy,o(o({},e),{},{allItems:H,fullEquipmentList:P.equipment,onAddType:()=>D.openModal("type"),onEditItem:e=>D.openModal("type",e),onDeleteItem:e=>D.openModal("delete",e,{deleteType:"master"})}));case"pendingPurchase":return(0,kg.jsx)(Ey,o(o({},e),{},{items:M,onStartPurchase:P.startPurchasing,onDeleteItem:P.cancelOrRevertPurchase,onOpenAddFromMasterModal:()=>D.openModal("addFromMaster")}));case"purchasing":return(0,kg.jsx)(wy,o(o({},e),{},{items:L,onUpdateStatus:P.confirmPurchased,onCancel:(e,t)=>"cancel-purchasing"===e?D.openModal("cancelNote",t):P.cancelOrRevertPurchase(e,t)}));case"purchased":return(0,kg.jsx)(Ny,o(o({},e),{},{items:F,onImportItem:P.importPurchasedItems,fullInventory:P.equipment}));case"inventory":return(0,kg.jsx)(oy,o(o({},e),{},{equipment:z,unfilteredEquipment:q,filters:f,setFilters:m,onEditItem:e=>D.openModal("addEdit",e),onDeleteItem:e=>D.openModal("delete",e,{deleteType:"inventory"}),onViewItem:e=>D.openModal("view",e),onAllocateItem:e=>D.openModal("allocation",e),onAddLegacyItem:()=>D.openModal("addEdit")}));case"allocated":return(0,kg.jsx)(Cy,o(o({},e),{},{items:B,unfilteredAllocatedItems:P.equipment.filter(e=>"in-use"===e.status),onRecallItem:e=>D.openModal("recall",e),onMarkDamaged:e=>D.openModal("directMaintenanceNote",e),filters:p,setFilters:g}));case"maintenance":return(0,kg.jsx)(Iy,o(o({},e),{},{items:U,statusLabels:O,statusColors:yg,onRepairComplete:e=>D.openModal("repairNote",e),onMarkUnrepairable:e=>D.openModal("delete",e,{deleteType:"move-to-liquidation"}),onEditNote:e=>D.openModal("note",e)}));case"liquidation":return(0,kg.jsx)(Ay,o(o({},e),{},{items:V,onLiquidateItem:e=>D.openModal("delete",e,{deleteType:"liquidate"})}));case"reports":return(0,kg.jsx)(my,o(o({},e),{},{transactions:P.transactions}));case"settings":return(0,kg.jsx)(xy,o(o({},e),{},{onBackupData:P.backupData,onResetData:()=>D.openModal("delete",null,{deleteType:"reset"}),onImportData:e=>P.importData(e.target.files[0])}));case"account":return(0,kg.jsx)(Tg,o(o({},e),{},{currentUser:w,onPasswordReset:j}))}})()]})]}),(0,kg.jsx)(Vy,{show:D.modalState.type,onClose:()=>D.closeModal("type"),onSubmit:null!==(t=D.currentItem)&&void 0!==t&&t.id?P.updateMasterItem:P.addEquipmentType,categories:R,t:x,initialData:D.currentItem}),(0,kg.jsx)(Dy,{show:D.modalState.addEdit,onClose:()=>D.closeModal("addEdit"),onSubmit:D.currentItem?P.updateItem:P.addLegacyItem,initialData:D.currentItem,categories:R,t:x}),(0,kg.jsx)(Ry,{show:D.modalState.delete,onClose:()=>D.closeModal("delete"),onConfirm:()=>{const{deleteType:e,currentItem:t,closeModal:n}=D;"master"===e?P.deleteMasterItem(t):"inventory"===e?P.deleteItem(t):"liquidate"===e?P.liquidateItem(t):"move-to-liquidation"===e?P.markUnrepairable(t):"reset"===e&&P.resetData(),n("delete")},title:G().title,confirmationText:G().text,t:x}),(0,kg.jsx)(Uy,{show:D.modalState.view,onClose:()=>D.closeModal("view"),item:D.currentItem,categories:R,statusLabels:O,statusColors:yg,t:x}),(0,kg.jsx)(By,{show:D.modalState.allocation,onClose:()=>D.closeModal("allocation"),onSubmit:P.allocateItem,item:D.currentItem,t:x}),(0,kg.jsx)(Hy,{show:D.modalState.cancelNote,onClose:()=>D.closeModal("cancelNote"),onSubmit:e=>P.cancelWithNote(D.currentItem,e),itemName:null===(n=D.currentItem)||void 0===n?void 0:n.name,t:x}),(0,kg.jsx)(Ky,{show:D.modalState.recall,onClose:()=>D.closeModal("recall"),onSubmit:P.recallItem,item:D.currentItem,t:x}),(0,kg.jsx)(Gy,{show:D.modalState.info,onClose:()=>D.closeModal("info"),message:D.infoMessage,t:x}),(0,kg.jsx)(Qy,{show:D.modalState.addFromMaster,onClose:()=>D.closeModal("addFromMaster"),masterItems:H,pendingItems:M,onAddItem:P.requestFromMaster,t:x}),(0,kg.jsx)(Ry,{show:D.modalState.resetConfirm,onClose:()=>D.closeModal("resetConfirm"),onConfirm:P.resetData,title:x("reset_data"),confirmationText:x("are_you_sure_reset_data",{itemName:'<strong class="text-red-600">'.concat(x("all_data"),"</strong>")}),t:x}),(0,kg.jsx)(Xy,{show:D.modalState.note,onClose:()=>D.closeModal("note"),onSubmit:e=>P.updateMaintenanceNote(D.currentItem,e),initialNote:null===(r=D.currentItem)||void 0===r?void 0:r.condition,title:x("edit_failure_note"),t:x}),(0,kg.jsx)(Jy,{show:D.modalState.repairNote,onClose:()=>D.closeModal("repairNote"),onSubmit:P.completeRepair,item:D.currentItem,t:x}),(0,kg.jsx)(Xy,{show:D.modalState.directMaintenanceNote,onClose:()=>D.closeModal("directMaintenanceNote"),onSubmit:e=>{P.markAsDamaged(D.currentItem,e),D.closeModal("directMaintenanceNote")},initialNote:"",title:x("failure_note"),t:x}),(0,kg.jsx)($y,{show:D.modalState.userInfo,onClose:()=>D.closeModal("userInfo"),currentUser:D.currentItem,onPasswordReset:j,t:x})]})})},ev=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:s}=t;n(e),r(e),a(e),i(e),s(e)})};t.createRoot(document.getElementById("root")).render((0,kg.jsx)(e.StrictMode,{children:(0,kg.jsx)(Zy,{})})),ev()})()})();
//# sourceMappingURL=main.730c4bf9.js.map